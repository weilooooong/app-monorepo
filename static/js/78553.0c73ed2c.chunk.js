/*! For license information please see 78553.0c73ed2c.chunk.js.LICENSE.txt */
(self.webpackChunkweb=self.webpackChunkweb||[]).push([[78553],{881393:(e,r,t)=>{"use strict";t.r(r),t.d(r,{bcs:()=>J,crypto_hash:()=>jr,encoding:()=>it,onchain_events:()=>Wn,providers:()=>Un,serde:()=>En,starcoin_types:()=>Sr,types:()=>D,utils:()=>Pn,version:()=>bt});var n=t(266534),i=t(967640),o=t(587017),s=t(621686),a=t(883669),u=t(348833),c=t.n(u),l=t(261278),f=t.n(l),h=t(365279),d=t.n(h),p=t(273756),v=t.n(p),g=t(674898),m=t.n(g),y=t(78011),w=t(276635),_=t(910528),b=t(580221),z=t(287581),k=(t(758254),t(335126),t(402282),t(184545)),P=t.n(k);t(937133);const E=P();var x=t(348834).Buffer;function T(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function N(e,r,t){return r&&T(e.prototype,r),t&&T(e,t),e}function I(){return I=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},I.apply(this,arguments)}function A(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,S(e,r)}function S(e,r){return S=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e},S(e,r)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function O(e,r){var t;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,r){if(e){if("string"===typeof e)return B(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?B(e,r):void 0}}(e))||r&&e&&"number"===typeof e.length){t&&(e=t);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e[Symbol.iterator]()).next.bind(t)}var R={SINGLE:0,MULTI:1};function V(e){var r=e.address+"::"+e.module+"::"+e.name;if(e.type_params&&e.type_params.length>0){r=(r=r.concat("<")).concat(L(e.type_params[0]));for(var t,n=O(e.type_params.slice(1));!(t=n()).done;){var i=t.value;r=r.concat(",").concat(L(i))}r=r.concat(">")}return r}function L(e){if("string"===typeof e)return e.toLowerCase();if("object"===typeof e){if(void 0!==e.Vector)return"vector<"+L(e.Vector)+">";if(void 0!==e.Struct)return V(e.Struct)}}var C="Executed",j="OutOfGas",M="MiscellaneousError";function H(e){return"string"!==typeof e?e.address+"::"+e.module+"::"+e.functionName:e}function F(e){if("string"!==typeof e)return e;var r=e.split("::",3);if(3!==r.length)throw new Error("cannot parse "+e+" into FunctionId");return{address:r[0],module:r[1],functionName:r[2]}}var D={__proto__:null,accountType:R,formatStructTag:V,formatTypeTag:L,TransactionVMStatus_Executed:C,TransactionVMStatus_OutOfGas:j,TransactionVMStatus_MiscellaneousError:M,formatFunctionId:H,parseFunctionId:F},q=function(){function e(e){this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e,0),this.offset=0}var r=e.prototype;return r.read=function(e){var r=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,r},r.deserializeStr=function(){var r=this.deserializeBytes();return e.textDecoder.decode(r)},r.deserializeBytes=function(){var e=this.deserializeLen();if(e<0)throw new Error("Length of a bytes array can't be negative");return new Uint8Array(this.read(e))},r.deserializeBool=function(){return 1==new Uint8Array(this.read(1))[0]},r.deserializeUnit=function(){return null},r.deserializeU8=function(){return new DataView(this.read(1)).getUint8(0)},r.deserializeU16=function(){return new DataView(this.read(2)).getUint16(0,!0)},r.deserializeU32=function(){return new DataView(this.read(4)).getUint32(0,!0)},r.deserializeU64=function(){var r=this.deserializeU32(),t=this.deserializeU32();return BigInt(t)<<e.BIG_32|BigInt(r)},r.deserializeU128=function(){var r=this.deserializeU64(),t=this.deserializeU64();return BigInt(t)<<e.BIG_64|BigInt(r)},r.deserializeI8=function(){return new DataView(this.read(1)).getInt8(0)},r.deserializeI16=function(){return new DataView(this.read(2)).getInt16(0,!0)},r.deserializeI32=function(){return new DataView(this.read(4)).getInt32(0,!0)},r.deserializeI64=function(){var r=this.deserializeI32(),t=this.deserializeI32();return BigInt(t)<<e.BIG_32|BigInt(r)},r.deserializeI128=function(){var r=this.deserializeI64(),t=this.deserializeI64();return BigInt(t)<<e.BIG_64|BigInt(r)},r.deserializeOptionTag=function(){return this.deserializeBool()},r.getBufferOffset=function(){return this.offset},r.deserializeChar=function(){throw new Error("Method deserializeChar not implemented.")},r.deserializeF32=function(){return new DataView(this.read(4)).getFloat32(0,!0)},r.deserializeF64=function(){return new DataView(this.read(8)).getFloat64(0,!0)},e}();q.BIG_32=BigInt(32),q.BIG_64=BigInt(64),q.textDecoder=new TextDecoder;var K=function(e){function r(r){return e.call(this,r)||this}A(r,e);var t=r.prototype;return t.deserializeUleb128AsU32=function(){for(var e=0,t=0;t<32;t+=7){var n=this.deserializeU8(),i=127&n;if((e|=i<<t)<0||e>r.MAX_UINT_32)throw new Error("Overflow while parsing uleb128-encoded uint32 value");if(i==n){if(t>0&&0==i)throw new Error("Invalid uleb128 number (unexpected zero digit)");return e}}throw new Error("Overflow while parsing uleb128-encoded uint32 value")},t.deserializeLen=function(){return this.deserializeUleb128AsU32()},t.deserializeVariantIndex=function(){return this.deserializeUleb128AsU32()},t.checkThatKeySlicesAreIncreasing=function(e,r){},r}(q);K.MAX_UINT_32=Math.pow(2,32)-1;var W=function(){function e(){this.buffer=new ArrayBuffer(64),this.offset=0}var r=e.prototype;return r.ensureBufferWillHandleSize=function(e){for(;this.buffer.byteLength<this.offset+e;){var r=new ArrayBuffer(2*this.buffer.byteLength);new Uint8Array(r).set(new Uint8Array(this.buffer)),this.buffer=r}},r.serialize=function(e){this.ensureBufferWillHandleSize(e.length),new Uint8Array(this.buffer,this.offset).set(e),this.offset+=e.length},r.serializeStr=function(r){this.serializeBytes(e.textEncoder.encode(r))},r.serializeBytes=function(e){this.serializeLen(e.length),this.serialize(e)},r.serializeBool=function(e){var r=e?1:0;this.serialize(new Uint8Array([r]))},r.serializeUnit=function(e){},r.serializeWithFunction=function(e,r,t){this.ensureBufferWillHandleSize(r);var n=new DataView(this.buffer,this.offset);e.apply(n,[0,t,!0]),this.offset+=r},r.serializeU8=function(e){this.serialize(new Uint8Array([e]))},r.serializeU16=function(e){this.serializeWithFunction(DataView.prototype.setUint16,2,e)},r.serializeU32=function(e){this.serializeWithFunction(DataView.prototype.setUint32,4,e)},r.serializeU64=function(r){var t=BigInt(r)&e.BIG_32Fs,n=BigInt(r)>>e.BIG_32;this.serializeU32(Number(t)),this.serializeU32(Number(n))},r.serializeU128=function(r){var t=BigInt(r)&e.BIG_64Fs,n=BigInt(r)>>e.BIG_64;this.serializeU64(t),this.serializeU64(n)},r.serializeI8=function(e){this.ensureBufferWillHandleSize(1),new DataView(this.buffer,this.offset).setInt8(0,e),this.offset+=1},r.serializeI16=function(e){this.ensureBufferWillHandleSize(2),new DataView(this.buffer,this.offset).setInt16(0,e,!0),this.offset+=2},r.serializeI32=function(e){this.ensureBufferWillHandleSize(4),new DataView(this.buffer,this.offset).setInt32(0,e,!0),this.offset+=4},r.serializeI64=function(r){var t=BigInt(r)&e.BIG_32Fs,n=BigInt(r)>>e.BIG_32;this.serializeI32(Number(t)),this.serializeI32(Number(n))},r.serializeI128=function(r){var t=BigInt(r)&e.BIG_64Fs,n=BigInt(r)>>e.BIG_64;this.serializeI64(t),this.serializeI64(n)},r.serializeOptionTag=function(e){this.serializeBool(e)},r.getBufferOffset=function(){return this.offset},r.getBytes=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},r.serializeChar=function(e){throw new Error("Method serializeChar not implemented.")},r.serializeF32=function(e){this.ensureBufferWillHandleSize(4),new DataView(this.buffer,this.offset).setFloat32(0,e,!0),this.offset+=4},r.serializeF64=function(e){this.ensureBufferWillHandleSize(8),new DataView(this.buffer,this.offset).setFloat64(0,e,!0),this.offset+=8},e}();W.BIG_32=BigInt(32),W.BIG_64=BigInt(64),W.BIG_32Fs=BigInt("4294967295"),W.BIG_64Fs=BigInt("18446744073709551615"),W.textEncoder=new TextEncoder;var G=function(e){function r(){return e.call(this)||this}A(r,e);var t=r.prototype;return t.serializeU32AsUleb128=function(e){for(var r=[];e>>>7!=0;)r.push(127&e|128),e>>>=7;r.push(e),this.serialize(new Uint8Array(r))},t.serializeLen=function(e){this.serializeU32AsUleb128(e)},t.serializeVariantIndex=function(e){this.serializeU32AsUleb128(e)},t.sortMapEntries=function(e){},r}(W),J={__proto__:null,BcsDeserializer:K,BcsSerializer:G};function Z(e){return("00000000000000000000000000000000"+(e>>>0).toString(2)).slice(-32)}function X(e){return Number.parseInt(Number.parseInt(e,2).toString(10),10)}function $(e){var r=Z(e).match(/.{1,8}/g);return Uint8Array.from(r.map((function(e){return X(e)})))}function Q(e){var r=[];return e.forEach((function(e){return r.push(Z(e).slice(-8))})),X(r.join(""))}function Y(e,r){if(r>31||r<0)throw new Error("mask: invalid idx at "+r+", should be between 0 and 31");return e|1<<32-r-1}function ee(e,r){if(r>31||r<0)throw new Error("mask: invalid idx at "+r+", should be between 0 and 31");return(e>>32-r-1)%2!==0}var re={__proto__:null,dec2bin:Z,bin2dec:X,dec2uint8array:$,uint8array2dec:Q,setBit:Y,isSetBit:ee},te="Key or signature material deserializes, but is otherwise not valid",ne="Key, threshold or signature material does not have the expected size",ie="BitVec errors in accountable multi-sig schemes",oe=function(){function e(e,r){this.field0=e,this.field1=r}return e.prototype.serialize=function(e){this.field0.serialize(e),this.field1.serialize(e)},e.deserialize=function(r){return new e(se.deserialize(r),ve.deserialize(r))},e}(),se=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){xr.serializeArray16U8Array(this.value,e)},e.deserialize=function(r){return new e(xr.deserializeArray16U8Array(r))},e}();se.LENGTH=16;var ae=function(){function e(e,r,t,n,i,o,s){this.authentication_key=e,this.withdrawal_capability=r,this.key_rotation_capability=t,this.withdraw_events=n,this.deposit_events=i,this.accept_token_events=o,this.sequence_number=s}return e.prototype.serialize=function(e){xr.serializeVectorU8(this.authentication_key,e),xr.serializeOptionWithdrawCapabilityResource(this.withdrawal_capability,e),xr.serializeOptionKeyRotationCapabilityResource(this.key_rotation_capability,e),this.withdraw_events.serialize(e),this.deposit_events.serialize(e),this.accept_token_events.serialize(e),e.serializeU64(this.sequence_number)},e.deserialize=function(r){return new e(xr.deserializeVectorU8(r),xr.deserializeOptionWithdrawCapabilityResource(r),xr.deserializeOptionKeyRotationCapabilityResource(r),Pe.deserialize(r),Pe.deserialize(r),Pe.deserialize(r),r.deserializeU64())},e}(),ue=function(){function e(e,r){this.name=e,this.type_tag=r}return e.prototype.serialize=function(e){e.serializeStr(this.name),this.type_tag.serialize(e)},e.deserialize=function(r){return new e(r.deserializeStr(),fr.deserialize(r))},e}(),ce=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){e.serializeBytes(this.value)},e.deserialize=function(r){return new e(r.deserializeBytes())},e}(),le=function(){function e(e,r,t,n,i,o,s,a){this.parent_hash=e,this.timestamp=r,this.author=t,this.author_auth_key=n,this.uncles=i,this.number=o,this.chain_id=s,this.parent_gas_used=a}return e.prototype.serialize=function(e){this.parent_hash.serialize(e),e.serializeU64(this.timestamp),this.author.serialize(e),xr.serializeOptionAuthenticationKey(this.author_auth_key,e),e.serializeU64(this.uncles),e.serializeU64(this.number),this.chain_id.serialize(e),e.serializeU64(this.parent_gas_used)},e.deserialize=function(r){return new e(xe.deserialize(r),r.deserializeU64(),se.deserialize(r),xr.deserializeOptionAuthenticationKey(r),r.deserializeU64(),r.deserializeU64(),fe.deserialize(r),r.deserializeU64())},e}(),fe=function(){function e(e){this.id=e}return e.prototype.serialize=function(e){e.serializeU8(this.id)},e.deserialize=function(r){return new e(r.deserializeU8())},e}(),he=function(){function e(){}return e.deserialize=function(e){var r=e.deserializeVariantIndex();if(0===r)return de.load(e);throw new Error("Unknown variant index for ContractEvent: "+r)},e}(),de=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(0),this.value.serialize(e)},r.load=function(e){return new r(pe.deserialize(e))},r}(he),pe=function(){function e(e,r,t,n){this.key=e,this.sequence_number=r,this.type_tag=t,this.event_data=n}return e.prototype.serialize=function(e){this.key.serialize(e),e.serializeU64(this.sequence_number),this.type_tag.serialize(e),e.serializeBytes(this.event_data)},e.deserialize=function(r){return new e(Ee.deserialize(r),r.deserializeU64(),fr.deserialize(r),r.deserializeBytes())},e}(),ve=function(){function e(){}return e.deserialize=function(e){var r=e.deserializeVariantIndex();switch(r){case 0:return ge.load(e);case 1:return me.load(e);default:throw new Error("Unknown variant index for DataPath: "+r)}},e}(),ge=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(0),this.value.serialize(e)},r.load=function(e){return new r(Te.deserialize(e))},r}(ve),me=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(1),this.value.serialize(e)},r.load=function(e){return new r(Ke.deserialize(e))},r}(ve),ye=function(){function e(){}return e.deserialize=function(e){var r=e.deserializeVariantIndex();switch(r){case 0:return we.load(e);case 1:return _e.load(e);default:throw new Error("Unknown variant index for DataType: "+r)}},e}(),we=function(e){function r(){return e.call(this)||this}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(0)},r.load=function(e){return new r},r}(ye),_e=function(e){function r(){return e.call(this)||this}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(1)},r.load=function(e){return new r},r}(ye),be=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){e.serializeBytes(this.value)},e.deserialize=function(r){return new e(r.deserializeBytes())},e}(),ze=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){e.serializeBytes(this.value)},e.deserialize=function(r){return new e(r.deserializeBytes())},e}(),ke=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){e.serializeBytes(this.value)},e.deserialize=function(r){return new e(r.deserializeBytes())},e}(),Pe=function(){function e(e,r){this.count=e,this.key=r}return e.prototype.serialize=function(e){e.serializeU64(this.count),this.key.serialize(e)},e.deserialize=function(r){return new e(r.deserializeU64(),Ee.deserialize(r))},e}(),Ee=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){e.serializeBytes(this.value)},e.deserialize=function(r){return new e(r.deserializeBytes())},e}(),xe=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){e.serializeBytes(this.value)},e.deserialize=function(r){return new e(r.deserializeBytes())},e}(),Te=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){e.serializeStr(this.value)},e.deserialize=function(r){return new e(r.deserializeStr())},e}(),Ne=function(){function e(e){this.account_address=e}return e.prototype.serialize=function(e){this.account_address.serialize(e)},e.deserialize=function(r){return new e(se.deserialize(r))},e}(),Ie=function(){function e(e){this.code=e}return e.prototype.serialize=function(e){e.serializeBytes(this.code)},e.deserialize=function(r){return new e(r.deserializeBytes())},e}(),Ae=function(){function e(e,r){this.address=e,this.name=r}return e.prototype.serialize=function(e){this.address.serialize(e),this.name.serialize(e)},e.deserialize=function(r){return new e(se.deserialize(r),Te.deserialize(r))},e}(),Se=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){e.serializeBytes(this.value)},e.deserialize=function(r){return new e(r.deserializeBytes())},e}(),Ue=function(){function e(e,r){this.public_keys=e,this.threshold=r;var t=e.length;if(0===r||t<r)throw new Error(te);if(t>32)throw new Error(ne)}var r=e.prototype;return r.serialize=function(e){e.serializeBytes(this.value())},e.deserialize=function(r){for(var t=r.deserializeBytes(),n=[],i=(t.length-1)/32,o=0;o<i;o++){var s=32*o,a=s+32;n.push(new ze(t.slice(s,a)))}return new e(n,new DataView(t.slice(-1).buffer,0).getUint8(0))},r.value=function(){var e=[];this.public_keys.forEach((function(r){e.push(r.value)}));var r=new Uint8Array(1);return r[0]=this.threshold,(0,i.concat)([].concat(e,r))},e}(),Be=function(){function e(e,r){this.signatures=e,this.bitmap=r}e.build=function(r){var t=r.length;if(0===t||t>32)throw new Error(te);var n=r.sort((function(e,r){return e[1]>r[1]?1:-1})),i=[],o=0;return n.forEach((function(e,r){if(console.log(e,r),e[1]>=32)throw new Error(ie+": Signature index is out of range");if(ee(o,e[1]))throw new Error(ie+": Duplicate signature index");i.push(e[0]),o=Y(o,e[1])})),new e(i,o)};var r=e.prototype;return r.serialize=function(e){e.serializeBytes(this.value())},e.deserialize=function(r){for(var t=r.deserializeBytes(),n=[],i=(t.length-4)/64,o=0;o<i;o++){var s=64*o,a=s+64;n.push(new ke(t.slice(s,a)))}return new e(n,Q(t.slice(-4)))},r.value=function(){var e=[];this.signatures.forEach((function(r){e.push(r.value)}));var r=$(this.bitmap);return(0,i.concat)([].concat(e,r))},e}(),Oe=function(){function e(e,r){this.signature=e,this.threshold=r}var r=e.prototype;return r.signatures=function(){var e=this.signature.signatures,r=this.signature.bitmap,t=[],n=0;return e.forEach((function(e,i){for(;!ee(r,n);)n+=1;t.push([e,n]),n+=1})),t},e.merge=function(r){if(0===r.length)throw new Error("MultiEd25519SignatureShard shards is empty");var t=r[0].threshold,n=[];return r.forEach((function(e){if(e.threshold!==t)throw new Error("MultiEd25519SignatureShard shards threshold not same");n.push.apply(n,e.signatures())})),new e(Be.build(n),t)},r.is_enough=function(){return this.signature.signatures.length>=this.threshold},e}(),Re=function(){function e(e,r,t){this.public_keys=e,this.threshold=r,this.private_keys=t;var n=e.length,i=Object.keys(t).length;if(0===r||0===i||n<r)throw new Error(te);if(i>32||n>32)throw new Error(ne)}var r=e.prototype;return r.serialize=function(e){var r=this;e.serializeU8(this.public_keys.length),e.serializeU8(this.threshold),e.serializeU8(this.len()),this.public_keys.forEach((function(r){r.serialize(e)})),Object.keys(this.private_keys).forEach((function(t){e.serializeU8(Number.parseInt(t,10)),r.private_keys[t].serialize(e)}))},e.deserialize=function(r){for(var t=r.deserializeU8(),n=r.deserializeU8(),i=r.deserializeU8(),o=[],s=0;s<t;s++)o.push(ze.deserialize(r));for(var a=0;a<i;a++){var u=r.deserializeU8(),c=be.deserialize(r);o[u]=c}return new e(o,n,[])},r.publicKey=function(){return new Ue(this.public_keys,this.threshold)},r.privateKeys=function(){return Object.values(this.private_keys)},r.privateKey=function(){var e=new Uint8Array(3);e[0]=this.public_keys.length,e[1]=this.threshold,e[2]=this.len();var r=[];this.public_keys.forEach((function(e){r.push(e.value)}));var t=[];return Object.values(this.private_keys).forEach((function(e){t.push(e.value)})),(0,i.concat)([e].concat(r,t))},r.len=function(){return Object.values(this.private_keys).length},r.isEmpty=function(){return 0===this.len()},e}(),Ve=function(){function e(e,r,t){this.package_address=e,this.modules=r,this.init_script=t}return e.prototype.serialize=function(e){this.package_address.serialize(e),xr.serializeVectorModule(this.modules,e),xr.serializeOptionScriptFunction(this.init_script,e)},e.deserialize=function(r){return new e(se.deserialize(r),xr.deserializeVectorModule(r),xr.deserializeOptionScriptFunction(r))},e}(),Le=function(){function e(e,r,t,n,i,o,s,a){this.sender=e,this.sequence_number=r,this.payload=t,this.max_gas_amount=n,this.gas_unit_price=i,this.gas_token_code=o,this.expiration_timestamp_secs=s,this.chain_id=a}return e.prototype.serialize=function(e){this.sender.serialize(e),e.serializeU64(this.sequence_number),this.payload.serialize(e),e.serializeU64(this.max_gas_amount),e.serializeU64(this.gas_unit_price),e.serializeStr(this.gas_token_code),e.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(e)},e.deserialize=function(r){return new e(se.deserialize(r),r.deserializeU64(),or.deserialize(r),r.deserializeU64(),r.deserializeU64(),r.deserializeStr(),r.deserializeU64(),fe.deserialize(r))},e}(),Ce=function(){function e(e,r,t){this.code=e,this.ty_args=r,this.args=t}return e.prototype.serialize=function(e){e.serializeBytes(this.code),xr.serializeVectorTypeTag(this.ty_args,e),xr.serializeVectorBytes(this.args,e)},e.deserialize=function(r){return new e(r.deserializeBytes(),xr.deserializeVectorTypeTag(r),xr.deserializeVectorBytes(r))},e}(),je=function(){function e(){}return e.deserialize=function(e){var r=e.deserializeVariantIndex();switch(r){case 0:return Me.load(e);case 1:return He.load(e);default:throw new Error("Unknown variant index for ScriptABI: "+r)}},e}(),Me=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(0),this.value.serialize(e)},r.load=function(e){return new r(cr.deserialize(e))},r}(je),He=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(1),this.value.serialize(e)},r.load=function(e){return new r(De.deserialize(e))},r}(je),Fe=function(){function e(e,r,t,n){this.module=e,this.func=r,this.ty_args=t,this.args=n}return e.prototype.serialize=function(e){this.module.serialize(e),this.func.serialize(e),xr.serializeVectorTypeTag(this.ty_args,e),xr.serializeVectorBytes(this.args,e)},e.deserialize=function(r){return new e(Ae.deserialize(r),Te.deserialize(r),xr.deserializeVectorTypeTag(r),xr.deserializeVectorBytes(r))},e}(),De=function(){function e(e,r,t,n,i){this.name=e,this.module_name=r,this.doc=t,this.ty_args=n,this.args=i}return e.prototype.serialize=function(e){e.serializeStr(this.name),this.module_name.serialize(e),e.serializeStr(this.doc),xr.serializeVectorTypeArgumentAbi(this.ty_args,e),xr.serializeVectorArgumentAbi(this.args,e)},e.deserialize=function(r){return new e(r.deserializeStr(),Ae.deserialize(r),r.deserializeStr(),xr.deserializeVectorTypeArgumentAbi(r),xr.deserializeVectorArgumentAbi(r))},e}(),qe=function(){function e(e,r){this.raw_txn=e,this.authenticator=r}return e.prototype.serialize=function(e){this.raw_txn.serialize(e),this.authenticator.serialize(e)},e.deserialize=function(r){return new e(Le.deserialize(r),tr.deserialize(r))},e.ed25519=function(r,t,n){return new e(r,new nr(t,n))},e.multi_ed25519=function(r,t,n){return new e(r,new ir(t,n))},e}(),Ke=function(){function e(e,r,t,n){this.address=e,this.module=r,this.name=t,this.type_params=n}return e.prototype.serialize=function(e){this.address.serialize(e),this.module.serialize(e),this.name.serialize(e),xr.serializeVectorTypeTag(this.type_params,e)},e.deserialize=function(r){return new e(se.deserialize(r),Te.deserialize(r),Te.deserialize(r),xr.deserializeVectorTypeTag(r))},e}(),We=function(){function e(){}return e.deserialize=function(e){var r=e.deserializeVariantIndex();switch(r){case 0:return Ge.load(e);case 1:return Je.load(e);default:throw new Error("Unknown variant index for Transaction: "+r)}},e}(),Ge=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(0),this.value.serialize(e)},r.load=function(e){return new r(qe.deserialize(e))},r}(We),Je=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(1),this.value.serialize(e)},r.load=function(e){return new r(le.deserialize(e))},r}(We),Ze=function(){function e(){}return e.deserialize=function(e){var r=e.deserializeVariantIndex();switch(r){case 0:return Xe.load(e);case 1:return $e.load(e);case 2:return Qe.load(e);case 3:return Ye.load(e);case 4:return er.load(e);case 5:return rr.load(e);default:throw new Error("Unknown variant index for TransactionArgument: "+r)}},e}(),Xe=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(0),e.serializeU8(this.value)},r.load=function(e){return new r(e.deserializeU8())},r}(Ze),$e=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(1),e.serializeU64(this.value)},r.load=function(e){return new r(e.deserializeU64())},r}(Ze),Qe=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(2),e.serializeU128(this.value)},r.load=function(e){return new r(e.deserializeU128())},r}(Ze),Ye=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(3),this.value.serialize(e)},r.load=function(e){return new r(se.deserialize(e))},r}(Ze),er=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(4),e.serializeBytes(this.value)},r.load=function(e){return new r(e.deserializeBytes())},r}(Ze),rr=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(5),e.serializeBool(this.value)},r.load=function(e){return new r(e.deserializeBool())},r}(Ze),tr=function(){function e(){}return e.deserialize=function(e){var r=e.deserializeVariantIndex();switch(r){case 0:return nr.load(e);case 1:return ir.load(e);default:throw new Error("Unknown variant index for TransactionAuthenticator: "+r)}},e}(),nr=function(e){function r(r,t){var n;return(n=e.call(this)||this).public_key=r,n.signature=t,n}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(0),this.public_key.serialize(e),this.signature.serialize(e)},r.load=function(e){return new r(ze.deserialize(e),ke.deserialize(e))},r}(tr),ir=function(e){function r(r,t){var n;return(n=e.call(this)||this).public_key=r,n.signature=t,n}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(1),this.public_key.serialize(e),this.signature.serialize(e)},r.load=function(e){return new r(Ue.deserialize(e),Be.deserialize(e))},r}(tr),or=function(){function e(){}return e.deserialize=function(e){var r=e.deserializeVariantIndex();switch(r){case 0:return sr.load(e);case 1:return ar.load(e);case 2:return ur.load(e);default:throw new Error("Unknown variant index for TransactionPayload: "+r)}},e}(),sr=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(0),this.value.serialize(e)},r.load=function(e){return new r(Ce.deserialize(e))},r}(or),ar=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(1),this.value.serialize(e)},r.load=function(e){return new r(Ve.deserialize(e))},r}(or),ur=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(2),this.value.serialize(e)},r.load=function(e){return new r(Fe.deserialize(e))},r}(or),cr=function(){function e(e,r,t,n,i){this.name=e,this.doc=r,this.code=t,this.ty_args=n,this.args=i}return e.prototype.serialize=function(e){e.serializeStr(this.name),e.serializeStr(this.doc),e.serializeBytes(this.code),xr.serializeVectorTypeArgumentAbi(this.ty_args,e),xr.serializeVectorArgumentAbi(this.args,e)},e.deserialize=function(r){return new e(r.deserializeStr(),r.deserializeStr(),r.deserializeBytes(),xr.deserializeVectorTypeArgumentAbi(r),xr.deserializeVectorArgumentAbi(r))},e}(),lr=function(){function e(e){this.name=e}return e.prototype.serialize=function(e){e.serializeStr(this.name)},e.deserialize=function(r){return new e(r.deserializeStr())},e}(),fr=function(){function e(){}return e.deserialize=function(e){var r=e.deserializeVariantIndex();switch(r){case 0:return hr.load(e);case 1:return dr.load(e);case 2:return pr.load(e);case 3:return vr.load(e);case 4:return gr.load(e);case 5:return mr.load(e);case 6:return yr.load(e);case 7:return wr.load(e);default:throw new Error("Unknown variant index for TypeTag: "+r)}},e}(),hr=function(e){function r(){return e.call(this)||this}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(0)},r.load=function(e){return new r},r}(fr),dr=function(e){function r(){return e.call(this)||this}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(1)},r.load=function(e){return new r},r}(fr),pr=function(e){function r(){return e.call(this)||this}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(2)},r.load=function(e){return new r},r}(fr),vr=function(e){function r(){return e.call(this)||this}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(3)},r.load=function(e){return new r},r}(fr),gr=function(e){function r(){return e.call(this)||this}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(4)},r.load=function(e){return new r},r}(fr),mr=function(e){function r(){return e.call(this)||this}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(5)},r.load=function(e){return new r},r}(fr),yr=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(6),this.value.serialize(e)},r.load=function(e){return new r(fr.deserialize(e))},r}(fr),wr=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(7),this.value.serialize(e)},r.load=function(e){return new r(Ke.deserialize(e))},r}(fr),_r=function(){function e(e){this.account_address=e}return e.prototype.serialize=function(e){this.account_address.serialize(e)},e.deserialize=function(r){return new e(se.deserialize(r))},e}(),br=function(){function e(){}return e.deserialize=function(e){var r=e.deserializeVariantIndex();switch(r){case 0:return zr.load(e);case 1:return kr.load(e);default:throw new Error("Unknown variant index for WriteOp: "+r)}},e}(),zr=function(e){function r(){return e.call(this)||this}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(0)},r.load=function(e){return new r},r}(br),kr=function(e){function r(r){var t;return(t=e.call(this)||this).value=r,t}return A(r,e),r.prototype.serialize=function(e){e.serializeVariantIndex(1),e.serializeBytes(this.value)},r.load=function(e){return new r(e.deserializeBytes())},r}(br),Pr=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){this.value.serialize(e)},e.deserialize=function(r){return new e(Er.deserialize(r))},e}(),Er=function(){function e(e){this.write_set=e}return e.prototype.serialize=function(e){xr.serializeVectorTuple2AccessPathWriteOp(this.write_set,e)},e.deserialize=function(r){return new e(xr.deserializeVectorTuple2AccessPathWriteOp(r))},e}(),xr=function(){function e(){}return e.serializeArray16U8Array=function(e,r){e.forEach((function(e){r.serializeU8(e[0])}))},e.deserializeArray16U8Array=function(e){for(var r=[],t=0;t<16;t++)r.push([e.deserializeU8()]);return r},e.serializeOptionAuthenticationKey=function(e,r){e?(r.serializeOptionTag(!0),e.serialize(r)):r.serializeOptionTag(!1)},e.deserializeOptionAuthenticationKey=function(e){return e.deserializeOptionTag()?ce.deserialize(e):null},e.serializeOptionKeyRotationCapabilityResource=function(e,r){e?(r.serializeOptionTag(!0),e.serialize(r)):r.serializeOptionTag(!1)},e.deserializeOptionKeyRotationCapabilityResource=function(e){return e.deserializeOptionTag()?Ne.deserialize(e):null},e.serializeOptionScriptFunction=function(e,r){e?(r.serializeOptionTag(!0),e.serialize(r)):r.serializeOptionTag(!1)},e.deserializeOptionScriptFunction=function(e){return e.deserializeOptionTag()?Fe.deserialize(e):null},e.serializeOptionWithdrawCapabilityResource=function(e,r){e?(r.serializeOptionTag(!0),e.serialize(r)):r.serializeOptionTag(!1)},e.deserializeOptionWithdrawCapabilityResource=function(e){return e.deserializeOptionTag()?_r.deserialize(e):null},e.serializeTuple2AccessPathWriteOp=function(e,r){e[0].serialize(r),e[1].serialize(r)},e.deserializeTuple2AccessPathWriteOp=function(e){return[oe.deserialize(e),br.deserialize(e)]},e.serializeVectorArgumentAbi=function(e,r){r.serializeLen(e.length),e.forEach((function(e){e.serialize(r)}))},e.deserializeVectorArgumentAbi=function(e){for(var r=e.deserializeLen(),t=[],n=0;n<r;n++)t.push(ue.deserialize(e));return t},e.serializeVectorModule=function(e,r){r.serializeLen(e.length),e.forEach((function(e){e.serialize(r)}))},e.deserializeVectorModule=function(e){for(var r=e.deserializeLen(),t=[],n=0;n<r;n++)t.push(Ie.deserialize(e));return t},e.serializeVectorTypeArgumentAbi=function(e,r){r.serializeLen(e.length),e.forEach((function(e){e.serialize(r)}))},e.deserializeVectorTypeArgumentAbi=function(e){for(var r=e.deserializeLen(),t=[],n=0;n<r;n++)t.push(lr.deserialize(e));return t},e.serializeVectorTypeTag=function(e,r){r.serializeLen(e.length),e.forEach((function(e){e.serialize(r)}))},e.deserializeVectorTypeTag=function(e){for(var r=e.deserializeLen(),t=[],n=0;n<r;n++)t.push(fr.deserialize(e));return t},e.serializeVectorBytes=function(e,r){r.serializeLen(e.length),e.forEach((function(e){r.serializeBytes(e)}))},e.deserializeVectorBytes=function(e){for(var r=e.deserializeLen(),t=[],n=0;n<r;n++)t.push(e.deserializeBytes());return t},e.serializeVectorTuple2AccessPathWriteOp=function(r,t){t.serializeLen(r.length),r.forEach((function(r){e.serializeTuple2AccessPathWriteOp(r,t)}))},e.deserializeVectorTuple2AccessPathWriteOp=function(r){for(var t=r.deserializeLen(),n=[],i=0;i<t;i++)n.push(e.deserializeTuple2AccessPathWriteOp(r));return n},e.serializeVectorU8=function(e,r){r.serializeLen(e.length),e.forEach((function(e){r.serializeU8(e)}))},e.deserializeVectorU8=function(e){for(var r=e.deserializeLen(),t=[],n=0;n<r;n++)t.push(e.deserializeU8());return t},e}(),Tr=function(){function e(e){this.value=e}var r=e.prototype;return r.serialize=function(e){e.serializeBytes(this.value)},r.hex=function(){return x.from(this.value).toString("hex")},e}(),Nr=function(){function e(e,r){this.accountAddress=e,this.authKey=r}return e.prototype.encode=function(){var e=new G;this.accountAddress.serialize(e);var r=x.concat([x.from(e.getBytes()),x.from(this.authKey.value)]),t=n.bech32.toWords(r),i=[Number("1")].concat(t);return n.bech32.encode("stc",i)},e.decode=function(r){var t=n.bech32.decode(r).words.slice(1),i=x.from(n.bech32.fromWords(t)),o=i.slice(0,se.LENGTH),s=i.slice(se.LENGTH);return new e(se.deserialize(new K(o)),new Tr(s))},e}(),Ir=function(){function e(e){this.message=e}return e.prototype.serialize=function(e){e.serializeBytes(this.message)},e.deserialize=function(r){return new e(r.deserializeBytes())},e}(),Ar=function(){function e(e,r,t,n){this.account=e,this.message=r,this.authenticator=t,this.chain_id=n}return e.prototype.serialize=function(e){this.account.serialize(e),this.message.serialize(e),this.authenticator.serialize(e),this.chain_id.serialize(e)},e.deserialize=function(r){return new e(se.deserialize(r),Ir.deserialize(r),tr.deserialize(r),fe.deserialize(r))},e}(),Sr={__proto__:null,AccessPath:oe,AccountAddress:se,AccountResource:ae,ArgumentABI:ue,AuthenticationKey:ce,BlockMetadata:le,ChainId:fe,ContractEvent:he,ContractEventVariantV0:de,ContractEventV0:pe,DataPath:ve,DataPathVariantCode:ge,DataPathVariantResource:me,DataType:ye,DataTypeVariantCODE:we,DataTypeVariantRESOURCE:_e,Ed25519PrivateKey:be,Ed25519PublicKey:ze,Ed25519Signature:ke,EventHandle:Pe,EventKey:Ee,HashValue:xe,Identifier:Te,KeyRotationCapabilityResource:Ne,Module:Ie,ModuleId:Ae,MultiEd25519PrivateKey:Se,MultiEd25519PublicKey:Ue,MultiEd25519Signature:Be,MultiEd25519SignatureShard:Oe,MultiEd25519KeyShard:Re,Package:Ve,RawUserTransaction:Le,Script:Ce,ScriptABI:je,ScriptABIVariantTransactionScript:Me,ScriptABIVariantScriptFunction:He,ScriptFunction:Fe,ScriptFunctionABI:De,SignedUserTransaction:qe,StructTag:Ke,Transaction:We,TransactionVariantUserTransaction:Ge,TransactionVariantBlockMetadata:Je,TransactionArgument:Ze,TransactionArgumentVariantU8:Xe,TransactionArgumentVariantU64:$e,TransactionArgumentVariantU128:Qe,TransactionArgumentVariantAddress:Ye,TransactionArgumentVariantU8Vector:er,TransactionArgumentVariantBool:rr,TransactionAuthenticator:tr,TransactionAuthenticatorVariantEd25519:nr,TransactionAuthenticatorVariantMultiEd25519:ir,TransactionPayload:or,TransactionPayloadVariantScript:sr,TransactionPayloadVariantPackage:ar,TransactionPayloadVariantScriptFunction:ur,TransactionScriptABI:cr,TypeArgumentABI:lr,TypeTag:fr,TypeTagVariantBool:hr,TypeTagVariantU8:dr,TypeTagVariantU64:pr,TypeTagVariantU128:vr,TypeTagVariantAddress:gr,TypeTagVariantSigner:mr,TypeTagVariantVector:yr,TypeTagVariantStruct:wr,WithdrawCapabilityResource:_r,WriteOp:br,WriteOpVariantDeletion:zr,WriteOpVariantValue:kr,WriteSet:Pr,WriteSetMut:Er,Helpers:xr,AuthKey:Tr,ReceiptIdentifier:Nr,SigningMessage:Ir,SignedMessage:Ar},Ur=t(577834).Buffer,Br=t(883669).sha3_256,Or=function(){function e(e){if(e){var r=new Uint8Array(Ur.from("STARCOIN::"+e)),t=Br.create();t.update(r),this.salt=new Uint8Array(t.arrayBuffer())}}var r=e.prototype;return r.crypto_hash=function(e){var r=Br.create();return this.salt&&r.update(this.salt),r.update((0,i.arrayify)(e)),(0,o.addHexPrefix)(r.hex())},r.get_salt=function(){return this.salt},e}();function Rr(e){return new Or(e)}function Vr(){return Rr("SignedUserTransaction")}function Lr(){return Rr("RawUserTransaction")}function Cr(){return Rr("SigningMessage")}var jr={__proto__:null,createHash:Rr,createUserTransactionHasher:Vr,createRawUserTransactionHasher:Lr,createSigningMessageHasher:Cr};function Mr(e){return"0x"+x.from(new Uint8Array(e)).toString("hex")}function Hr(e,r){e.startsWith("0x")&&(e=e.substring(2)),r?e.length<r&&(e=Fr(e,r)):e.length%2!=0&&(e="0"+e);var t=x.from(e,"hex");return new Uint8Array(t)}function Fr(e,r,t){return new Array(r-e.length+1).join(t||"0")+e}var Dr={__proto__:null,toHexString:Mr,fromHexString:Hr,padLeft:Fr,padRight:function(e,r,t){return e+new Array(r-e.length+1).join(t||"0")}},qr=function(e){try{return Promise.resolve((0,s.getPublicKey)((0,o.stripHexPrefix)(e))).then(i.hexlify)}catch(r){return Promise.reject(r)}};function Kr(e,r){var t=new K((0,i.arrayify)(r));return e.deserialize(t)}function Wr(e){var r=new G;return e.serialize(r),Mr(r.getBytes())}function Gr(e){var r,t=(0,i.arrayify)(e),n=function(){var e=new K(t);return qe.deserialize(e)}();if(n.authenticator instanceof nr){r={Ed25519:{public_key:(0,i.hexlify)(n.authenticator.public_key.value),signature:(0,i.hexlify)(n.authenticator.signature.value)}}}else{var o=n.authenticator;r={MultiEd25519:{public_key:(0,i.hexlify)(o.public_key.value()),signature:(0,i.hexlify)(o.signature.value())}}}var s=n.raw_txn,a=function(){var e=new G;return s.payload.serialize(e),(0,i.hexlify)(e.getBytes())}();return{transaction_hash:Vr().crypto_hash(t),raw_txn:{sender:Xr(s.sender),sequence_number:s.sequence_number,payload:a,max_gas_amount:s.max_gas_amount,gas_unit_price:s.gas_unit_price,gas_token_code:s.gas_token_code,expiration_timestamp_secs:s.expiration_timestamp_secs,chain_id:s.chain_id.id},authenticator:r}}function Jr(e){var r=new K((0,i.arrayify)((0,o.addHexPrefix)(e)));return ar.load(r)}function Zr(e){var r=Hr(e,32);return se.deserialize(new K(r))}function Xr(e){return Mr(e.value.map((function(e){return e[0]})))}function $r(e){if("Bool"===e)return new hr;if("U8"===e)return new dr;if("U128"===e)return new vr;if("U64"===e)return new pr;if("Address"===e)return new gr;if("Signer"===e)return new mr;if("Vector"in e)return new yr($r(e.Vector));if("Struct"in e)return new wr(Qr(e.Struct));throw new Error("invalid type tag: "+e)}function Qr(e){return new Ke(Zr(e.address),new Te(e.module),new Te(e.name),e.type_params?e.type_params.map((function(e){return $r(e)})):[])}function Yr(e){return{module:e.module.value,name:e.name.value,type_params:e.type_params.map((function(e){return et(e)})),address:Xr(e.address)}}function et(e){if(e instanceof gr)return"Address";if(e instanceof hr)return"Bool";if(e instanceof dr)return"U8";if(e instanceof pr)return"U64";if(e instanceof vr)return"U128";if(e instanceof mr)return"Signer";if(e instanceof wr)return{Struct:Yr(e.value)};if(e instanceof yr)return{Vector:et(e.value)};throw new TypeError("invalid bcs type tag: "+e)}function rt(e,r){void 0===r&&(r=R.SINGLE);var t=a.sha3_256.create();t.update(Hr(e)),t.update(Hr((0,i.hexlify)(r)));var n=t.hex();return(0,o.addHexPrefix)(n)}function tt(e,r){void 0===r&&(r=R.SINGLE);var t=a.sha3_256.create();t.update(Hr(e)),t.update(Hr((0,i.hexlify)(r)));var n=t.hex(),s=n.slice(n.length/2);return(0,o.addHexPrefix)(s)}function nt(e,r){void 0===r&&(r="");var t=Zr(e),n=new Tr(x.from(r,"hex"));return new Nr(t,n).encode()}var it={__proto__:null,privateKeyToPublicKey:qr,bcsDecode:Kr,bcsEncode:Wr,decodeSignedUserTransaction:Gr,decodeTransactionPayload:function(e){var r=(0,i.arrayify)(e),t=new K(r),n=or.deserialize(t);if(n instanceof sr){var o=n.value;return{Script:{code:Mr(o.code),ty_args:o.ty_args.map((function(e){return et(e)})),args:o.args.map((function(e){return(0,i.hexlify)(e)}))}}}if(n instanceof ur){var s=n.value;return{ScriptFunction:{func:{address:Xr(s.module.address),module:s.module.name.value,functionName:s.func.value},ty_args:s.ty_args.map((function(e){return et(e)})),args:s.args.map((function(e){return(0,i.hexlify)(e)}))}}}if(n instanceof ar){var a=n.value;return{Package:{package_address:Xr(a.package_address),modules:a.modules.map((function(e){return{code:Mr(e.code)}})),init_script:null===a.init_script?void 0:{func:{address:Xr(a.init_script.module.address),module:a.init_script.module.name.value,functionName:a.init_script.func.value},args:a.init_script.args.map((function(e){return(0,i.hexlify)(e)})),ty_args:a.init_script.ty_args.map((function(e){return et(e)}))}}}}throw new TypeError("cannot decode bcs data "+n)},packageHexToTransactionPayload:Jr,packageHexToTransactionPayloadHex:function(e){return Wr(Jr(e))},addressToSCS:Zr,addressFromSCS:Xr,typeTagToSCS:$r,structTagToSCS:Qr,structTagFromSCS:Yr,typeTagFromSCS:et,publicKeyToAuthKey:rt,publicKeyToAddress:tt,encodeReceiptIdentifier:nt,decodeReceiptIdentifier:function(e){var r=Nr.decode(e);return{accountAddress:(0,o.stripHexPrefix)(Xr(r.accountAddress)),authKey:r.authKey.hex()}},publicKeyToReceiptIdentifier:function(e){var r=tt(e),t=rt(e);return nt((0,o.stripHexPrefix)(r),(0,o.stripHexPrefix)(t))},stringToBytes:function(e){var r,t,n=new Array;r=e.length;for(var i=0;i<r;i++)(t=e.charCodeAt(i))>=65536&&t<=1114111?(n.push(t>>18&7|240),n.push(t>>12&63|128),n.push(t>>6&63|128),n.push(63&t|128)):t>=2048&&t<=65535?(n.push(t>>12&15|224),n.push(t>>6&63|128),n.push(63&t|128)):t>=128&&t<=2047?(n.push(t>>6&31|192),n.push(63&t|128)):n.push(255&t);return n},bytesToString:function(e){if("string"===typeof e)return e;for(var r="",t=0;t<e.length;t++){var n=e[t].toString(2),i=n.match(/^1+?(?=0)/);if(i&&8==n.length){for(var o=i[0].length,s=e[t].toString(2).slice(7-o),a=1;a<o;a++)s+=e[a+t].toString(2).slice(2);r+=String.fromCharCode(parseInt(s,2)),t+=o-1}else r+=String.fromCharCode(e[t])}return r}};var ot={__proto__:null,decodeTransactionScriptABI:function(e){var r=new K(e),t=cr.deserialize(r);return{args:t.args.map((function(e){return{name:e.name,type_tag:et(e.type_tag)}})),code:t.code,doc:t.doc,name:t.name,ty_args:t.ty_args.map((function(e){return{name:e.name}}))}}},st=function(e){try{return Promise.resolve(qr(e)).then((function(r){var t=tt(r),n=rt(r),i=nt((0,o.stripHexPrefix)(t),(0,o.stripHexPrefix)(n));return{privateKey:e,publicKey:r,address:t,authKey:n,receiptIdentifier:i}}))}catch(r){return Promise.reject(r)}};function at(){var e=s.utils.randomPrivateKey(),r=x.from(e).toString("hex");return(0,o.addHexPrefix)(r)}function ut(e){return(0,i.hexlify)(e.privateKey())}function ct(e){var r=e.publicKey();return(0,i.hexlify)(r.value())}function lt(e){return tt(ct(e),R.MULTI)}function ft(e){var r=lt(e);return nt((0,o.stripHexPrefix)(r))}var ht={__proto__:null,showAccount:st,generateAccount:function(){try{var e=at(),r=st(e);return Promise.resolve(r)}catch(t){return Promise.reject(t)}},generatePrivateKey:at,getMultiEd25519AccountPrivateKey:ut,getMultiEd25519AccountPublicKey:ct,getMultiEd25519AccountAddress:lt,getMultiEd25519AccountReceiptIdentifier:ft,showMultiEd25519Account:function(e){var r=ut(e),t=ct(e),n=lt(e),i=ft(e);return{privateKey:r,publicKey:t,address:n,authKey:rt(t,R.MULTI),receiptIdentifier:i}},decodeMultiEd25519AccountPrivateKey:function(e){for(var r,t=(0,i.arrayify)(e),n=t.slice(0,1)[0],o=t.slice(1,2)[0],s=t.slice(2,3)[0],a=[],u=[],c=3,l=0;l<n;l+=1){r=c+32;var f=t.slice(c,r);a.push((0,i.hexlify)(f)),c=r}for(var h=0;h<s;h+=1){r=c+32;var d=t.slice(c,r);u.push((0,i.hexlify)(d)),c=r}return{privateKeys:u,publicKeys:a,threshold:o}}};var dt={__proto__:null,InvalidNumberOfMoveArgs:function(e,r){return new Error("Invalid number of arguments to Move function. given: "+e+", expected: "+r)},InvalidNumberOfRPCParams:function(e,r,t){return new Error('Invalid number of input parameters to RPC method "'+e+'" given: '+r+", expected: "+t)},InvalidConnection:function(e){return new Error("CONNECTION ERROR: Couldn't connect to node "+e+".")},InvalidProvider:function(){return new Error("Provider not set or invalid")},InvalidResponse:function(e){var r=e&&e.error&&e.error.message?e.error.message:"Invalid JSON RPC response: "+JSON.stringify(e);return new Error(r)},ConnectionTimeout:function(e){return new Error("CONNECTION TIMEOUT: timeout of "+e+" ms achived")}},pt=function(){function e(e){this.cur_idx=0,this.toks=e}var r=e.prototype;return r.next_tok=function(){var e=this.toks[this.cur_idx++];if(void 0===e)throw new Error("out of token, this should not happen");return e},r.peek=function(){return this.toks[this.cur_idx]},r.consume_tok=function(e){var r=this.next_tok();if(r!=e)throw new Error("expected tok: "+e+", got: "+r)},r.parse_comma_list=function(e,r,t){var n=[];if(this.peek()!==r)for(;n.push(e(this)),this.peek()!==r&&(this.consume_tok("Comma"),this.peek()!==r||!t););return n},r.parseTypeTag=function(){var e=this.next_tok();if("U8Type"===e)return"U8";if("U64Type"===e)return"U64";if("U128Type"===e)return"U128";if("BoolType"===e)return"Bool";if("AddressType"===e)return"Address";if("VectorType"===e){this.consume_tok("Lt");var r=this.parseTypeTag();return this.consume_tok("Gt"),{Vector:r}}if(void 0!==e.Address){var t=e.Address;this.consume_tok("ColonColon");var n=this.next_tok();if(void 0===n.Name)throw new Error("expected name, got: "+n);var i=n.Name;this.consume_tok("ColonColon");var o=this.next_tok();if(void 0===o.Name)throw new Error("expected name, got: "+n);var s=o.Name,a=[];return"Lt"===this.peek()&&(this.consume_tok("Lt"),a=this.parse_comma_list((function(e){return e.parseTypeTag()}),"Gt",!0),this.consume_tok("Gt")),{Struct:{address:t,module:i,name:s,type_params:a}}}throw new Error("unexpected token "+e+", expected type tag")},e}();function vt(e){switch(e){case"u8":return"U8Type";case"u64":return"U64Type";case"u128":return"U128Type";case"bool":return"BoolType";case"address":return"AddressType";case"vector":return"VectorType";case"true":return"True";case"false":return"False";default:return{Name:e}}}function gt(e){if(0!==e.length){var r=e[0];if("<"===r)return["Lt",1];if(">"===r)return["Gt",1];if(","===r)return["Comma",1];if(":"===r){if(":"===e[1])return["ColonColon",2];throw new Error("unrecognized token")}if("0"===r&&["x","X"].includes(e[1])){if(c()(e[2])){for(var t="0x",n=2;n<e.length&&c()(e[n]);n++)t=t.concat(e[n]);return[{Address:t},t.length]}throw new Error("unrecognized token")}if(f()(r))return function(e){for(var r="",t=0;t<e.length;){var n=e[t++];if(f()(n))r=r.concat(n);else{if(!v()(n))break;for(var i=n;t<e.length;){var o=e[t++];if(!d()(o))break;i=i.concat(o)}var s=r.length+i.length;switch(i){case"u8":return[{U8:r},s];case"u64":return[{U64:r},s];case"u128":return[{U128:r},s];default:throw new Error("invalid suffix")}}}return[{U64:r},r.length]}(e);if("b"===r&&'"'===e[1]){for(var i="",o=2;;){if(o>=e.length)throw new Error("unrecognized token");var s=e[o++];if('"'===s)break;if(!mt(s))throw new Error("unrecognized token");i=i.concat(s)}return[{Bytes:i},i.length+3]}if("x"===r&&'"'===e[1]){for(var a="",u=2;;){if(u>=e.length)throw new Error("unrecognized token");var l=e[u++];if('"'===l)break;if(!c()(l))throw new Error("unrecognized token");a=a.concat(l)}return[{Bytes:a},a.length+3]}if(v()(r)||["-","_"].includes(r)){for(var h="",p=0;p<e.length&&(d()(e[p])||["-","_"].includes(e[p]));p++)h=h.concat(e[p]);return[vt(h),h.length]}if(m()(r)){for(var g="",y=0;y<e.length&&m()(e[y]);y++)g=g.concat(e[y]);return[{WhiteSpace:g},g.length]}throw new Error("unrecognized token")}}function mt(e){return("string"===typeof e?e.charCodeAt(0):e)<=127}function yt(e,r){var t=function(e){for(var r=[];;){var t=gt(e);if(void 0===t)break;var n=t[0],i=t[1];r.push(n),e=e.substring(i)}return r}(e).filter((function(e){return void 0===e.WhiteSpace}));t.push("EOF");var n=new pt(t),i=r(n);return n.consume_tok("EOF"),i}function wt(e){return yt(e,(function(e){return e.parseTypeTag()}))}var _t={__proto__:null,parseTypeTags:function(e){return yt(e,(function(e){return e.parse_comma_list((function(e){return e.parseTypeTag()}),"EOF",!0)}))},parseTypeTag:wt},bt=t(65048).version,zt=new y.Logger(bt);function kt(e,r){e&&"object"===typeof e||zt.throwArgumentError("invalid object","object",e),Object.keys(e).forEach((function(t){r[t]||zt.throwArgumentError("invalid object key - "+t,"transaction:"+t,e)}))}var Pt={__proto__:null,checkProperties:kt},Et=function(e,r,t,n){try{var s=(0,i.arrayify)((0,o.addHexPrefix)(t)),a=Zr(tt(t)),u=Tt((0,i.arrayify)((0,o.addHexPrefix)(n)),s),c=new fe(r),l=Wr(new Ar(a,e,u,c)),f=(0,i.hexlify)(l);return Promise.resolve(f)}catch(h){return Promise.reject(h)}},xt=function(e,r){try{var t=new Uint8Array(x.from(e,"utf8")),n=Nt(new Ir(t));return Promise.resolve((0,s.getPublicKey)((0,o.stripHexPrefix)(r))).then((function(e){var t=(0,i.hexlify)(e);return Promise.resolve((0,s.sign)(n,(0,o.stripHexPrefix)(r))).then((function(e){var r=(0,i.hexlify)(e);return Promise.resolve({publicKey:t,signature:r})}))}))}catch(a){return Promise.reject(a)}};function Tt(e,r){var t=new ze(r),n=new ke(e);return new nr(t,n)}function Nt(e){return function(e,r){var t=new Uint8Array(e.length+r.length);return t.set(e,0),t.set(r,e.length),t}(Cr().get_salt(),function(){var r=new G;return e.serialize(r),r.getBytes()}())}function It(e){var r=(0,i.arrayify)(e);return function(){var e=new K(r);return Ar.deserialize(e)}()}var At={__proto__:null,recoverSignedMessageAddress:function(e){try{var r,t=function(e){return Promise.resolve(r)},n=It(e),o=function(){if(n.authenticator instanceof nr){var e=n.authenticator.signature.value,t=Nt(n.message),o=n.authenticator.public_key.value;return r=tt((0,i.hexlify)(o)),Promise.resolve((0,s.verify)(e,t,o)).then((function(e){if(!e)throw new Error("Failed verify signature and message");var r=function(e,r){var t=tt((0,i.hexlify)(e));if(t===Xr(r))return!0;return!1}(o,n.account);if(!r)throw new Error("Failed: address are not match")}))}}();return Promise.resolve(o&&o.then?o.then(t):t())}catch(a){return Promise.reject(a)}},encodeSignedMessage:function(e,r,t){try{var n=new Uint8Array(x.from(e,"utf8")),o=new Ir(n);return Promise.resolve(xt(e,(0,i.hexlify)(r))).then((function(e){var r=e.publicKey,n=e.signature;return Promise.resolve(Et(o,t,r,n)).then(Promise.resolve)}))}catch(s){return Promise.reject(s)}},generateSignedMessage:Et,signMessage:xt,encodeTransactionAuthenticatorEd25519:Tt,getEd25519SignMsgBytes:Nt,decodeSignedMessage:It},St=new y.Logger(bt);var Ut={test:{chainId:255,name:"test",_defaultProvider:function e(r){var t=function(e,t){return e.JsonRpcProvider?new e.JsonRpcProvider(t.jsonrpc,r):null};return t.renetwork=function(r){return e(r)},t}("test")},dev:{chainId:254,name:"dev"},barnard:{chainId:251,name:"barnard"},halley:{chainId:3,name:"halley"},proxima:{chainId:2,name:"proxima"},main:{chainId:1,name:"main"}};function Bt(e){if(null==e)return null;if("number"===typeof e){for(var r in Ut){var t=Ut[r];if(t.chainId==e)return{name:t.name,chainId:t.chainId,_defaultProvider:t._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"===typeof e){var n=Ut[e];return null==n?null:{name:n.name,chainId:n.chainId,_defaultProvider:n._defaultProvider||null}}var i=Ut[e.name];if(!i)return"number"!==typeof e.chainId&&St.throwArgumentError("invalid network chainId","network",e),e;e.chainId!==i.chainId&&St.throwArgumentError("network chainId mismatch","network",e);var o,s=e._defaultProvider||null;return null==s&&i._defaultProvider&&(s=(o=i._defaultProvider)&&"function"===typeof o.renetwork?i._defaultProvider.renetwork(e):i._defaultProvider),{name:e.name,chainId:i.chainId,_defaultProvider:s}}var Ot=new y.Logger("abstract-provider/5.0.5"),Rt=function(){function e(){Ot.checkAbstract(this instanceof e?this.constructor:void 0,e),(0,b.defineReadOnly)(this,"_isProvider",!0)}var r=e.prototype;return r.getBalance=function(e,r,t){try{return void 0===r&&(r="0x1::STC::STC"),Promise.resolve(this.getResource(e,"0x1::Account::Balance<"+r+">",t)).then((function(e){if(void 0!==e)return e.token.value}))}catch(n){return Promise.reject(n)}},r.getBalances=function(e,r){try{return Promise.resolve(this.getResources(e,r)).then((function(e){if(void 0!==e){var r={};for(var t in e){var n=wt(t);if("object"===typeof n&&void 0!==n.Struct){var i=n.Struct;if("Account"===i.module&&"Balance"===i.name)r[V(i.type_params[0].Struct)]=e[t].token.value}}return r}}))}catch(t){return Promise.reject(t)}},r.getSequenceNumber=function(e,r){try{return Promise.resolve(this.getResource(e,"0x1::Account::Account",r)).then((function(e){if(void 0!==e)return e.sequence_number}))}catch(t){return Promise.reject(t)}},r.addListener=function(e,r){return this.on(e,r)},r.removeListener=function(e,r){return this.off(e,r)},e.isProvider=function(e){return!(!e||!e._isProvider)},e}(),Vt=new y.Logger(bt);function Lt(e){return e.value.reduce((function(e,r){var t,n=r[0],i=r[1];return I({},e,((t={})[n]=Ct(i),t))}),{})}function Ct(e){if("Bool"in e)return e.Bool;if("U8"in e)return e.U8;if("U64"in e)return jt.bigint(e.U64);if("U128"in e)return jt.bigint(e.U128);if("Address"in e)return e.Address;if("Bytes"in e)return(0,i.hexValue)(e.Bytes);if("Vector"in e)return e.Vector.map((function(e){return Ct(e)}));if("Struct"in e)return e.Struct.value.reduce((function(e,r){var t,n=r[0],i=r[1];return I({},e,((t={})[n]=Ct(i),t))}),{});throw new Error("invalid annotated move value, "+JSON.stringify(e))}var jt=function(){function e(){Vt.checkNew(this instanceof e?this.constructor:void 0,e),this.formats=this.getDefaultFormats()}var r=e.prototype;return r.getDefaultFormats=function(){var r={},t=this.address.bind(this),n=(this.bigNumber.bind(this),this.blockTag.bind(this)),i=this.data.bind(this),o=this.hash.bind(this),s=this.hex.bind(this),a=this.number.bind(this),u=this.u64.bind(this),c=(e.bigint.bind(this),this.u8.bind(this)),l=this.u256.bind(this);r.rawTransaction={sender:t,sequence_number:u,payload:i,max_gas_amount:u,gas_unit_price:u,gas_token_code:function(e){return e},expiration_timestamp_secs:u,chain_id:c},r.signedUserTransaction={transaction_hash:o,raw_txn:this.rawUserTransaction.bind(this),authenticator:this.transactionAuthenticator.bind(this)},r.blockMetadata={parent_hash:o,timestamp:u,author:t,author_auth_key:s,uncles:u,number:u,chain_id:c,parent_gas_used:u};var f={block_hash:e.allowNull(o),block_number:e.allowNull(u),transaction_hash:e.allowNull(o),transaction_index:e.allowNull(a)};return r.transaction=I({block_metadata:e.allowNull(this.blockMetadata.bind(this),null),user_transaction:e.allowNull(this.signedUserTransaction.bind(this),null)},f),r.blockBody={Full:e.allowNull(e.arrayOf(this.signedUserTransaction.bind(this))),Hashes:e.allowNull(e.arrayOf(o))},r.blockHeader={block_hash:o,parent_hash:o,timestamp:u,number:u,author:t,author_auth_key:e.allowNull(s,null),txn_accumulator_root:o,block_accumulator_root:o,state_root:o,gas_used:u,difficulty:l,nonce:u,body_hash:o,chain_id:c},r.blockWithTransactions={header:function(t){return e.check(r.blockHeader,t)},body:function(e){return e}},r.block={header:function(t){return e.check(r.blockHeader,t)},body:function(t){return e.check(r.blockBody,t)},confirmations:a},r.transactionInfo=I({state_root_hash:o,event_root_hash:o,gas_used:u,status:this.transactionVmStatus.bind(this),txn_events:e.allowNull(e.arrayOf(this.transactionEvent.bind(this)),null)},f),r.transactionEvent=I({data:s,type_tags:this.typeTag.bind(this),event_key:s,event_seq_number:u},f),r.transactionOutput={gas_used:u,status:this.transactionVmStatus.bind(this),events:e.allowNull(e.arrayOf(this.transactionEvent.bind(this))),write_set:e.allowNull(e.arrayOf(this.transactionWriteAction.bind(this)))},r.blockWithTransactions=(0,b.shallowCopy)(r.block),r.blockWithTransactions.transactions=e.allowNull(e.arrayOf(this.transactionResponse.bind(this))),r.eventFilter={from_block:e.allowNull(n),to_block:e.allowNull(n),event_keys:e.arrayOf(s),limit:e.allowNull(a)},r},r.typeTag=function(e){return e},r.moveValue=function(e){return Ct(e)},r.moveStruct=function(e){return Lt(e)},r.transactionAuthenticator=function(e){return e},r.rawUserTransaction=function(r){return e.check(this.formats.rawTransaction,r)},r.signedUserTransaction=function(r){return e.check(this.formats.signedUserTransaction,r)},r.blockMetadata=function(r){return e.check(this.formats.blockMetadata,r)},r.transactionOutput=function(r){return e.check(this.formats.transactionOutput,r)},r.transactionWriteAction=function(e){return e},r.transactionEvent=function(r){return e.check(this.formats.transactionEvent,r)},r.transactionVmStatus=function(e){if("string"===typeof e){if([C,j,M].includes(e))return e;throw new Error("invalid txn vm_status: "+e)}if("object"===typeof e){if(e.MoveAbort)return{MoveAbort:{location:e.MoveAbort.location,abort_code:this.u64(e.MoveAbort.abort_code)}};if(e.ExecutionFailure)return e;if(e.Discard)return{Discard:{status_code:this.u64(e.Discard.status_code)}};throw new Error("invalid txn vm_status: "+JSON.stringify(e))}throw new TypeError("invalid txn vm_status type "+e)},r.number=function(e){return"0x"===e?0:_.BigNumber.from(e).toNumber()},r.u8=function(e){if("string"===typeof e)return Number.parseInt(e,10);if("number"===typeof e)return e;throw new Error("invalid u8: "+e)},r.u64=function(r){return e.bigint(r)},r.u128=function(r){return e.bigint(r)},r.u256=function(e){if("string"===typeof e)return e;if("number"===typeof e)return e.toString();throw new Error("invalid bigint: "+e)},e.bigint=function(e){if("string"===typeof e){var r=BigInt(e);return r>Number.MAX_SAFE_INTEGER?r:Number.parseInt(e)}if("number"===typeof e)return e;throw new TypeError("invalid bigint: "+e)},r.bigNumber=function(e){return _.BigNumber.from(e)},r.boolean=function(e){if("boolean"===typeof e)return e;if("string"===typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw new Error("invalid boolean - "+e)},r.hex=function(e,r){return"string"===typeof e&&(r||"0x"===e.slice(0,2)||(e="0x"+e),(0,i.isHexString)(e))?e.toLowerCase():Vt.throwArgumentError("invalid hex","value",e)},r.data=function(e,r){var t=this.hex(e,r);if(t.length%2!==0)throw new Error("invalid data; odd-length - "+e);return t},r.address=function(e){"string"!==typeof e&&Vt.throwArgumentError("invalid address","address",e);var r=this.hex(e,!0);return 16!==(0,i.hexDataLength)(r)?Vt.throwArgumentError("invalid address","value",e):(0,o.addHexPrefix)(e)},r.blockTag=function(e){if("earliest"===e)return 0;if("number"===typeof e)return e;throw new Error("invalid blockTag")},r.hash=function(e,r){var t=this.hex(e,r);return 32!==(0,i.hexDataLength)(t)?Vt.throwArgumentError("invalid hash","value",e):t},r._block=function(r){var t=e.check(this.formats.block,r),n=t.body.Full?t.body.Full:t.body.Hashes;return{header:t.header,transactions:n,confirmations:t.confirmations}},r.blockWithTxnHashes=function(e){var r=this._block(e),t=r.header,n=r.transactions,i=r.confirmations;return{header:t,transactions:n.map((function(e){return e.transaction_hash})),confirmations:i}},r.blockWithTransactions=function(e){var r=this._block(e);return{header:r.header,transactions:r.transactions,confirmations:r.confirmations}},r.transactionResponse=function(e){return e},r.userTransactionData=function(e){return Gr(e)},r.transactionInfo=function(r){return e.check(this.formats.transactionInfo,r)},r.topics=function(e){var r=this;return Array.isArray(e)?e.map((function(e){return r.topics(e)})):void 0!=e?this.hash(e,!0):null},r.filter=function(r){return e.check(this.formats.eventFilter,r)},e.check=function(e,r){var t={};for(var n in e)try{var i=e[n](r[n]);void 0!==i&&(t[n]=i)}catch(o){throw o.checkKey=n,o.checkValue=r[n],o}return t},e.allowNull=function(e,r){return function(t){return void 0==t?r:e(t)}},e.allowFalsish=function(e,r){return function(t){return t?e(t):r}},e.arrayOf=function(e){return function(r){if(!Array.isArray(r))throw new TypeError("not an array");var t=[];return r.forEach((function(r){t.push(e(r))})),t}},e}();function Mt(e,r){try{var t=e()}catch(n){return r(n)}return t&&t.then?t.then(void 0,r):t}var Ht=new y.Logger(bt);function Ft(e){return void 0===e||0===e.length?"*":e.join("|")}function Dt(e){if("string"===typeof e){if(e=e.toLowerCase(),32===(0,i.hexDataLength)(e))return"tx:"+e;if(-1===e.indexOf(":"))return e}else{if(Array.isArray(e))return"filter:"+Ft(e);if("object"===typeof e)return"filter:"+Ft(e.event_keys)}throw new Error("invalid event - "+e)}function qt(){return(new Date).getTime()}var Kt,Wt={pending:"pending",block:"block",network:"network",poll:"poll",filter:"filter",tx:"tx"},Gt=[Wt.pending,Wt.block,Wt.network,Wt.poll],Jt=function(){function e(e,r,t){(0,b.defineReadOnly)(this,"tag",e),(0,b.defineReadOnly)(this,"listener",r),(0,b.defineReadOnly)(this,"once",t)}return e.prototype.pollable=function(){return this.tag.indexOf(":")>=0||Gt.indexOf(this.tag)>=0},N(e,[{key:"event",get:function(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}},{key:"type",get:function(){return this.tag.split(":")[0]}},{key:"hash",get:function(){var e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}},{key:"filter",get:function(){var e=this.tag.split(":");if("filter"!==e[0])return null;var r,t=""===(r=e[1])||"*"===r?[]:r.split("|"),n={};return t.length>0&&(n.event_keys=t),n}}]),e}(),Zt={getChainInfo:"getChainInfo",getNodeInfo:"getNodeInfo",sendTransaction:"sendTransaction",getBlock:"getBlock",getTransactionByHash:"getTransactionByHash",getTransactionInfo:"getTransactionInfo",getEventsOfTransaction:"getEventsOfTransaction",getEvents:"getEvents",call:"call",callV2:"callV2",getCode:"getCode",getResource:"getResource",getAccountState:"getAccountState",getGasPrice:"getGasPrice",dryRun:"dryRun",dryRunRaw:"dryRunRaw"},Xt=1,$t=function(e){function r(t){var n;if(Ht.checkNew(this instanceof r?this.constructor:void 0,Rt),(n=e.call(this)||this)._events=[],n._emitted={block:-2},n.formatter=(this instanceof r?this.constructor:void 0).getFormatter(),(0,b.defineReadOnly)(U(n),"anyNetwork","any"===t),n.anyNetwork&&(t=n.detectNetwork()),t instanceof Promise)n._networkPromise=t,t.catch((function(e){})),n._ready().catch((function(e){}));else{var i=Bt(t);i?((0,b.defineReadOnly)(U(n),"_network",i),n.emit("network",i,null)):Ht.throwArgumentError("invalid network","network",t)}return n._maxInternalBlockNumber=-1024,n._lastBlockNumber=-2,n._pollingInterval=4e3,n._fastQueryDate=0,n}A(r,e);var t=r.prototype;return t._ready=function(){try{var e=this,r=function(){return e._network},t=function(){if(null==e._network){var r=function(){function r(){t||Ht.throwError("no network detected",y.Logger.errors.UNKNOWN_ERROR,{}),null==e._network&&(e.anyNetwork?e._network=t:(0,b.defineReadOnly)(e,"_network",t),e.emit("network",t,null))}var n=function(){if(null==t)return Promise.resolve(e.detectNetwork()).then((function(e){t=e}))}();return n&&n.then?n.then(r):r()},t=null,n=function(){if(e._networkPromise){var r=Mt((function(){return Promise.resolve(e._networkPromise).then((function(e){t=e}))}),(function(){}));if(r&&r.then)return r.then((function(){}))}}();return n&&n.then?n.then(r):r()}}();return Promise.resolve(t&&t.then?t.then(r):r())}catch(n){return Promise.reject(n)}},r.getFormatter=function(){return null==Kt&&(Kt=new jt),Kt},t._getInternalBlockNumber=function(e){try{var r=this;return Promise.resolve(r._ready()).then((function(){var t;function n(e){if(t)return e;var n=qt(),i=(0,b.resolveProperties)({blockNumber:r.perform(Zt.getChainInfo,{}).then((function(e){return e.head.number}),(function(e){return e})),networkError:r.getNetwork().then((function(e){return null}),(function(e){return e}))}).then((function(e){var t=e.blockNumber,o=e.networkError;if(o)throw r._internalBlockNumber===i&&(r._internalBlockNumber=null),o;var s=qt();return(t=_.BigNumber.from(t).toNumber())<r._maxInternalBlockNumber&&(t=r._maxInternalBlockNumber),r._maxInternalBlockNumber=t,r._setFastBlockNumber(t),{blockNumber:t,reqTime:n,respTime:s}}));return r._internalBlockNumber=i,Promise.resolve(i).then((function(e){return e.blockNumber}))}var i=r._internalBlockNumber,o=function(){if(e>0&&r._internalBlockNumber)return Promise.resolve(i).then((function(r){if(qt()-r.respTime<=e)return t=1,r.blockNumber}))}();return o&&o.then?o.then(n):n(o)}))}catch(t){return Promise.reject(t)}},t.poll=function(){try{var e=this,r=Xt++,t=[];return Promise.resolve(e._getInternalBlockNumber(100+e.pollingInterval/2)).then((function(n){if(e._setFastBlockNumber(n),e.emit("poll",r,n),n!==e._lastBlockNumber){if(-2===e._emitted.block&&(e._emitted.block=n-1),Math.abs(e._emitted.block-n)>1e3)Ht.warn("network block skew detected; skipping block events"),e.emit("error",Ht.makeError("network block skew detected",y.Logger.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:e._emitted.block})),e.emit(Wt.block,n);else for(var i=e._emitted.block+1;i<=n;i++)e.emit(Wt.block,i);return e._emitted.block!==n&&(e._emitted.block=n,Object.keys(e._emitted).forEach((function(r){if(r!==Wt.block){var t=e._emitted[r];"pending"!==t&&n-t>12&&delete e._emitted[r]}}))),-2===e._lastBlockNumber&&(e._lastBlockNumber=n-1),e._events.forEach((function(r){switch(r.type){case Wt.tx:var i=r.hash,o=e.getTransactionInfo(i).then((function(r){return r&&null!=r.block_number?(e._emitted["t:"+i]=r.block_number,e.emit(i,r),null):null})).catch((function(r){e.emit("error",r)}));t.push(o);break;case Wt.filter:var s=r.filter;s.from_block=e._lastBlockNumber+1,s.to_block=n;var a=e.getTransactionEvents(s).then((function(r){0!==r.length&&r.forEach((function(r){e._emitted["b:"+r.block_hash]=r.block_number,e._emitted["t:"+r.transaction_hash]=r.block_number,e.emit(s,r)}))})).catch((function(r){e.emit("error",r)}));t.push(a)}})),e._lastBlockNumber=n,Promise.all(t).then((function(){e.emit("didPoll",r)})),null}e.emit("didPoll",r)}))}catch(n){return Promise.reject(n)}},t.getNetwork=function(){try{var e=this;return Promise.resolve(e._ready()).then((function(r){return Promise.resolve(e.detectNetwork()).then((function(t){var n,i=function(){if(r.chainId!==t.chainId){var i=function(i){if(n)return i;var o=Ht.makeError("underlying network changed",y.Logger.errors.NETWORK_ERROR,{event:"changed",network:r,detectedNetwork:t});throw e.emit("error",o),o},o=function(){if(e.anyNetwork)return e._network=t,e._lastBlockNumber=-2,e._fastBlockNumber=null,e._fastBlockNumberPromise=null,e._fastQueryDate=0,e._emitted.block=-2,e._maxInternalBlockNumber=-1024,e._internalBlockNumber=null,e.emit("network",t,r),Promise.resolve((i=0,new Promise((function(e){setTimeout(e,i)})))).then((function(){return n=1,e._network}));var i}();return o&&o.then?o.then(i):i(o)}}();return i&&i.then?i.then((function(e){return n?e:r})):n?i:r}))}))}catch(r){return Promise.reject(r)}},t._getFastBlockNumber=function(){var e=this,r=qt();return r-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=r,this._fastBlockNumberPromise=this.getBlockNumber().then((function(r){return(null==e._fastBlockNumber||r>e._fastBlockNumber)&&(e._fastBlockNumber=r),e._fastBlockNumber}))),this._fastBlockNumberPromise},t._setFastBlockNumber=function(e){null!=this._fastBlockNumber&&e<this._fastBlockNumber||(this._fastQueryDate=qt(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))},t.waitForTransaction=function(e,r,t){try{var n=this;return null==r&&(r=1),Promise.resolve(n.getTransactionInfo(e)).then((function(i){return(i?i.confirmations:0)>=r?Promise.resolve(i):new Promise((function(i,o){var s=null,a=!1,u=function t(o){o.confirmations<r||(s&&clearTimeout(s),a||(a=!0,n.removeListener(e,t),i(o)))};n.on(e,u),"number"===typeof t&&t>0&&(s=setTimeout((function(){a||(s=null,a=!0,n.removeListener(e,u),o(Ht.makeError("timeout exceeded",y.Logger.errors.TIMEOUT,{timeout:t})))}),t)).unref&&s.unref()}))}))}catch(i){return Promise.reject(i)}},t.getBlockNumber=function(){try{return Promise.resolve(this._getInternalBlockNumber(0))}catch(e){return Promise.reject(e)}},t.getGasPrice=function(){try{var e=this;return Promise.resolve(e.getNetwork()).then((function(){return Promise.resolve(e.perform(Zt.getGasPrice,{})).then((function(r){return e.formatter.u64(r)}))}))}catch(r){return Promise.reject(r)}},t.getCode=function(e,t){try{var n=this;return Promise.resolve(n.getNetwork()).then((function(){var o=r.getModuleId;return Promise.resolve(e).then((function(e){return Promise.resolve((0,b.resolveProperties)({moduleId:o.call(r,e),blockTag:t})).then((function(e){return Promise.resolve(n.perform(Zt.getCode,e)).then((function(e){if(e)return(0,i.hexlify)(e)}))}))}))}))}catch(o){return Promise.reject(o)}},t.getResource=function(e,r,t){try{var n=this;return Promise.resolve(n.getNetwork()).then((function(){return Promise.resolve((0,b.resolveProperties)({address:e,structTag:r,blockTag:t})).then((function(e){return Promise.resolve(n.perform(Zt.getResource,e)).then((function(e){if(e)return n.formatter.moveStruct(e)}))}))}))}catch(i){return Promise.reject(i)}},t.getResources=function(e,r){try{var t=this;return Promise.resolve(t.getNetwork()).then((function(){return Promise.resolve((0,b.resolveProperties)({address:e,blockTag:r})).then((function(e){return Promise.resolve(t.perform(Zt.getAccountState,e)).then((function(e){if(e)return Object.entries(e.resources).reduce((function(e,r){var n,i=r[0],o=r[1];return I({},e,((n={})[i]=t.formatter.moveStruct(o),n))}),{})}))}))}))}catch(n){return Promise.reject(n)}},t._wrapTransaction=function(e,r){var t=this;if(null!=r&&32!==(0,i.hexDataLength)(r))throw new Error("invalid response - sendTransaction");var n=e;return null!=r&&e.transaction_hash!==r&&Ht.throwError("Transaction hash mismatch from Provider.sendTransaction.",y.Logger.errors.UNKNOWN_ERROR,{expectedHash:e.transaction_hash,returnedHash:r}),n.wait=function(r){try{return 0!==r&&(t._emitted["t:"+e.transaction_hash]="pending"),Promise.resolve(t.waitForTransaction(e.transaction_hash,r)).then((function(i){return null==i&&0===r?null:(t._emitted["t:"+e.transaction_hash]=i.block_number,n.block_hash=i.block_hash,n.block_number=i.block_number,n.confirmations=r,"Executed"!==i.status&&Ht.throwError("transaction failed",y.Logger.errors.CALL_EXCEPTION,{transactionHash:e.transaction_hash,transaction:e,receipt:i}),i)}))}catch(i){return Promise.reject(i)}},n},t.sendTransaction=function(e){try{var r=this;return Promise.resolve(r.getNetwork()).then((function(){return Promise.resolve(e).then((function(e){var t=r.formatter.userTransactionData(e);return Mt((function(){return Promise.resolve(r.perform(Zt.sendTransaction,{signedTransaction:e})).then((function(){return r._wrapTransaction(t)}))}),(function(e){throw e.transaction=t,e.transactionHash=t.transaction_hash,e}))}))}))}catch(t){return Promise.reject(t)}},r.getModuleId=function(e){return"string"===typeof e?e:e.address+"::"+e.name},t._getFilter=function(e){try{var r=this;return Promise.resolve(e).then((function(e){var t=r.formatter,n=t.filter;return Promise.resolve((0,b.resolveProperties)(e)).then((function(e){return n.call(t,e)}))}))}catch(t){return Promise.reject(t)}},t.call=function(e,r){try{var t=this;return Promise.resolve(t.getNetwork()).then((function(){return Promise.resolve((0,b.resolveProperties)({request:e})).then((function(e){return e.request.function_id=H(e.request.function_id),Promise.resolve(t.perform(Zt.call,e)).then((function(e){return e.map((function(e){return t.formatter.moveValue(e)}))}))}))}))}catch(n){return Promise.reject(n)}},t.callV2=function(e,r){try{var t=this;return Promise.resolve(t.getNetwork()).then((function(){return Promise.resolve((0,b.resolveProperties)({request:e})).then((function(e){return e.request.function_id=H(e.request.function_id),Promise.resolve(t.perform(Zt.callV2,e)).then((function(e){return e.map((function(e){return e}))}))}))}))}catch(n){return Promise.reject(n)}},t.dryRun=function(e){try{var r=this;return Promise.resolve(r.getNetwork()).then((function(){return Promise.resolve((0,b.resolveProperties)({transaction:e})).then((function(e){return Promise.resolve(r.perform(Zt.dryRun,e)).then((function(e){return r.formatter.transactionOutput(e)}))}))}))}catch(t){return Promise.reject(t)}},t.dryRunRaw=function(e,r){try{var t=this;return Promise.resolve(t.getNetwork()).then((function(){var n={rawUserTransactionHex:e,publicKeyHex:r};return Promise.resolve(t.perform(Zt.dryRunRaw,n)).then((function(e){return t.formatter.transactionOutput(e)}))}))}catch(n){return Promise.reject(n)}},t._getBlock=function(e,r){try{var t=this;return Promise.resolve(t.getNetwork()).then((function(){return Promise.resolve(e).then((function(n){function o(){return(0,z.poll)((function(){try{return Promise.resolve(t.perform(Zt.getBlock,a)).then((function(e){var n;function i(r){return n?r:t.formatter.blockWithTxnHashes(e)}if(null==e)return null!=a.blockHash&&null==t._emitted["b:"+a.blockHash]||null!=a.blockNumber&&s>t._emitted.block?null:void 0;var o=function(){if(r)return Promise.resolve(t._getInternalBlockNumber(100+2*t.pollingInterval)).then((function(r){var i=r-e.header.number+1;return i<=0&&(i=1),e.confirmations=i,n=1,t.formatter.blockWithTransactions(e)}))}();return o&&o.then?o.then(i):i(o)}))}catch(e){return Promise.reject(e)}}),{oncePoll:t})}e=n;var s=-128,a={includeTransactions:!!r},u=function(){if((0,i.isHexString)(e,32))a.blockHash=e;else{var r=Mt((function(){return Promise.resolve(t._getBlockTag(e)).then((function(e){a.blockNumber=e,s=a.blockNumber}))}),(function(){Ht.throwArgumentError("invalid block hash or block number","blockHashOrBlockNumber",e)}));if(r&&r.then)return r.then((function(){}))}}();return u&&u.then?u.then(o):o()}))}))}catch(n){return Promise.reject(n)}},t.getBlock=function(e){return this._getBlock(e,!0)},t.getTransaction=function(e){try{var r=this;return Promise.resolve(r.getNetwork()).then((function(){return Promise.resolve(e).then((function(t){e=t;var n={transactionHash:r.formatter.hash(e,!0)};return(0,z.poll)((function(){try{return Promise.resolve(r.perform(Zt.getTransactionByHash,n)).then((function(t){function n(){return r._wrapTransaction(i)}if(null==t)return null==r._emitted["t:"+e]?null:void 0;var i=r.formatter.transactionResponse(t),o=function(){if(void 0===i.block_number)i.confirmations=0;else{var e=function(){if(void 0===i.confirmations)return Promise.resolve(r._getInternalBlockNumber(100+2*r.pollingInterval)).then((function(e){var r=e-i.block_number+1;r<=0&&(r=1),i.confirmations=r}))}();if(e&&e.then)return e.then((function(){}))}}();return o&&o.then?o.then(n):n()}))}catch(t){return Promise.reject(t)}}),{oncePoll:r})}))}))}catch(t){return Promise.reject(t)}},t.getTransactionInfo=function(e){try{var r=this;return Promise.resolve(r.getNetwork()).then((function(){return Promise.resolve(e).then((function(t){e=t;var n={transactionHash:r.formatter.hash(e,!0)};return(0,z.poll)((function(){try{return Promise.resolve(r.perform(Zt.getTransactionInfo,n)).then((function(t){if(null===t)return null===r._emitted["t:"+e]?null:void 0;if(null!==t.block_hash){var n=r.formatter.transactionInfo(t),i=function(){if(null===n.block_number)n.confirmations=0;else{var e=function(){if(!n.confirmations)return Promise.resolve(r._getInternalBlockNumber(100+2*r.pollingInterval)).then((function(e){var r=e-n.block_number+1;r<=0&&(r=1),n.confirmations=r}))}();if(e&&e.then)return e.then((function(){}))}}();return i&&i.then?i.then((function(){return n})):n}}))}catch(t){return Promise.reject(t)}}),{oncePoll:r})}))}))}catch(t){return Promise.reject(t)}},t.getEventsOfTransaction=function(e){try{var r=this;return Promise.resolve(r.getNetwork()).then((function(){return Promise.resolve(e).then((function(t){e=t;var n={transactionHash:r.formatter.hash(e,!0)};return Promise.resolve(r.perform(Zt.getEventsOfTransaction,n)).then((function(e){return jt.arrayOf(r.formatter.transactionEvent.bind(r.formatter))(e)}))}))}))}catch(t){return Promise.reject(t)}},t.getTransactionEvents=function(e){try{var r=this;return Promise.resolve(r.getNetwork()).then((function(){return Promise.resolve((0,b.resolveProperties)({filter:e})).then((function(e){return Promise.resolve(r.perform(Zt.getEvents,e)).then((function(e){return jt.arrayOf(r.formatter.transactionEvent.bind(r.formatter))(e)}))}))}))}catch(t){return Promise.reject(t)}},t._getBlockTag=function(e){try{var r=this;return Promise.resolve(e).then((function(t){return(e=t)<0?(e%1&&Ht.throwArgumentError("invalid BlockTag","blockTag",e),Promise.resolve(r._getInternalBlockNumber(100+2*r.pollingInterval)).then((function(r){return(r+=e)<0&&(r=0),r}))):e}))}catch(t){return Promise.reject(t)}},t._startEvent=function(e){this.polling=this._events.filter((function(e){return e.pollable()})).length>0},t._stopEvent=function(e){this.polling=this._events.filter((function(e){return e.pollable()})).length>0},t._addEventListener=function(e,r,t){var n=new Jt(Dt(e),r,t);return this._events.push(n),this._startEvent(n),this},t.on=function(e,r){return this._addEventListener(e,r,!1)},t.once=function(e,r){return this._addEventListener(e,r,!0)},t.emit=function(e){var r=arguments,t=this,n=!1,i=[],o=Dt(e);return this._events=this._events.filter((function(e){return e.tag!==o||(setTimeout((function(){e.listener.apply(t,[].slice.call(r,1))}),0),n=!0,!e.once||(i.push(e),!1))})),i.forEach((function(e){t._stopEvent(e)})),n},t.listenerCount=function(e){if(!e)return this._events.length;var r=Dt(e);return this._events.filter((function(e){return e.tag===r})).length},t.listeners=function(e){if(null==e)return this._events.map((function(e){return e.listener}));var r=Dt(e);return this._events.filter((function(e){return e.tag===r})).map((function(e){return e.listener}))},t.off=function(e,r){var t=this;if(null===r)return this.removeAllListeners(e);var n=[],i=!1,o=Dt(e);return this._events=this._events.filter((function(e){return e.tag!==o||e.listener!==r||(!!i||(i=!0,n.push(e),!1))})),n.forEach((function(e){t._stopEvent(e)})),this},t.removeAllListeners=function(e){var r=this,t=[];if(null===e)t=this._events,this._events=[];else{var n=Dt(e);this._events=this._events.filter((function(e){return e.tag!==n||(t.push(e),!1)}))}return t.forEach((function(e){r._stopEvent(e)})),this},N(r,[{key:"ready",get:function(){var e=this;return(0,z.poll)((function(){return e._ready().then((function(e){return e}),(function(e){if(e.code!==y.Logger.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))}))}},{key:"network",get:function(){return this._network}},{key:"blockNumber",get:function(){return this._getInternalBlockNumber(100+this.pollingInterval/2),null!=this._fastBlockNumber?this._fastBlockNumber:-1}},{key:"polling",get:function(){return null!=this._poller},set:function(e){var r=this;e&&!this._poller?(this._poller=setInterval(this.poll.bind(this),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((function(){r.poll(),r._bootstrapPoll=setTimeout((function(){r._poller||r.poll(),r._bootstrapPoll=null}),r.pollingInterval)}),0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}},{key:"pollingInterval",get:function(){return this._pollingInterval},set:function(e){var r=this;if("number"!==typeof e||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval((function(){r.poll()}),this._pollingInterval))}}]),r}(Rt),Qt=new y.Logger(bt),Yt=new Set(["sender","sender_public_key","sequence_number","script","modules","max_gas_amount","gas_unit_price","gas_token_code","chain_id"]),en=new Set([y.Logger.errors.INSUFFICIENT_FUNDS,y.Logger.errors.NONCE_EXPIRED,y.Logger.errors.REPLACEMENT_UNDERPRICED]),rn=function(){function e(){Qt.checkAbstract(this instanceof e?this.constructor:void 0,e),(0,b.defineReadOnly)(this,"_isSigner",!0)}var r=e.prototype;return r.getBalance=function(e,r){try{var t=this;return t.checkProvider("getBalance"),Promise.resolve(t.provider.getBalance(t.getAddress(),e,r))}catch(n){return Promise.reject(n)}},r.getSequenceNumber=function(e){try{var r=this;return r.checkProvider("getSequenceNumber"),Promise.resolve(r.provider.getSequenceNumber(r.getAddress(),e))}catch(t){return Promise.reject(t)}},r.estimateGas=function(e){try{var r=this;return r.checkProvider("estimateGas"),Promise.resolve((0,b.resolveProperties)(r.checkTransaction(e))).then((function(e){return Promise.resolve(r.provider.dryRun(e)).then((function(e){return"number"===typeof e.gas_used?3*e.gas_used:BigInt(3)*e.gas_used.valueOf()}))}))}catch(t){return Promise.reject(t)}},r.sendTransaction=function(e){var r=this;return this.checkProvider("sendTransaction"),this.populateTransaction(e).then((function(e){return r.signTransaction(e).then((function(e){return r.provider.sendTransaction(e)}))}))},r.getChainId=function(){try{return this.checkProvider("getChainId"),Promise.resolve(this.provider.getNetwork()).then((function(e){return e.chainId}))}catch(e){return Promise.reject(e)}},r.getGasPrice=function(){try{return this.checkProvider("getGasPrice"),Promise.resolve(this.provider.getGasPrice())}catch(e){return Promise.reject(e)}},r.checkTransaction=function(e){for(var r=0,t=Object.keys(e);r<t.length;r++){var n=t[r];Yt.has(n)||Qt.throwArgumentError("invalid transaction key: "+n,"transaction",e)}var i=(0,b.shallowCopy)(e);return void 0===i.sender?i.sender=this.getAddress():i.sender=Promise.all([Promise.resolve(i.sender),this.getAddress()]).then((function(r){return r[0]!==r[1]&&Qt.throwArgumentError("from address mismatch","transaction",e),r[0]})),i},r.populateTransaction=function(e){try{var r=this;return Promise.resolve((0,b.resolveProperties)(r.checkTransaction(e))).then((function(t){return void 0===t.gas_unit_price&&(t.gas_unit_price=r.getGasPrice()),void 0===t.sequence_number&&(t.sequence_number=r.getSequenceNumber("pending")),void 0===t.chain_id?t.chain_id=r.getChainId():t.chain_id=Promise.all([Promise.resolve(t.chain_id),r.getChainId()]).then((function(r){return 0!==r[1]&&r[0]!==r[1]&&Qt.throwArgumentError("chainId address mismatch","transaction",e),r[0]})),void 0===t.max_gas_amount&&(t.max_gas_amount=r.estimateGas(t).catch((function(e){if(en.has(e.code))throw e;return console.log("err: "+e),Qt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",y.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})}))),(0,b.resolveProperties)(t)}))}catch(t){return Promise.reject(t)}},r.checkProvider=function(e){this.provider||Qt.throwError("missing provider",y.Logger.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})},e.isSigner=function(e){return!(!e||!e._isSigner)},e}();function tn(e,r){try{var t=e()}catch(n){return r(n)}return t&&t.then?t.then(void 0,r):t}var nn=new y.Logger(bt),on=new Set(["call","estimateGas"]);function sn(e,r,t){var n=r.message;r.code===y.Logger.errors.SERVER_ERROR&&r.error&&"string"===typeof r.error.message?n=r.error.message:"string"===typeof r.body?n=r.body:"string"===typeof r.responseText&&(n=r.responseText),n=(n||"").toLowerCase();var i=t.transaction||t.signedTransaction;throw n.match(/insufficient funds/)&&nn.throwError("insufficient funds for intrinsic transaction cost",y.Logger.errors.INSUFFICIENT_FUNDS,{error:r,method:e,transaction:i}),n.match(/nonce too low/)&&nn.throwError("nonce has already been used",y.Logger.errors.NONCE_EXPIRED,{error:r,method:e,transaction:i}),n.match(/replacement transaction underpriced/)&&nn.throwError("replacement fee too low",y.Logger.errors.REPLACEMENT_UNDERPRICED,{error:r,method:e,transaction:i}),on.has(e)&&n.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&nn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",y.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:r,method:e,transaction:i}),r}function an(e){if(e.error){var r=new Error(e.error.message);throw r.code=e.error.code,r.data=e.error.data,r}return e.result}var un={},cn=function(e){function r(t,n,i){var o;if(nn.checkNew(this instanceof r?this.constructor:void 0,r),o=e.call(this)||this,t!==un)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");return(0,b.defineReadOnly)(U(o),"provider",n),void 0===i&&(i=0),"string"===typeof i?(0,b.defineReadOnly)(U(o),"_address",o.provider.formatter.address(i)):"number"===typeof i?(0,b.defineReadOnly)(U(o),"_index",i):nn.throwArgumentError("invalid address or index","addressOrIndex",i),o}A(r,e);var t=r.prototype;return t.connect=function(e){return nn.throwError("cannot alter JSON-RPC Signer connection",y.Logger.errors.UNSUPPORTED_OPERATION,{operation:"connect"})},t.getAddress=function(){try{var e=this;return e._address?Promise.resolve(e._address):Promise.resolve(e.provider.send("stc_accounts",[]).then((function(r){return r.length<=e._index&&nn.throwError("unknown account #"+e._index,y.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),e.provider.formatter.address(r[e._index])})))}catch(r){return Promise.reject(r)}},t.sendUncheckedTransaction=function(e){var r=this;nn.debug("sendUncheckedTransaction",e),e=(0,b.shallowCopy)(e);var t=this.getAddress().then((function(e){return e&&(e=e.toLowerCase()),e}));return nn.debug(t),(0,b.resolveProperties)({tx:(0,b.resolveProperties)(e),sender:t}).then((function(t){var n=t.tx,i=t.sender;null!=n.from?n.from.toLowerCase()!==i&&nn.throwArgumentError("from address mismatch","transaction",e):n.from=i;var o=r.provider.constructor.hexlifyTransaction(n,{from:!0,expiredSecs:!0,addGasBufferMultiplier:!0});return n.addGasBufferMultiplier&&"number"===typeof n.addGasBufferMultiplier&&(o.addGasBufferMultiplier=n.addGasBufferMultiplier.toString()),nn.debug(o),r.provider.send("stc_sendTransaction",[o]).then((function(e){return e}),(function(e){throw e.responseText&&(e.responseText.indexOf("insufficient funds")>=0&&nn.throwError("insufficient funds",y.Logger.errors.INSUFFICIENT_FUNDS,{transaction:n}),e.responseText.indexOf("nonce too low")>=0&&nn.throwError("nonce has already been used",y.Logger.errors.NONCE_EXPIRED,{transaction:n}),e.responseText.indexOf("replacement transaction underpriced")>=0&&nn.throwError("replacement fee too low",y.Logger.errors.REPLACEMENT_UNDERPRICED,{transaction:n})),e}))}))},t.signTransaction=function(e){try{var r=this;return Promise.resolve((0,b.resolveProperties)(e)).then((function(t){return Promise.resolve(r.getAddress()).then((function(n){return void 0!==t.sender?t.sender!==n&&nn.throwArgumentError("from address mismatch","transaction",e):t.sender=n,r.provider.send("account.sign_txn_request",[t]).then((function(e){return e}),(function(e){return sn("signTransaction",e,t)}))}))}))}catch(t){return Promise.reject(t)}},t.signMessage=function(e){try{var r=this.provider;return Promise.resolve(this.getAddress()).then((function(t){var n;if("string"===typeof e)n=new Uint8Array(x.from(e));else{if(!(0,i.isBytes)(e))return nn.throwError("type of message input is unsupported",y.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signMessage"});n=e}var o={message:Array.from(n)};return r.send("account.sign",[t.toLowerCase(),o])}))}catch(t){return Promise.reject(t)}},t.unlock=function(e){try{var r=this.provider;return Promise.resolve(this.getAddress()).then((function(t){return r.send("account.unlock",[t.toLowerCase(),e,void 0])}))}catch(t){return Promise.reject(t)}},r}(rn),ln={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0},fn=function(e){function r(t,n){var i;nn.checkNew(this instanceof r?this.constructor:void 0,r);var o=n;return null==o&&(o=new Promise((function(e,r){setTimeout((function(){i.detectNetwork().then((function(r){e(r)}),(function(e){r(e)}))}),0)}))),i=e.call(this,o)||this,t||(t=(0,b.getStatic)(i.constructor,"defaultUrl")()),"string"===typeof t?(0,b.defineReadOnly)(U(i),"connection",Object.freeze({url:t})):(0,b.defineReadOnly)(U(i),"connection",Object.freeze((0,b.shallowCopy)(t))),i._nextId=42,i}A(r,e),r.defaultUrl=function(){return"http://localhost:9850"};var t=r.prototype;return t.detectNetwork=function(){try{var e=this;return Promise.resolve((r=0,new Promise((function(e){setTimeout(e,r)})))).then((function(){function r(){if(null!=t)try{return Bt(_.BigNumber.from(t).toNumber())}catch(e){return nn.throwError("could not detect network",y.Logger.errors.NETWORK_ERROR,{chainId:t,event:"invalidNetwork",serverError:e})}return nn.throwError("could not detect network",y.Logger.errors.NETWORK_ERROR,{event:"noNetwork"})}var t=null,n=tn((function(){return Promise.resolve(e.send("chain.id",[])).then((function(e){t=e.id}))}),(function(){var r=tn((function(){return Promise.resolve(e.perform(Zt.getChainInfo,null)).then((function(e){t=e.chain_id}))}),(function(){}));return r&&r.then?r.then((function(){})):void 0}));return n&&n.then?n.then(r):r()}))}catch(t){return Promise.reject(t)}var r},t.getSigner=function(e){return new cn(un,this,e)},t.getNowSeconds=function(){try{return Promise.resolve(this.perform(Zt.getNodeInfo,null)).then((function(e){return e.now_seconds}))}catch(e){return Promise.reject(e)}},t.send=function(e,r){var t=this,n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};return this.emit("debug",{action:"request",request:(0,b.deepCopy)(n),provider:this}),(0,z.fetchJson)(this.connection,JSON.stringify(n),an).then((function(e){return t.emit("debug",{action:"response",request:n,response:e,provider:t}),e}),(function(e){throw t.emit("debug",{action:"response",error:e,request:n,provider:t}),e}))},t.prepareRequest=function(e,r){switch(e){case Zt.getChainInfo:return["chain.info",[]];case Zt.getNodeInfo:return["node.info",[]];case Zt.getGasPrice:return["txpool.gas_price",[]];case Zt.dryRun:return["contract.dry_run",[r.transaction]];case Zt.dryRunRaw:return["contract.dry_run_raw",[r.rawUserTransactionHex,r.publicKeyHex]];case Zt.sendTransaction:return["txpool.submit_hex_transaction",[r.signedTransaction]];case Zt.getBlock:if(void 0!==r.blockNumber)return["chain.get_block_by_number",[r.blockNumber]];if(void 0!==r.blockHash)return["chain.get_block_by_hash",[r.blockHash]];break;case Zt.getTransactionByHash:return["chain.get_transaction",[r.transactionHash]];case Zt.getTransactionInfo:return["chain.get_transaction_info",[r.transactionHash]];case Zt.getEventsOfTransaction:return["chain.get_events_by_txn_hash",[r.transactionHash]];case Zt.getCode:return["contract.get_code",[r.moduleId]];case Zt.getResource:return["contract.get_resource",[r.address,r.structTag]];case Zt.getAccountState:return["state.get_account_state_set",[r.address]];case Zt.call:return["contract.call",[r.request]];case Zt.callV2:return["contract.call_v2",[r.request]];case Zt.getEvents:return["chain.get_events",[r.filter]]}},t.perform=function(e,r){try{var t=this,n=t.prepareRequest(e,r);return void 0===n&&nn.throwError(e+" not implemented",y.Logger.errors.NOT_IMPLEMENTED,{operation:e}),Promise.resolve(tn((function(){return Promise.resolve(t.send(n[0],n[1]))}),(function(t){return sn(e,t,r)})))}catch(i){return Promise.reject(i)}},t._startEvent=function(r){"pending"===r.tag&&nn.throwError("pending event not implemented",y.Logger.errors.NOT_IMPLEMENTED,{operation:"pending event"}),e.prototype._startEvent.call(this,r)},t._stopEvent=function(r){r.tag===Wt.pending&&0===this.listenerCount(Wt.pending)&&(this._pendingFilter=null),e.prototype._stopEvent.call(this,r)},r.hexlifyTransaction=function(e,r){var t=(0,b.shallowCopy)(ln);if(r)for(var n in r)r[n]&&(t[n]=!0);kt(e,t);var o={};return["gasLimit","gasPrice","nonce","value","expiredSecs"].forEach((function(r){if(null!=e[r]){var t=(0,i.hexValue)(e[r]);"gasLimit"===r&&(r="gas"),o[r]=t}})),["from","to","data"].forEach((function(r){null!=e[r]&&(o[r]=(0,i.hexlify)(e[r]))})),o},r}($t),hn=function(e,r){try{return Promise.resolve(pn(r,e)).then((function(t){return Promise.resolve(dn(e,t,r))}))}catch(t){return Promise.reject(t)}},dn=function(e,r,t){try{return Promise.resolve((0,s.getPublicKey)((0,o.stripHexPrefix)(e))).then((function(e){var n=yn(e,r,t);return Promise.resolve(n)}))}catch(n){return Promise.reject(n)}},pn=function(e,r){try{var t=function(e,r){var t=new Uint8Array(e.length+r.length);return t.set(e,0),t.set(r,e.length),t}(Lr().get_salt(),function(){var r=new G;return e.serialize(r),r.getBytes()}());return Promise.resolve((0,s.sign)(t,(0,o.stripHexPrefix)(r))).then((function(e){return(0,i.hexlify)(e)}))}catch(n){return Promise.reject(n)}};function vn(e,r,t){var n=F(e);return new Fe(new Ae(Zr(n.address),new Te(n.module)),new Te(n.functionName),r.map((function(e){return $r(e)})),t)}function gn(e,r,t){var n=vn(e,r,t);return new ur(n)}function mn(e,r,t){var n=r.map((function(e){return new Ie((0,i.arrayify)(e))})),o=null;return t&&(o=vn(t.functionId,t.tyArgs,t.args)),new Ve(Zr(e),n,o)}function yn(e,r,t){var n=new ze((0,i.arrayify)((0,o.addHexPrefix)(e))),s=new ke((0,i.arrayify)((0,o.addHexPrefix)(r))),a=new nr(n,s);return new qe(t,a)}function wn(e){var r=e.split("<"),t=r[0].split("::"),n=t[0],i=t[1],o=t[2],s=r[1]?r[1].replace(">","").split(","):[],a=[];return s.length>0&&s.forEach((function(e){a.push(wn(e.trim()))})),{Struct:{address:n,module:i,name:o,type_params:a}}}function _n(e){return e.map((function(e){return wn(e)}))}function bn(e,r){return r.map((function(r,t){return function(e,r){if("Address"===r)return(0,i.arrayify)(e);var t=new G;if(r&&"U8"===r.Vector){for(var n=e?(0,i.isHexString)((0,o.addHexPrefix)(e))?Hr(e):new Uint8Array(x.from(e)):new Uint8Array,s=n.length,a=[],u=0;u<s;u++)a.push(n[u]);xr.serializeVectorU8(a,t);var c=(0,i.hexlify)(t.getBytes());return(0,i.arrayify)(c)}if(r&&r.Vector&&Array.isArray(e)){t.serializeLen(e.length),e.forEach((function(e){"U8"===r.Vector.Vector?t.serializeBytes(Hr(e)):"Address"===r.Vector?Zr(e).serialize(t):r.Vector&&t["serialize"+r.Vector](e)}));var l=(0,i.hexlify)(t.getBytes());return(0,i.arrayify)(l)}if(r){t["serialize"+r](e);var f=(0,i.hexlify)(t.getBytes());return(0,i.arrayify)(f)}return e}(r,e[t].type_tag)}))}var zn={__proto__:null,encodeScriptFunctionByResolve:function(e,r,t,n){try{var i=_n(r),o=new fn(n);return Promise.resolve(o.send("contract.resolve_function",[e])).then((function(r){var n=r.args;n[0]&&"Signer"===n[0].type_tag&&n.shift();var o=bn(n,t);return gn(e,i,o)}))}catch(s){return Promise.reject(s)}},signRawUserTransaction:function(e,r){try{return Promise.resolve(hn(e,r)).then((function(e){var r=function(e){var r=new G;return e.serialize(r),(0,i.hexlify)(r.getBytes())}(e);return r}))}catch(t){return Promise.reject(t)}},getSignedUserTransaction:hn,getSignatureHex:pn,encodeTransactionScript:function(e,r,t){var n=new Ce(e,r.map((function(e){return $r(e)})),t.map((function(e){return(0,i.arrayify)(e)})));return new sr(n)},encodeStarcoinTypesScriptFunction:vn,encodeScriptFunction:gn,encodeStarcoinTypesPackage:mn,encodePackage:function(e,r,t){var n=mn(e,r,t);return new ar(n)},generateRawUserTransaction:function(e,r,t,n,i,o,s){var a=Zr(e),u=BigInt(i),c=BigInt(t),l=BigInt(n),f=BigInt(o),h=new fe(s);return new Le(a,u,r,c,l,"0x1::STC::STC",f,h)},signTxn:yn,encodeStructTypeTags:_n,encodeScriptFunctionArgs:bn},kn=function(e,r){try{return Promise.resolve(Promise.all(Object.keys(e.private_keys).map((function(t){var n=(0,i.hexlify)(e.private_keys[t].value);return pn(r,n).then((function(e){return[new ke((0,i.arrayify)(e)),Number.parseInt(t,10)]})).catch((function(e){throw new Error("invalid private key: "+e)}))})))).then((function(e){var r=Be.build(e);return Promise.resolve(r)}))}catch(t){return Promise.reject(t)}},Pn={__proto__:null,abi:ot,account:ht,errors:dt,helper:re,hex:Dr,parser:_t,properties:Pt,signedMessage:At,multiSign:{__proto__:null,generateMultiEd25519SignatureShard:function(e,r){try{return Promise.resolve(kn(e,r)).then((function(r){var t=new Oe(r,e.threshold);return Promise.resolve(t)}))}catch(t){return Promise.reject(t)}},generateMultiEd25519Signature:kn,generateMultiEd25519KeyShard:function(e,r,t){try{if(0===r.length)throw new Error("require at least one private key");var n=(0,w.cloneDeep)(e),o={};return Promise.resolve(Promise.all(r.map((function(e){return qr(e).then((function(r){return n.push(r),o[r]=e,r})).catch((function(e){throw new Error("invalid private key: "+e)}))})))).then((function(){n.sort((function(e,r){return e>r?1:-1}));var e=n.filter((function(e,r,t){return t.indexOf(e)===r})),o={};return Promise.resolve(Promise.all(r.map((function(r){return qr(r).then((function(t){var n=e.indexOf(t);return n>-1&&(o[n]=new be((0,i.arrayify)(r))),t})).catch((function(e){throw new Error("invalid private key: "+e)}))})))).then((function(){var r=e.map((function(e){return new ze((0,i.arrayify)(e))})),n=new Re(r,t,o);return Promise.resolve(n)}))}))}catch(s){return Promise.reject(s)}}},tx:zn},En={__proto__:null,BinaryDeserializer:q,BinarySerializer:W},xn=new y.Logger(bt),Tn=1;function Nn(e,r){return function(e,t){var n={method:e,params:t,id:Tn+=1,jsonrpc:"2.0"};return new Promise((function(e,t){r(n,(function(r,n){if(r)return t(r);if(n.error){var i=new Error(n.error.message);return i.code=n.error.code,i.data=n.error.data,t(i)}e(n.result)}))}))}}var In=function(e){function r(t,n){var i,o,s,a;return xn.checkNew(this instanceof r?this.constructor:void 0,r),void 0===t&&xn.throwArgumentError("missing provider","provider",t),"function"===typeof t?(o="unknown:",s=t):(!(o=t.host||t.path||"")&&t.isStarMask&&(o="starmask"),a=t,t.sendAsync?s=Nn(0,t.sendAsync.bind(t)):t.send?s=Nn(0,t.send.bind(t)):xn.throwArgumentError("unsupported provider","provider",t),o||(o="unknown:")),i=e.call(this,o,n)||this,(0,b.defineReadOnly)(U(i),"jsonRpcFetchFunc",s),(0,b.defineReadOnly)(U(i),"provider",a),i}return A(r,e),r.prototype.send=function(e,r){return this.jsonRpcFetchFunc(e,r)},r}(fn),An=new y.Logger(bt),Sn=1,Un={__proto__:null,CONSTANTS:Wt,Event:Jt,RPC_ACTION:Zt,BaseProvider:$t,formatMoveStruct:Lt,formatMoveValue:Ct,Formatter:jt,JsonRpcSigner:cn,JsonRpcProvider:fn,Web3Provider:In,WebsocketProvider:function(e){function r(r,t){var n;"any"===t&&An.throwError("WebSocketProvider does not support 'any' network yet",y.Logger.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),(n=e.call(this,r,t)||this)._pollingInterval=-1,n._wsReady=!1,(0,b.defineReadOnly)(U(n),"_websocket",new E(n.connection.url)),(0,b.defineReadOnly)(U(n),"_requests",{}),(0,b.defineReadOnly)(U(n),"_subs",{}),(0,b.defineReadOnly)(U(n),"_subIds",{}),(0,b.defineReadOnly)(U(n),"_detectNetwork",e.prototype.detectNetwork.call(U(n))),n._websocket.onopen=function(){n._wsReady=!0,Object.keys(n._requests).forEach((function(e){n._websocket.send(n._requests[e].payload)}))},n._websocket.onmessage=function(e){var r=e.data,t=JSON.parse(r);if(null!=t.id){var i,o=String(t.id),s=n._requests[o];if(delete n._requests[o],void 0!==t.result)s.callback(null,t.result),n.emit("debug",{action:"response",request:JSON.parse(s.payload),response:t.result,provider:U(n)});else t.error?(i=new Error(t.error.message||"unknown error"),(0,b.defineReadOnly)(i,"code",t.error.code||null),(0,b.defineReadOnly)(i,"response",r)):i=new Error("unknown error"),s.callback(i,void 0),n.emit("debug",{action:"response",error:i,request:JSON.parse(s.payload),provider:U(n)})}else if("starcoin_subscription"===t.method){var a=n._subs[t.params.subscription];a&&a.processFunc(t.params.result)}else console.warn("this should not happen")};var i=setInterval((function(){n.emit("poll")}),1e3);return i.unref&&i.unref(),n}A(r,e);var t=r.prototype;return t.detectNetwork=function(){return this._detectNetwork},t.poll=function(){return Promise.resolve(null)},t.send=function(e,r){var t=this,n=Sn++;return new Promise((function(i,o){var s=JSON.stringify({method:e,params:r,id:n,jsonrpc:"2.0"});t.emit("debug",{action:"request",request:JSON.parse(s),provider:t}),t._requests[String(n)]={callback:function(e,r){return e?o(e):i(r)},payload:s},t._wsReady&&t._websocket.send(s)}))},r.defaultUrl=function(){return"ws://localhost:9870"},t._subscribe=function(e,r,t){try{var n=this,i=n._subIds[e];return null==i&&(i=Promise.all(r).then((function(e){return n.send("starcoin_subscribe",e)})),n._subIds[e]=i),Promise.resolve(i).then((function(r){n._subs[r]={tag:e,processFunc:t}}))}catch(o){return Promise.reject(o)}},t._startEvent=function(e){var r=this;switch(e.type){case Wt.block:this._subscribe(Wt.block,[{type_name:"newHeads"}],(function(e){var t=r.formatter.u64(e.header.number);r._emitted.block=t,r.emit(Wt.block,t)}));break;case Wt.pending:this._subscribe(Wt.pending,[{type_name:"newPendingTransactions"}],(function(e){r.emit(Wt.pending,e)}));break;case Wt.filter:this._subscribe(e.tag,[{type_name:"events"},e.filter],(function(t){r.emit(e.filter,r.formatter.transactionEvent(t))}));break;case Wt.tx:var t=function(e){var t=e.hash;r.getTransactionInfo(t).then((function(e){e&&r.emit(t,e)}))};t(e),this._subscribe(Wt.tx,[{type_name:"newHeads"}],(function(e){r._events.filter((function(e){return e.type===Wt.tx})).forEach(t)}));break;case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e)}},t._stopEvent=function(e){var r=this,t=e.tag;if(e.type===Wt.tx){if(this._events.filter((function(e){return e.type===Wt.tx})).length)return;t=Wt.tx}else if(this.listenerCount(e.event))return;var n=this._subIds[t];n&&(delete this._subIds[t],n.then((function(e){r._subs[e]&&(delete r._subs[e],r.send("starcoin_unsubscribe",[e]))})))},t.destroy=function(){try{var e=this,r=function(){e._websocket.close(1e3)},t=function(){if(e._websocket.readyState===E.CONNECTING)return Promise.resolve(new Promise((function(r){e._websocket.onopen=function(){r(!0)},e._websocket.onerror=function(){r(!1)}}))).then((function(){}))}();return Promise.resolve(t&&t.then?t.then(r):r())}catch(n){return Promise.reject(n)}},N(r,[{key:"pollingInterval",get:function(){return 0},set:function(e){An.throwError("cannot set polling interval on WebSocketProvider",y.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}},{key:"polling",set:function(e){e&&An.throwError("cannot set polling on WebSocketProvider",y.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}}]),r}(fn)},Bn=function(){function e(e){this.token_code=e}return e.prototype.serialize=function(e){this.token_code.serialize(e)},e.deserialize=function(r){return new e(Hn.deserialize(r))},e}(),On=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){qn.serializeArray16U8Array(this.value,e)},e.deserialize=function(r){return new e(qn.deserializeArray16U8Array(r))},e}(),Rn=function(){function e(e,r,t,n){this.block_number=e,this.block_reward=r,this.gas_fees=t,this.miner=n}return e.prototype.serialize=function(e){e.serializeU64(this.block_number),e.serializeU128(this.block_reward),e.serializeU128(this.gas_fees),this.miner.serialize(e)},e.deserialize=function(r){return new e(r.deserializeU64(),r.deserializeU128(),r.deserializeU128(),On.deserialize(r))},e}(),Vn=function(){function e(e,r){this.amount=e,this.token_code=r}return e.prototype.serialize=function(e){e.serializeU128(this.amount),this.token_code.serialize(e)},e.deserialize=function(r){return new e(r.deserializeU128(),Hn.deserialize(r))},e}(),Ln=function(){function e(e,r,t){this.amount=e,this.token_code=r,this.metadata=t}return e.prototype.serialize=function(e){e.serializeU128(this.amount),this.token_code.serialize(e),qn.serializeVectorU8(this.metadata,e)},e.deserialize=function(r){return new e(r.deserializeU128(),Hn.deserialize(r),qn.deserializeVectorU8(r))},e}(),Cn=function(){function e(e,r){this.amount=e,this.token_code=r}return e.prototype.serialize=function(e){e.serializeU128(this.amount),this.token_code.serialize(e)},e.deserialize=function(r){return new e(r.deserializeU128(),Hn.deserialize(r))},e}(),jn=function(){function e(e,r,t,n){this.number=e,this.author=r,this.timestamp=t,this.uncles=n}return e.prototype.serialize=function(e){e.serializeU64(this.number),this.author.serialize(e),e.serializeU64(this.timestamp),e.serializeU64(this.uncles)},e.deserialize=function(r){return new e(r.deserializeU64(),On.deserialize(r),r.deserializeU64(),r.deserializeU64())},e}(),Mn=function(){function e(e,r){this.proposal_id=e,this.proposer=r}return e.prototype.serialize=function(e){e.serializeU64(this.proposal_id),this.proposer.serialize(e)},e.deserialize=function(r){return new e(r.deserializeU64(),On.deserialize(r))},e}(),Hn=function(){function e(e,r,t){this.address=e,this.module=r,this.name=t}return e.prototype.serialize=function(e){this.address.serialize(e),e.serializeStr(this.module),e.serializeStr(this.name)},e.deserialize=function(r){return new e(On.deserialize(r),r.deserializeStr(),r.deserializeStr())},e}(),Fn=function(){function e(e,r,t,n,i){this.proposal_id=e,this.proposer=r,this.voter=t,this.agree=n,this.vote=i}return e.prototype.serialize=function(e){e.serializeU64(this.proposal_id),this.proposer.serialize(e),this.voter.serialize(e),e.serializeBool(this.agree),e.serializeU128(this.vote)},e.deserialize=function(r){return new e(r.deserializeU64(),On.deserialize(r),On.deserialize(r),r.deserializeBool(),r.deserializeU128())},e}(),Dn=function(){function e(e,r,t){this.amount=e,this.token_code=r,this.metadata=t}return e.prototype.serialize=function(e){e.serializeU128(this.amount),this.token_code.serialize(e),qn.serializeVectorU8(this.metadata,e)},e.deserialize=function(r){return new e(r.deserializeU128(),Hn.deserialize(r),qn.deserializeVectorU8(r))},e}(),qn=function(){function e(){}return e.serializeArray16U8Array=function(e,r){e.forEach((function(e){r.serializeU8(e[0])}))},e.deserializeArray16U8Array=function(e){for(var r=[],t=0;t<16;t++)r.push([e.deserializeU8()]);return r},e.serializeVectorU8=function(e,r){r.serializeLen(e.length),e.forEach((function(e){r.serializeU8(e)}))},e.deserializeVectorU8=function(e){for(var r=e.deserializeLen(),t=[],n=0;n<r;n++)t.push(e.deserializeU8());return t},e}(),Kn={__proto__:null,AcceptTokenEvent:Bn,AccountAddress:On,BlockRewardEvent:Rn,BurnEvent:Vn,DepositEvent:Ln,MintEvent:Cn,NewBlockEvent:jn,ProposalCreatedEvent:Mn,TokenCode:Hn,VoteChangedEvent:Fn,WithdrawEvent:Dn,Helpers:qn};Hn.prototype.toJS=function(){return{address:Xr(this.address),module:this.module,name:this.name}},Ln.prototype.toJS=function(){return{amount:this.amount,metadata:this.metadata,token_code:this.token_code.toJS()}},Bn.prototype.toJS=function(){return{token_code:this.token_code.toJS()}},Rn.prototype.toJS=function(){return{block_number:this.block_number,block_reward:this.block_reward,gas_fees:this.gas_fees,miner:Xr(this.miner)}},Vn.prototype.toJS=function(){return{amount:this.amount,token_code:this.token_code.toJS()}},Cn.prototype.toJS=function(){return{amount:this.amount,token_code:this.token_code.toJS()}},jn.prototype.toJS=function(){return{number:this.number,author:Xr(this.author),timestamp:this.timestamp,uncles:this.uncles}},Mn.prototype.toJS=function(){return{proposal_id:this.proposal_id,proposer:Xr(this.proposer)}},Fn.prototype.toJS=function(){return{agree:this.agree,vote:this.vote,voter:Xr(this.voter),proposal_id:this.proposal_id,proposer:Xr(this.proposer)}},Dn.prototype.toJS=function(){return{amount:this.amount,metadata:this.metadata,token_code:this.token_code.toJS()}},Ln.prototype.toJS=function(){return{amount:this.amount,metadata:this.metadata,token_code:this.token_code.toJS()}};var Wn={__proto__:null,decodeEventKey:function(e){var r=(0,i.arrayify)(e);if(24!==r.byteLength)throw new Error("invalid eventkey data, expect byte length to be 24, actual: "+r.byteLength);var t=r.slice(0,8),n=x.from(t).readBigUInt64LE();return{address:Mr(r.slice(8)),salt:n}},decodeEventData:function(e,r){return Kr(Kn[e],r)}}},587017:(e,r,t)=>{var n=t(348834).Buffer;const i=t(377270),o=t(697637),s=t(571696),a=t(622644),u=t(162197),c=t(616162);r.MAX_INTEGER=new u("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),r.TWO_POW256=new u("10000000000000000000000000000000000000000000000000000000000000000",16),r.SHA3_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",r.SHA3_NULL=n.from(r.SHA3_NULL_S,"hex"),r.SHA3_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",r.SHA3_RLP_ARRAY=n.from(r.SHA3_RLP_ARRAY_S,"hex"),r.SHA3_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",r.SHA3_RLP=n.from(r.SHA3_RLP_S,"hex"),r.BN=u,r.rlp=a,r.secp256k1=o,r.zeros=function(e){return n.allocUnsafe(e).fill(0)},r.setLengthLeft=r.setLength=function(e,t,n){var i=r.zeros(t);return e=r.toBuffer(e),n?e.length<t?(e.copy(i),i):e.slice(0,t):e.length<t?(e.copy(i,t-e.length),i):e.slice(-t)},r.setLengthRight=function(e,t){return r.setLength(e,t,!0)},r.unpad=r.stripZeros=function(e){for(var t=(e=r.stripHexPrefix(e))[0];e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e},r.toBuffer=function(e){if(!n.isBuffer(e))if(Array.isArray(e))e=n.from(e);else if("string"===typeof e)e=r.isHexPrefixed(e)?n.from(r.padToEven(r.stripHexPrefix(e)),"hex"):n.from(e);else if("number"===typeof e)e=r.intToBuffer(e);else if(null===e||void 0===e)e=n.allocUnsafe(0);else{if(!e.toArray)throw new Error("invalid type");e=n.from(e.toArray())}return e},r.intToHex=function(e){s(e%1===0,"number is not a integer"),s(e>=0,"number must be positive");var r=e.toString(16);return r.length%2&&(r="0"+r),"0x"+r},r.intToBuffer=function(e){var t=r.intToHex(e);return n.from(t.slice(2),"hex")},r.bufferToInt=function(e){return new u(r.toBuffer(e)).toNumber()},r.bufferToHex=function(e){return"0x"+(e=r.toBuffer(e)).toString("hex")},r.fromSigned=function(e){return new u(e).fromTwos(256)},r.toUnsigned=function(e){return n.from(e.toTwos(256).toArray())},r.sha3=function(e,t){return e=r.toBuffer(e),t||(t=256),i("keccak"+t).update(e).digest()},r.sha256=function(e){return e=r.toBuffer(e),c("sha256").update(e).digest()},r.ripemd160=function(e,t){e=r.toBuffer(e);var n=c("rmd160").update(e).digest();return!0===t?r.setLength(n,32):n},r.rlphash=function(e){return r.sha3(a.encode(e))},r.isValidPrivate=function(e){return o.privateKeyVerify(e)},r.isValidPublic=function(e,r){return 64===e.length?o.publicKeyVerify(n.concat([n.from([4]),e])):!!r&&o.publicKeyVerify(e)},r.pubToAddress=r.publicToAddress=function(e,t){return e=r.toBuffer(e),t&&64!==e.length&&(e=o.publicKeyConvert(e,!1).slice(1)),s(64===e.length),r.sha3(e).slice(-20)};var l=r.privateToPublic=function(e){return e=r.toBuffer(e),o.publicKeyCreate(e,!1).slice(1)};r.importPublic=function(e){return 64!==(e=r.toBuffer(e)).length&&(e=o.publicKeyConvert(e,!1).slice(1)),e},r.ecsign=function(e,r){var t=o.sign(e,r),n={};return n.r=t.signature.slice(0,32),n.s=t.signature.slice(32,64),n.v=t.recovery+27,n},r.hashPersonalMessage=function(e){var t=r.toBuffer("\x19Ethereum Signed Message:\n"+e.length.toString());return r.sha3(n.concat([t,e]))},r.ecrecover=function(e,t,i,s){var a=n.concat([r.setLength(i,32),r.setLength(s,32)],64),u=t-27;if(0!==u&&1!==u)throw new Error("Invalid signature v value");var c=o.recover(e,a,u);return o.publicKeyConvert(c,!1).slice(1)},r.toRpcSig=function(e,t,i){if(27!==e&&28!==e)throw new Error("Invalid recovery id");return r.bufferToHex(n.concat([r.setLengthLeft(t,32),r.setLengthLeft(i,32),r.toBuffer(e-27)]))},r.fromRpcSig=function(e){if(65!==(e=r.toBuffer(e)).length)throw new Error("Invalid signature length");var t=e[64];return t<27&&(t+=27),{v:t,r:e.slice(0,32),s:e.slice(32,64)}},r.privateToAddress=function(e){return r.publicToAddress(l(e))},r.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/i.test(e)},r.toChecksumAddress=function(e){e=r.stripHexPrefix(e).toLowerCase();for(var t=r.sha3(e).toString("hex"),n="0x",i=0;i<e.length;i++)parseInt(t[i],16)>=8?n+=e[i].toUpperCase():n+=e[i];return n},r.isValidChecksumAddress=function(e){return r.isValidAddress(e)&&r.toChecksumAddress(e)===e},r.generateAddress=function(e,t){return e=r.toBuffer(e),t=(t=new u(t)).isZero()?null:n.from(t.toArray()),r.rlphash([e,t]).slice(-20)},r.isPrecompiled=function(e){var t=r.unpad(e);return 1===t.length&&t[0]>0&&t[0]<5},r.isHexPrefixed=function(e){return"0x"===e.slice(0,2)},r.stripHexPrefix=function(e){return"string"!==typeof e?e:r.isHexPrefixed(e)?e.slice(2):e},r.addHexPrefix=function(e){return"string"!==typeof e||r.isHexPrefixed(e)?e:"0x"+e},r.padToEven=function(e){return e.length%2&&(e="0"+e),e};const f=new u("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),h=new u("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);r.isValidSignature=function(e,r,t,n){return 32===r.length&&32===t.length&&((27===e||28===e)&&(r=new u(r),t=new u(t),!(r.isZero()||r.gt(h)||t.isZero()||t.gt(h))&&(!1!==n||1!==new u(t).cmp(f))))},r.baToJSON=function(e){if(n.isBuffer(e))return"0x"+e.toString("hex");if(e instanceof Array){for(var t=[],i=0;i<e.length;i++)t.push(r.baToJSON(e[i]));return t}},r.defineProperties=function(e,t,i){if(e.raw=[],e._fields=[],e.toJSON=function(t){if(t){var n={};return e._fields.forEach((function(r){n[r]="0x"+e[r].toString("hex")})),n}return r.baToJSON(this.raw)},e.serialize=function(){return a.encode(e.raw)},t.forEach((function(t,i){function o(){return e.raw[i]}function a(o){"00"!==(o=r.toBuffer(o)).toString("hex")||t.allowZero||(o=n.allocUnsafe(0)),t.allowLess&&t.length?(o=r.stripZeros(o),s(t.length>=o.length,"The field "+t.name+" must not have more "+t.length+" bytes")):t.allowZero&&0===o.length||!t.length||s(t.length===o.length,"The field "+t.name+" must have byte length of "+t.length),e.raw[i]=o}e._fields.push(t.name),Object.defineProperty(e,t.name,{enumerable:!0,configurable:!0,get:o,set:a}),t.default&&(e[t.name]=t.default),t.alias&&Object.defineProperty(e,t.alias,{enumerable:!1,configurable:!0,set:a,get:o})})),i)if("string"===typeof i&&(i=n.from(r.stripHexPrefix(i),"hex")),n.isBuffer(i)&&(i=a.decode(i)),Array.isArray(i)){if(i.length>e._fields.length)throw new Error("wrong number of fields in data");i.forEach((function(t,n){e[e._fields[n]]=r.toBuffer(t)}))}else{if("object"!==typeof i)throw new Error("invalid data");{const r=Object.keys(i);t.forEach((function(t){-1!==r.indexOf(t.name)&&(e[t.name]=i[t.name]),-1!==r.indexOf(t.alias)&&(e[t.alias]=i[t.alias])}))}}}},437488:(e,r,t)=>{"use strict";t.r(r),t.d(r,{Decimal:()=>je,default:()=>Me});var n,i,o=9e15,s=1e9,a="0123456789abcdef",u="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",c="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",l={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-o,maxE:o,crypto:!1},f=!0,h="[DecimalError] ",d=h+"Invalid argument: ",p=h+"Precision limit exceeded",v=h+"crypto unavailable",g="[object Decimal]",m=Math.floor,y=Math.pow,w=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,_=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,b=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,z=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,k=1e7,P=7,E=u.length-1,x=c.length-1,T={toStringTag:g};function N(e){var r,t,n,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,r=1;r<i;r++)n=e[r]+"",(t=P-n.length)&&(o+=j(t)),o+=n;s=e[r],(t=P-(n=s+"").length)&&(o+=j(t))}else if(0===s)return"0";for(;s%10===0;)s/=10;return o+s}function I(e,r,t){if(e!==~~e||e<r||e>t)throw Error(d+e)}function A(e,r,t,n){var i,o,s,a;for(o=e[0];o>=10;o/=10)--r;return--r<0?(r+=P,i=0):(i=Math.ceil((r+1)/P),r%=P),o=y(10,P-r),a=e[i]%o|0,null==n?r<3?(0==r?a=a/100|0:1==r&&(a=a/10|0),s=t<4&&99999==a||t>3&&49999==a||5e4==a||0==a):s=(t<4&&a+1==o||t>3&&a+1==o/2)&&(e[i+1]/o/100|0)==y(10,r-2)-1||(a==o/2||0==a)&&0==(e[i+1]/o/100|0):r<4?(0==r?a=a/1e3|0:1==r?a=a/100|0:2==r&&(a=a/10|0),s=(n||t<4)&&9999==a||!n&&t>3&&4999==a):s=((n||t<4)&&a+1==o||!n&&t>3&&a+1==o/2)&&(e[i+1]/o/1e3|0)==y(10,r-3)-1,s}function S(e,r,t){for(var n,i,o=[0],s=0,u=e.length;s<u;){for(i=o.length;i--;)o[i]*=r;for(o[0]+=a.indexOf(e.charAt(s++)),n=0;n<o.length;n++)o[n]>t-1&&(void 0===o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/t|0,o[n]%=t)}return o.reverse()}T.absoluteValue=T.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),B(e)},T.ceil=function(){return B(new this.constructor(this),this.e+1,2)},T.clampedTo=T.clamp=function(e,r){var t=this,n=t.constructor;if(e=new n(e),r=new n(r),!e.s||!r.s)return new n(NaN);if(e.gt(r))throw Error(d+r);return t.cmp(e)<0?e:t.cmp(r)>0?r:new n(t)},T.comparedTo=T.cmp=function(e){var r,t,n,i,o=this,s=o.d,a=(e=new o.constructor(e)).d,u=o.s,c=e.s;if(!s||!a)return u&&c?u!==c?u:s===a?0:!s^u<0?1:-1:NaN;if(!s[0]||!a[0])return s[0]?u:a[0]?-c:0;if(u!==c)return u;if(o.e!==e.e)return o.e>e.e^u<0?1:-1;for(r=0,t=(n=s.length)<(i=a.length)?n:i;r<t;++r)if(s[r]!==a[r])return s[r]>a[r]^u<0?1:-1;return n===i?0:n>i^u<0?1:-1},T.cosine=T.cos=function(){var e,r,t=this,n=t.constructor;return t.d?t.d[0]?(e=n.precision,r=n.rounding,n.precision=e+Math.max(t.e,t.sd())+P,n.rounding=1,t=function(e,r){var t,n,i;if(r.isZero())return r;n=r.d.length,n<32?i=(1/Z(4,t=Math.ceil(n/3))).toString():(t=16,i="2.3283064365386962890625e-10");e.precision+=t,r=J(e,1,r.times(i),new e(1));for(var o=t;o--;){var s=r.times(r);r=s.times(s).minus(s).times(8).plus(1)}return e.precision-=t,r}(n,X(n,t)),n.precision=e,n.rounding=r,B(2==i||3==i?t.neg():t,e,r,!0)):new n(1):new n(NaN)},T.cubeRoot=T.cbrt=function(){var e,r,t,n,i,o,s,a,u,c,l=this,h=l.constructor;if(!l.isFinite()||l.isZero())return new h(l);for(f=!1,(o=l.s*y(l.s*l,1/3))&&Math.abs(o)!=1/0?n=new h(o.toString()):(t=N(l.d),(o=((e=l.e)-t.length+1)%3)&&(t+=1==o||-2==o?"0":"00"),o=y(t,1/3),e=m((e+1)/3)-(e%3==(e<0?-1:2)),(n=new h(t=o==1/0?"5e"+e:(t=o.toExponential()).slice(0,t.indexOf("e")+1)+e)).s=l.s),s=(e=h.precision)+3;;)if(c=(u=(a=n).times(a).times(a)).plus(l),n=U(c.plus(l).times(a),c.plus(u),s+2,1),N(a.d).slice(0,s)===(t=N(n.d)).slice(0,s)){if("9999"!=(t=t.slice(s-3,s+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(B(n,e+1,1),r=!n.times(n).times(n).eq(l));break}if(!i&&(B(a,e+1,0),a.times(a).times(a).eq(l))){n=a;break}s+=4,i=1}return f=!0,B(n,e,h.rounding,r)},T.decimalPlaces=T.dp=function(){var e,r=this.d,t=NaN;if(r){if(t=((e=r.length-1)-m(this.e/P))*P,e=r[e])for(;e%10==0;e/=10)t--;t<0&&(t=0)}return t},T.dividedBy=T.div=function(e){return U(this,new this.constructor(e))},T.dividedToIntegerBy=T.divToInt=function(e){var r=this.constructor;return B(U(this,new r(e),0,1,1),r.precision,r.rounding)},T.equals=T.eq=function(e){return 0===this.cmp(e)},T.floor=function(){return B(new this.constructor(this),this.e+1,3)},T.greaterThan=T.gt=function(e){return this.cmp(e)>0},T.greaterThanOrEqualTo=T.gte=function(e){var r=this.cmp(e);return 1==r||0===r},T.hyperbolicCosine=T.cosh=function(){var e,r,t,n,i,o=this,s=o.constructor,a=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return a;t=s.precision,n=s.rounding,s.precision=t+Math.max(o.e,o.sd())+4,s.rounding=1,(i=o.d.length)<32?r=(1/Z(4,e=Math.ceil(i/3))).toString():(e=16,r="2.3283064365386962890625e-10"),o=J(s,1,o.times(r),new s(1),!0);for(var u,c=e,l=new s(8);c--;)u=o.times(o),o=a.minus(u.times(l.minus(u.times(l))));return B(o,s.precision=t,s.rounding=n,!0)},T.hyperbolicSine=T.sinh=function(){var e,r,t,n,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(r=o.precision,t=o.rounding,o.precision=r+Math.max(i.e,i.sd())+4,o.rounding=1,(n=i.d.length)<3)i=J(o,2,i,i,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,i=J(o,2,i=i.times(1/Z(5,e)),i,!0);for(var s,a=new o(5),u=new o(16),c=new o(20);e--;)s=i.times(i),i=i.times(a.plus(s.times(u.times(s).plus(c))))}return o.precision=r,o.rounding=t,B(i,r,t,!0)},T.hyperbolicTangent=T.tanh=function(){var e,r,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(e=n.precision,r=n.rounding,n.precision=e+7,n.rounding=1,U(t.sinh(),t.cosh(),n.precision=e,n.rounding=r)):new n(t.s)},T.inverseCosine=T.acos=function(){var e,r=this,t=r.constructor,n=r.abs().cmp(1),i=t.precision,o=t.rounding;return-1!==n?0===n?r.isNeg()?L(t,i,o):new t(0):new t(NaN):r.isZero()?L(t,i+4,o).times(.5):(t.precision=i+6,t.rounding=1,r=r.asin(),e=L(t,i+4,o).times(.5),t.precision=i,t.rounding=o,e.minus(r))},T.inverseHyperbolicCosine=T.acosh=function(){var e,r,t=this,n=t.constructor;return t.lte(1)?new n(t.eq(1)?0:NaN):t.isFinite()?(e=n.precision,r=n.rounding,n.precision=e+Math.max(Math.abs(t.e),t.sd())+4,n.rounding=1,f=!1,t=t.times(t).minus(1).sqrt().plus(t),f=!0,n.precision=e,n.rounding=r,t.ln()):new n(t)},T.inverseHyperbolicSine=T.asinh=function(){var e,r,t=this,n=t.constructor;return!t.isFinite()||t.isZero()?new n(t):(e=n.precision,r=n.rounding,n.precision=e+2*Math.max(Math.abs(t.e),t.sd())+6,n.rounding=1,f=!1,t=t.times(t).plus(1).sqrt().plus(t),f=!0,n.precision=e,n.rounding=r,t.ln())},T.inverseHyperbolicTangent=T.atanh=function(){var e,r,t,n,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=o.precision,r=o.rounding,n=i.sd(),Math.max(n,e)<2*-i.e-1?B(new o(i),e,r,!0):(o.precision=t=n-i.e,i=U(i.plus(1),new o(1).minus(i),t+e,1),o.precision=e+4,o.rounding=1,i=i.ln(),o.precision=e,o.rounding=r,i.times(.5))):new o(NaN)},T.inverseSine=T.asin=function(){var e,r,t,n,i=this,o=i.constructor;return i.isZero()?new o(i):(r=i.abs().cmp(1),t=o.precision,n=o.rounding,-1!==r?0===r?((e=L(o,t+4,n).times(.5)).s=i.s,e):new o(NaN):(o.precision=t+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=t,o.rounding=n,i.times(2)))},T.inverseTangent=T.atan=function(){var e,r,t,n,i,o,s,a,u,c=this,l=c.constructor,h=l.precision,d=l.rounding;if(c.isFinite()){if(c.isZero())return new l(c);if(c.abs().eq(1)&&h+4<=x)return(s=L(l,h+4,d).times(.25)).s=c.s,s}else{if(!c.s)return new l(NaN);if(h+4<=x)return(s=L(l,h+4,d).times(.5)).s=c.s,s}for(l.precision=a=h+10,l.rounding=1,e=t=Math.min(28,a/P+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(f=!1,r=Math.ceil(a/P),n=1,u=c.times(c),s=new l(c),i=c;-1!==e;)if(i=i.times(u),o=s.minus(i.div(n+=2)),i=i.times(u),void 0!==(s=o.plus(i.div(n+=2))).d[r])for(e=r;s.d[e]===o.d[e]&&e--;);return t&&(s=s.times(2<<t-1)),f=!0,B(s,l.precision=h,l.rounding=d,!0)},T.isFinite=function(){return!!this.d},T.isInteger=T.isInt=function(){return!!this.d&&m(this.e/P)>this.d.length-2},T.isNaN=function(){return!this.s},T.isNegative=T.isNeg=function(){return this.s<0},T.isPositive=T.isPos=function(){return this.s>0},T.isZero=function(){return!!this.d&&0===this.d[0]},T.lessThan=T.lt=function(e){return this.cmp(e)<0},T.lessThanOrEqualTo=T.lte=function(e){return this.cmp(e)<1},T.logarithm=T.log=function(e){var r,t,n,i,o,s,a,u,c=this,l=c.constructor,h=l.precision,d=l.rounding;if(null==e)e=new l(10),r=!0;else{if(t=(e=new l(e)).d,e.s<0||!t||!t[0]||e.eq(1))return new l(NaN);r=e.eq(10)}if(t=c.d,c.s<0||!t||!t[0]||c.eq(1))return new l(t&&!t[0]?-1/0:1!=c.s?NaN:t?0:1/0);if(r)if(t.length>1)o=!0;else{for(i=t[0];i%10===0;)i/=10;o=1!==i}if(f=!1,s=q(c,a=h+5),n=r?V(l,a+10):q(e,a),A((u=U(s,n,a,1)).d,i=h,d))do{if(s=q(c,a+=10),n=r?V(l,a+10):q(e,a),u=U(s,n,a,1),!o){+N(u.d).slice(i+1,i+15)+1==1e14&&(u=B(u,h+1,0));break}}while(A(u.d,i+=10,d));return f=!0,B(u,h,d)},T.minus=T.sub=function(e){var r,t,n,i,o,s,a,u,c,l,h,d,p=this,v=p.constructor;if(e=new v(e),!p.d||!e.d)return p.s&&e.s?p.d?e.s=-e.s:e=new v(e.d||p.s!==e.s?p:NaN):e=new v(NaN),e;if(p.s!=e.s)return e.s=-e.s,p.plus(e);if(c=p.d,d=e.d,a=v.precision,u=v.rounding,!c[0]||!d[0]){if(d[0])e.s=-e.s;else{if(!c[0])return new v(3===u?-0:0);e=new v(p)}return f?B(e,a,u):e}if(t=m(e.e/P),l=m(p.e/P),c=c.slice(),o=l-t){for((h=o<0)?(r=c,o=-o,s=d.length):(r=d,t=l,s=c.length),o>(n=Math.max(Math.ceil(a/P),s)+2)&&(o=n,r.length=1),r.reverse(),n=o;n--;)r.push(0);r.reverse()}else{for((h=(n=c.length)<(s=d.length))&&(s=n),n=0;n<s;n++)if(c[n]!=d[n]){h=c[n]<d[n];break}o=0}for(h&&(r=c,c=d,d=r,e.s=-e.s),s=c.length,n=d.length-s;n>0;--n)c[s++]=0;for(n=d.length;n>o;){if(c[--n]<d[n]){for(i=n;i&&0===c[--i];)c[i]=k-1;--c[i],c[n]+=k}c[n]-=d[n]}for(;0===c[--s];)c.pop();for(;0===c[0];c.shift())--t;return c[0]?(e.d=c,e.e=R(c,t),f?B(e,a,u):e):new v(3===u?-0:0)},T.modulo=T.mod=function(e){var r,t=this,n=t.constructor;return e=new n(e),!t.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||t.d&&!t.d[0]?B(new n(t),n.precision,n.rounding):(f=!1,9==n.modulo?(r=U(t,e.abs(),0,3,1)).s*=e.s:r=U(t,e,0,n.modulo,1),r=r.times(e),f=!0,t.minus(r))},T.naturalExponential=T.exp=function(){return D(this)},T.naturalLogarithm=T.ln=function(){return q(this)},T.negated=T.neg=function(){var e=new this.constructor(this);return e.s=-e.s,B(e)},T.plus=T.add=function(e){var r,t,n,i,o,s,a,u,c,l,h=this,d=h.constructor;if(e=new d(e),!h.d||!e.d)return h.s&&e.s?h.d||(e=new d(e.d||h.s===e.s?h:NaN)):e=new d(NaN),e;if(h.s!=e.s)return e.s=-e.s,h.minus(e);if(c=h.d,l=e.d,a=d.precision,u=d.rounding,!c[0]||!l[0])return l[0]||(e=new d(h)),f?B(e,a,u):e;if(o=m(h.e/P),n=m(e.e/P),c=c.slice(),i=o-n){for(i<0?(t=c,i=-i,s=l.length):(t=l,n=o,s=c.length),i>(s=(o=Math.ceil(a/P))>s?o+1:s+1)&&(i=s,t.length=1),t.reverse();i--;)t.push(0);t.reverse()}for((s=c.length)-(i=l.length)<0&&(i=s,t=l,l=c,c=t),r=0;i;)r=(c[--i]=c[i]+l[i]+r)/k|0,c[i]%=k;for(r&&(c.unshift(r),++n),s=c.length;0==c[--s];)c.pop();return e.d=c,e.e=R(c,n),f?B(e,a,u):e},T.precision=T.sd=function(e){var r,t=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(d+e);return t.d?(r=C(t.d),e&&t.e+1>r&&(r=t.e+1)):r=NaN,r},T.round=function(){var e=this,r=e.constructor;return B(new r(e),e.e+1,r.rounding)},T.sine=T.sin=function(){var e,r,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(e=n.precision,r=n.rounding,n.precision=e+Math.max(t.e,t.sd())+P,n.rounding=1,t=function(e,r){var t,n=r.d.length;if(n<3)return r.isZero()?r:J(e,2,r,r);t=(t=1.4*Math.sqrt(n))>16?16:0|t,r=r.times(1/Z(5,t)),r=J(e,2,r,r);for(var i,o=new e(5),s=new e(16),a=new e(20);t--;)i=r.times(r),r=r.times(o.plus(i.times(s.times(i).minus(a))));return r}(n,X(n,t)),n.precision=e,n.rounding=r,B(i>2?t.neg():t,e,r,!0)):new n(NaN)},T.squareRoot=T.sqrt=function(){var e,r,t,n,i,o,s=this,a=s.d,u=s.e,c=s.s,l=s.constructor;if(1!==c||!a||!a[0])return new l(!c||c<0&&(!a||a[0])?NaN:a?s:1/0);for(f=!1,0==(c=Math.sqrt(+s))||c==1/0?(((r=N(a)).length+u)%2==0&&(r+="0"),c=Math.sqrt(r),u=m((u+1)/2)-(u<0||u%2),n=new l(r=c==1/0?"5e"+u:(r=c.toExponential()).slice(0,r.indexOf("e")+1)+u)):n=new l(c.toString()),t=(u=l.precision)+3;;)if(n=(o=n).plus(U(s,o,t+2,1)).times(.5),N(o.d).slice(0,t)===(r=N(n.d)).slice(0,t)){if("9999"!=(r=r.slice(t-3,t+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(B(n,u+1,1),e=!n.times(n).eq(s));break}if(!i&&(B(o,u+1,0),o.times(o).eq(s))){n=o;break}t+=4,i=1}return f=!0,B(n,u,l.rounding,e)},T.tangent=T.tan=function(){var e,r,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(e=n.precision,r=n.rounding,n.precision=e+10,n.rounding=1,(t=t.sin()).s=1,t=U(t,new n(1).minus(t.times(t)).sqrt(),e+10,0),n.precision=e,n.rounding=r,B(2==i||4==i?t.neg():t,e,r,!0)):new n(NaN)},T.times=T.mul=function(e){var r,t,n,i,o,s,a,u,c,l=this,h=l.constructor,d=l.d,p=(e=new h(e)).d;if(e.s*=l.s,!d||!d[0]||!p||!p[0])return new h(!e.s||d&&!d[0]&&!p||p&&!p[0]&&!d?NaN:d&&p?0*e.s:e.s/0);for(t=m(l.e/P)+m(e.e/P),(u=d.length)<(c=p.length)&&(o=d,d=p,p=o,s=u,u=c,c=s),o=[],n=s=u+c;n--;)o.push(0);for(n=c;--n>=0;){for(r=0,i=u+n;i>n;)a=o[i]+p[n]*d[i-n-1]+r,o[i--]=a%k|0,r=a/k|0;o[i]=(o[i]+r)%k|0}for(;!o[--s];)o.pop();return r?++t:o.shift(),e.d=o,e.e=R(o,t),f?B(e,h.precision,h.rounding):e},T.toBinary=function(e,r){return $(this,2,e,r)},T.toDecimalPlaces=T.toDP=function(e,r){var t=this,n=t.constructor;return t=new n(t),void 0===e?t:(I(e,0,s),void 0===r?r=n.rounding:I(r,0,8),B(t,e+t.e+1,r))},T.toExponential=function(e,r){var t,n=this,i=n.constructor;return void 0===e?t=O(n,!0):(I(e,0,s),void 0===r?r=i.rounding:I(r,0,8),t=O(n=B(new i(n),e+1,r),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+t:t},T.toFixed=function(e,r){var t,n,i=this,o=i.constructor;return void 0===e?t=O(i):(I(e,0,s),void 0===r?r=o.rounding:I(r,0,8),t=O(n=B(new o(i),e+i.e+1,r),!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+t:t},T.toFraction=function(e){var r,t,n,i,o,s,a,u,c,l,h,p,v=this,g=v.d,m=v.constructor;if(!g)return new m(v);if(c=t=new m(1),n=u=new m(0),s=(o=(r=new m(n)).e=C(g)-v.e-1)%P,r.d[0]=y(10,s<0?P+s:s),null==e)e=o>0?r:c;else{if(!(a=new m(e)).isInt()||a.lt(c))throw Error(d+a);e=a.gt(r)?o>0?r:c:a}for(f=!1,a=new m(N(g)),l=m.precision,m.precision=o=g.length*P*2;h=U(a,r,0,1,1),1!=(i=t.plus(h.times(n))).cmp(e);)t=n,n=i,i=c,c=u.plus(h.times(i)),u=i,i=r,r=a.minus(h.times(i)),a=i;return i=U(e.minus(t),n,0,1,1),u=u.plus(i.times(c)),t=t.plus(i.times(n)),u.s=c.s=v.s,p=U(c,n,o,1).minus(v).abs().cmp(U(u,t,o,1).minus(v).abs())<1?[c,n]:[u,t],m.precision=l,f=!0,p},T.toHexadecimal=T.toHex=function(e,r){return $(this,16,e,r)},T.toNearest=function(e,r){var t=this,n=t.constructor;if(t=new n(t),null==e){if(!t.d)return t;e=new n(1),r=n.rounding}else{if(e=new n(e),void 0===r?r=n.rounding:I(r,0,8),!t.d)return e.s?t:e;if(!e.d)return e.s&&(e.s=t.s),e}return e.d[0]?(f=!1,t=U(t,e,0,r,1).times(e),f=!0,B(t)):(e.s=t.s,t=e),t},T.toNumber=function(){return+this},T.toOctal=function(e,r){return $(this,8,e,r)},T.toPower=T.pow=function(e){var r,t,n,i,o,s,a=this,u=a.constructor,c=+(e=new u(e));if(!a.d||!e.d||!a.d[0]||!e.d[0])return new u(y(+a,c));if((a=new u(a)).eq(1))return a;if(n=u.precision,o=u.rounding,e.eq(1))return B(a,n,o);if((r=m(e.e/P))>=e.d.length-1&&(t=c<0?-c:c)<=9007199254740991)return i=M(u,a,t,n),e.s<0?new u(1).div(i):B(i,n,o);if((s=a.s)<0){if(r<e.d.length-1)return new u(NaN);if(0==(1&e.d[r])&&(s=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=s,a}return(r=0!=(t=y(+a,c))&&isFinite(t)?new u(t+"").e:m(c*(Math.log("0."+N(a.d))/Math.LN10+a.e+1)))>u.maxE+1||r<u.minE-1?new u(r>0?s/0:0):(f=!1,u.rounding=a.s=1,t=Math.min(12,(r+"").length),(i=D(e.times(q(a,n+t)),n)).d&&A((i=B(i,n+5,1)).d,n,o)&&(r=n+10,+N((i=B(D(e.times(q(a,r+t)),r),r+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=B(i,n+1,0))),i.s=s,f=!0,u.rounding=o,B(i,n,o))},T.toPrecision=function(e,r){var t,n=this,i=n.constructor;return void 0===e?t=O(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(I(e,1,s),void 0===r?r=i.rounding:I(r,0,8),t=O(n=B(new i(n),e,r),e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+t:t},T.toSignificantDigits=T.toSD=function(e,r){var t=this.constructor;return void 0===e?(e=t.precision,r=t.rounding):(I(e,1,s),void 0===r?r=t.rounding:I(r,0,8)),B(new t(this),e,r)},T.toString=function(){var e=this,r=e.constructor,t=O(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()&&!e.isZero()?"-"+t:t},T.truncated=T.trunc=function(){return B(new this.constructor(this),this.e+1,1)},T.valueOf=T.toJSON=function(){var e=this,r=e.constructor,t=O(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()?"-"+t:t};var U=function(){function e(e,r,t){var n,i=0,o=e.length;for(e=e.slice();o--;)n=e[o]*r+i,e[o]=n%t|0,i=n/t|0;return i&&e.unshift(i),e}function r(e,r,t,n){var i,o;if(t!=n)o=t>n?1:-1;else for(i=o=0;i<t;i++)if(e[i]!=r[i]){o=e[i]>r[i]?1:-1;break}return o}function t(e,r,t,n){for(var i=0;t--;)e[t]-=i,i=e[t]<r[t]?1:0,e[t]=i*n+e[t]-r[t];for(;!e[0]&&e.length>1;)e.shift()}return function(i,o,s,a,u,c){var l,f,h,d,p,v,g,y,w,_,b,z,E,x,T,N,I,A,S,U,O=i.constructor,R=i.s==o.s?1:-1,V=i.d,L=o.d;if(!V||!V[0]||!L||!L[0])return new O(i.s&&o.s&&(V?!L||V[0]!=L[0]:L)?V&&0==V[0]||!L?0*R:R/0:NaN);for(c?(p=1,f=i.e-o.e):(c=k,p=P,f=m(i.e/p)-m(o.e/p)),S=L.length,I=V.length,_=(w=new O(R)).d=[],h=0;L[h]==(V[h]||0);h++);if(L[h]>(V[h]||0)&&f--,null==s?(x=s=O.precision,a=O.rounding):x=u?s+(i.e-o.e)+1:s,x<0)_.push(1),v=!0;else{if(x=x/p+2|0,h=0,1==S){for(d=0,L=L[0],x++;(h<I||d)&&x--;h++)T=d*c+(V[h]||0),_[h]=T/L|0,d=T%L|0;v=d||h<I}else{for((d=c/(L[0]+1)|0)>1&&(L=e(L,d,c),V=e(V,d,c),S=L.length,I=V.length),N=S,z=(b=V.slice(0,S)).length;z<S;)b[z++]=0;(U=L.slice()).unshift(0),A=L[0],L[1]>=c/2&&++A;do{d=0,(l=r(L,b,S,z))<0?(E=b[0],S!=z&&(E=E*c+(b[1]||0)),(d=E/A|0)>1?(d>=c&&(d=c-1),1==(l=r(g=e(L,d,c),b,y=g.length,z=b.length))&&(d--,t(g,S<y?U:L,y,c))):(0==d&&(l=d=1),g=L.slice()),(y=g.length)<z&&g.unshift(0),t(b,g,z,c),-1==l&&(l=r(L,b,S,z=b.length))<1&&(d++,t(b,S<z?U:L,z,c)),z=b.length):0===l&&(d++,b=[0]),_[h++]=d,l&&b[0]?b[z++]=V[N]||0:(b=[V[N]],z=1)}while((N++<I||void 0!==b[0])&&x--);v=void 0!==b[0]}_[0]||_.shift()}if(1==p)w.e=f,n=v;else{for(h=1,d=_[0];d>=10;d/=10)h++;w.e=h+f*p-1,B(w,u?s+w.e+1:s,a,v)}return w}}();function B(e,r,t,n){var i,o,s,a,u,c,l,h,d,p=e.constructor;e:if(null!=r){if(!(h=e.d))return e;for(i=1,a=h[0];a>=10;a/=10)i++;if((o=r-i)<0)o+=P,s=r,u=(l=h[d=0])/y(10,i-s-1)%10|0;else if((d=Math.ceil((o+1)/P))>=(a=h.length)){if(!n)break e;for(;a++<=d;)h.push(0);l=u=0,i=1,s=(o%=P)-P+1}else{for(l=a=h[d],i=1;a>=10;a/=10)i++;u=(s=(o%=P)-P+i)<0?0:l/y(10,i-s-1)%10|0}if(n=n||r<0||void 0!==h[d+1]||(s<0?l:l%y(10,i-s-1)),c=t<4?(u||n)&&(0==t||t==(e.s<0?3:2)):u>5||5==u&&(4==t||n||6==t&&(o>0?s>0?l/y(10,i-s):0:h[d-1])%10&1||t==(e.s<0?8:7)),r<1||!h[0])return h.length=0,c?(r-=e.e+1,h[0]=y(10,(P-r%P)%P),e.e=-r||0):h[0]=e.e=0,e;if(0==o?(h.length=d,a=1,d--):(h.length=d+1,a=y(10,P-o),h[d]=s>0?(l/y(10,i-s)%y(10,s)|0)*a:0),c)for(;;){if(0==d){for(o=1,s=h[0];s>=10;s/=10)o++;for(s=h[0]+=a,a=1;s>=10;s/=10)a++;o!=a&&(e.e++,h[0]==k&&(h[0]=1));break}if(h[d]+=a,h[d]!=k)break;h[d--]=0,a=1}for(o=h.length;0===h[--o];)h.pop()}return f&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function O(e,r,t){if(!e.isFinite())return K(e);var n,i=e.e,o=N(e.d),s=o.length;return r?(t&&(n=t-s)>0?o=o.charAt(0)+"."+o.slice(1)+j(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):i<0?(o="0."+j(-i-1)+o,t&&(n=t-s)>0&&(o+=j(n))):i>=s?(o+=j(i+1-s),t&&(n=t-i-1)>0&&(o=o+"."+j(n))):((n=i+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),t&&(n=t-s)>0&&(i+1===s&&(o+="."),o+=j(n))),o}function R(e,r){var t=e[0];for(r*=P;t>=10;t/=10)r++;return r}function V(e,r,t){if(r>E)throw f=!0,t&&(e.precision=t),Error(p);return B(new e(u),r,1,!0)}function L(e,r,t){if(r>x)throw Error(p);return B(new e(c),r,t,!0)}function C(e){var r=e.length-1,t=r*P+1;if(r=e[r]){for(;r%10==0;r/=10)t--;for(r=e[0];r>=10;r/=10)t++}return t}function j(e){for(var r="";e--;)r+="0";return r}function M(e,r,t,n){var i,o=new e(1),s=Math.ceil(n/P+4);for(f=!1;;){if(t%2&&Q((o=o.times(r)).d,s)&&(i=!0),0===(t=m(t/2))){t=o.d.length-1,i&&0===o.d[t]&&++o.d[t];break}Q((r=r.times(r)).d,s)}return f=!0,o}function H(e){return 1&e.d[e.d.length-1]}function F(e,r,t){for(var n,i=new e(r[0]),o=0;++o<r.length;){if(!(n=new e(r[o])).s){i=n;break}i[t](n)&&(i=n)}return i}function D(e,r){var t,n,i,o,s,a,u,c=0,l=0,h=0,d=e.constructor,p=d.rounding,v=d.precision;if(!e.d||!e.d[0]||e.e>17)return new d(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==r?(f=!1,u=v):u=r,a=new d(.03125);e.e>-2;)e=e.times(a),h+=5;for(u+=n=Math.log(y(2,h))/Math.LN10*2+5|0,t=o=s=new d(1),d.precision=u;;){if(o=B(o.times(e),u,1),t=t.times(++l),N((a=s.plus(U(o,t,u,1))).d).slice(0,u)===N(s.d).slice(0,u)){for(i=h;i--;)s=B(s.times(s),u,1);if(null!=r)return d.precision=v,s;if(!(c<3&&A(s.d,u-n,p,c)))return B(s,d.precision=v,p,f=!0);d.precision=u+=10,t=o=a=new d(1),l=0,c++}s=a}}function q(e,r){var t,n,i,o,s,a,u,c,l,h,d,p=1,v=e,g=v.d,m=v.constructor,y=m.rounding,w=m.precision;if(v.s<0||!g||!g[0]||!v.e&&1==g[0]&&1==g.length)return new m(g&&!g[0]?-1/0:1!=v.s?NaN:g?0:v);if(null==r?(f=!1,l=w):l=r,m.precision=l+=10,n=(t=N(g)).charAt(0),!(Math.abs(o=v.e)<15e14))return c=V(m,l+2,w).times(o+""),v=q(new m(n+"."+t.slice(1)),l-10).plus(c),m.precision=w,null==r?B(v,w,y,f=!0):v;for(;n<7&&1!=n||1==n&&t.charAt(1)>3;)n=(t=N((v=v.times(e)).d)).charAt(0),p++;for(o=v.e,n>1?(v=new m("0."+t),o++):v=new m(n+"."+t.slice(1)),h=v,u=s=v=U(v.minus(1),v.plus(1),l,1),d=B(v.times(v),l,1),i=3;;){if(s=B(s.times(d),l,1),N((c=u.plus(U(s,new m(i),l,1))).d).slice(0,l)===N(u.d).slice(0,l)){if(u=u.times(2),0!==o&&(u=u.plus(V(m,l+2,w).times(o+""))),u=U(u,new m(p),l,1),null!=r)return m.precision=w,u;if(!A(u.d,l-10,y,a))return B(u,m.precision=w,y,f=!0);m.precision=l+=10,c=s=v=U(h.minus(1),h.plus(1),l,1),d=B(v.times(v),l,1),i=a=1}u=c,i+=2}}function K(e){return String(e.s*e.s/0)}function W(e,r){var t,n,i;for((t=r.indexOf("."))>-1&&(r=r.replace(".","")),(n=r.search(/e/i))>0?(t<0&&(t=n),t+=+r.slice(n+1),r=r.substring(0,n)):t<0&&(t=r.length),n=0;48===r.charCodeAt(n);n++);for(i=r.length;48===r.charCodeAt(i-1);--i);if(r=r.slice(n,i)){if(i-=n,e.e=t=t-n-1,e.d=[],n=(t+1)%P,t<0&&(n+=P),n<i){for(n&&e.d.push(+r.slice(0,n)),i-=P;n<i;)e.d.push(+r.slice(n,n+=P));r=r.slice(n),n=P-r.length}else n-=i;for(;n--;)r+="0";e.d.push(+r),f&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function G(e,r){var t,n,i,o,s,a,u,c,l;if(r.indexOf("_")>-1){if(r=r.replace(/(\d)_(?=\d)/g,"$1"),z.test(r))return W(e,r)}else if("Infinity"===r||"NaN"===r)return+r||(e.s=NaN),e.e=NaN,e.d=null,e;if(_.test(r))t=16,r=r.toLowerCase();else if(w.test(r))t=2;else{if(!b.test(r))throw Error(d+r);t=8}for((o=r.search(/p/i))>0?(u=+r.slice(o+1),r=r.substring(2,o)):r=r.slice(2),s=(o=r.indexOf("."))>=0,n=e.constructor,s&&(o=(a=(r=r.replace(".","")).length)-o,i=M(n,new n(t),o,2*o)),o=l=(c=S(r,t,k)).length-1;0===c[o];--o)c.pop();return o<0?new n(0*e.s):(e.e=R(c,l),e.d=c,f=!1,s&&(e=U(e,i,4*a)),u&&(e=e.times(Math.abs(u)<54?y(2,u):je.pow(2,u))),f=!0,e)}function J(e,r,t,n,i){var o,s,a,u,c=e.precision,l=Math.ceil(c/P);for(f=!1,u=t.times(t),a=new e(n);;){if(s=U(a.times(u),new e(r++*r++),c,1),a=i?n.plus(s):n.minus(s),n=U(s.times(u),new e(r++*r++),c,1),void 0!==(s=a.plus(n)).d[l]){for(o=l;s.d[o]===a.d[o]&&o--;);if(-1==o)break}o=a,a=n,n=s,s=o}return f=!0,s.d.length=l+1,s}function Z(e,r){for(var t=e;--r;)t*=e;return t}function X(e,r){var t,n=r.s<0,o=L(e,e.precision,1),s=o.times(.5);if((r=r.abs()).lte(s))return i=n?4:1,r;if((t=r.divToInt(o)).isZero())i=n?3:2;else{if((r=r.minus(t.times(o))).lte(s))return i=H(t)?n?2:3:n?4:1,r;i=H(t)?n?1:4:n?3:2}return r.minus(o).abs()}function $(e,r,t,i){var o,u,c,l,f,h,d,p,v,g=e.constructor,m=void 0!==t;if(m?(I(t,1,s),void 0===i?i=g.rounding:I(i,0,8)):(t=g.precision,i=g.rounding),e.isFinite()){for(m?(o=2,16==r?t=4*t-3:8==r&&(t=3*t-2)):o=r,(c=(d=O(e)).indexOf("."))>=0&&(d=d.replace(".",""),(v=new g(1)).e=d.length-c,v.d=S(O(v),10,o),v.e=v.d.length),u=f=(p=S(d,10,o)).length;0==p[--f];)p.pop();if(p[0]){if(c<0?u--:((e=new g(e)).d=p,e.e=u,p=(e=U(e,v,t,i,0,o)).d,u=e.e,h=n),c=p[t],l=o/2,h=h||void 0!==p[t+1],h=i<4?(void 0!==c||h)&&(0===i||i===(e.s<0?3:2)):c>l||c===l&&(4===i||h||6===i&&1&p[t-1]||i===(e.s<0?8:7)),p.length=t,h)for(;++p[--t]>o-1;)p[t]=0,t||(++u,p.unshift(1));for(f=p.length;!p[f-1];--f);for(c=0,d="";c<f;c++)d+=a.charAt(p[c]);if(m){if(f>1)if(16==r||8==r){for(c=16==r?4:3,--f;f%c;f++)d+="0";for(f=(p=S(d,o,r)).length;!p[f-1];--f);for(c=1,d="1.";c<f;c++)d+=a.charAt(p[c])}else d=d.charAt(0)+"."+d.slice(1);d=d+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)d="0"+d;d="0."+d}else if(++u>f)for(u-=f;u--;)d+="0";else u<f&&(d=d.slice(0,u)+"."+d.slice(u))}else d=m?"0p+0":"0";d=(16==r?"0x":2==r?"0b":8==r?"0o":"")+d}else d=K(e);return e.s<0?"-"+d:d}function Q(e,r){if(e.length>r)return e.length=r,!0}function Y(e){return new this(e).abs()}function ee(e){return new this(e).acos()}function re(e){return new this(e).acosh()}function te(e,r){return new this(e).plus(r)}function ne(e){return new this(e).asin()}function ie(e){return new this(e).asinh()}function oe(e){return new this(e).atan()}function se(e){return new this(e).atanh()}function ae(e,r){e=new this(e),r=new this(r);var t,n=this.precision,i=this.rounding,o=n+4;return e.s&&r.s?e.d||r.d?!r.d||e.isZero()?(t=r.s<0?L(this,n,i):new this(0)).s=e.s:!e.d||r.isZero()?(t=L(this,o,1).times(.5)).s=e.s:r.s<0?(this.precision=o,this.rounding=1,t=this.atan(U(e,r,o,1)),r=L(this,o,1),this.precision=n,this.rounding=i,t=e.s<0?t.minus(r):t.plus(r)):t=this.atan(U(e,r,o,1)):(t=L(this,o,1).times(r.s>0?.25:.75)).s=e.s:t=new this(NaN),t}function ue(e){return new this(e).cbrt()}function ce(e){return B(e=new this(e),e.e+1,2)}function le(e,r,t){return new this(e).clamp(r,t)}function fe(e){if(!e||"object"!==typeof e)throw Error(h+"Object expected");var r,t,n,i=!0===e.defaults,a=["precision",1,s,"rounding",0,8,"toExpNeg",-o,0,"toExpPos",0,o,"maxE",0,o,"minE",-o,0,"modulo",0,9];for(r=0;r<a.length;r+=3)if(t=a[r],i&&(this[t]=l[t]),void 0!==(n=e[t])){if(!(m(n)===n&&n>=a[r+1]&&n<=a[r+2]))throw Error(d+t+": "+n);this[t]=n}if(t="crypto",i&&(this[t]=l[t]),void 0!==(n=e[t])){if(!0!==n&&!1!==n&&0!==n&&1!==n)throw Error(d+t+": "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(v);this[t]=!0}else this[t]=!1}return this}function he(e){return new this(e).cos()}function de(e){return new this(e).cosh()}function pe(e,r){return new this(e).div(r)}function ve(e){return new this(e).exp()}function ge(e){return B(e=new this(e),e.e+1,3)}function me(){var e,r,t=new this(0);for(f=!1,e=0;e<arguments.length;)if((r=new this(arguments[e++])).d)t.d&&(t=t.plus(r.times(r)));else{if(r.s)return f=!0,new this(1/0);t=r}return f=!0,t.sqrt()}function ye(e){return e instanceof je||e&&e.toStringTag===g||!1}function we(e){return new this(e).ln()}function _e(e,r){return new this(e).log(r)}function be(e){return new this(e).log(2)}function ze(e){return new this(e).log(10)}function ke(){return F(this,arguments,"lt")}function Pe(){return F(this,arguments,"gt")}function Ee(e,r){return new this(e).mod(r)}function xe(e,r){return new this(e).mul(r)}function Te(e,r){return new this(e).pow(r)}function Ne(e){var r,t,n,i,o=0,a=new this(1),u=[];if(void 0===e?e=this.precision:I(e,1,s),n=Math.ceil(e/P),this.crypto)if(crypto.getRandomValues)for(r=crypto.getRandomValues(new Uint32Array(n));o<n;)(i=r[o])>=429e7?r[o]=crypto.getRandomValues(new Uint32Array(1))[0]:u[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(v);for(r=crypto.randomBytes(n*=4);o<n;)(i=r[o]+(r[o+1]<<8)+(r[o+2]<<16)+((127&r[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(r,o):(u.push(i%1e7),o+=4);o=n/4}else for(;o<n;)u[o++]=1e7*Math.random()|0;for(n=u[--o],e%=P,n&&e&&(i=y(10,P-e),u[o]=(n/i|0)*i);0===u[o];o--)u.pop();if(o<0)t=0,u=[0];else{for(t=-1;0===u[0];t-=P)u.shift();for(n=1,i=u[0];i>=10;i/=10)n++;n<P&&(t-=P-n)}return a.e=t,a.d=u,a}function Ie(e){return B(e=new this(e),e.e+1,this.rounding)}function Ae(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function Se(e){return new this(e).sin()}function Ue(e){return new this(e).sinh()}function Be(e){return new this(e).sqrt()}function Oe(e,r){return new this(e).sub(r)}function Re(){var e=0,r=arguments,t=new this(r[e]);for(f=!1;t.s&&++e<r.length;)t=t.plus(r[e]);return f=!0,B(t,this.precision,this.rounding)}function Ve(e){return new this(e).tan()}function Le(e){return new this(e).tanh()}function Ce(e){return B(e=new this(e),e.e+1,1)}T[Symbol.for("nodejs.util.inspect.custom")]=T.toString,T[Symbol.toStringTag]="Decimal";var je=T.constructor=function e(r){var t,n,i;function o(e){var r,t,n,i=this;if(!(i instanceof o))return new o(e);if(i.constructor=o,ye(e))return i.s=e.s,void(f?!e.d||e.e>o.maxE?(i.e=NaN,i.d=null):e.e<o.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"===(n=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(r=0,t=e;t>=10;t/=10)r++;return void(f?r>o.maxE?(i.e=NaN,i.d=null):r<o.minE?(i.e=0,i.d=[0]):(i.e=r,i.d=[e]):(i.e=r,i.d=[e]))}return 0*e!==0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):W(i,e.toString())}if("string"!==n)throw Error(d+e);return 45===(t=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===t&&(e=e.slice(1)),i.s=1),z.test(e)?W(i,e):G(i,e)}if(o.prototype=T,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=fe,o.clone=e,o.isDecimal=ye,o.abs=Y,o.acos=ee,o.acosh=re,o.add=te,o.asin=ne,o.asinh=ie,o.atan=oe,o.atanh=se,o.atan2=ae,o.cbrt=ue,o.ceil=ce,o.clamp=le,o.cos=he,o.cosh=de,o.div=pe,o.exp=ve,o.floor=ge,o.hypot=me,o.ln=we,o.log=_e,o.log10=ze,o.log2=be,o.max=ke,o.min=Pe,o.mod=Ee,o.mul=xe,o.pow=Te,o.random=Ne,o.round=Ie,o.sign=Ae,o.sin=Se,o.sinh=Ue,o.sqrt=Be,o.sub=Oe,o.sum=Re,o.tan=Ve,o.tanh=Le,o.trunc=Ce,void 0===r&&(r={}),r&&!0!==r.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<i.length;)r.hasOwnProperty(n=i[t++])||(r[n]=this[n]);return o.config(r),o}(l);u=new je(u),c=new je(c);const Me=je},273756:e=>{"use strict";e.exports=function(e){var r="string"===typeof e?e.charCodeAt(0):e;return r>=97&&r<=122||r>=65&&r<=90}},365279:(e,r,t)=>{"use strict";var n=t(273756),i=t(261278);e.exports=function(e){return n(e)||i(e)}},261278:e=>{"use strict";e.exports=function(e){var r="string"===typeof e?e.charCodeAt(0):e;return r>=48&&r<=57}},348833:e=>{"use strict";e.exports=function(e){var r="string"===typeof e?e.charCodeAt(0):e;return r>=97&&r<=102||r>=65&&r<=70||r>=48&&r<=57}},674898:e=>{"use strict";e.exports=function(e){return t.test("number"===typeof e?r(e):e.charAt(0))};var r=String.fromCharCode,t=/\s/},65048:e=>{"use strict";e.exports=JSON.parse('{"name":"@starcoin/starcoin","version":"2.1.5","description":"starcoin js sdk","author":"lerencao, wk3368, tarvos21","license":"Apache-2.0","bugs":{"url":"https://github.com/starcoinorg/starcoin.js"},"homepage":"https://github.com/starcoinorg/starcoin.js#readme","repository":{"type":"git","url":"git+https://github.com/starcoinorg/starcoin.js"},"keywords":["starcoin","defi","dapp","sdk","blockchain","client","javascript"],"source":"index.ts","types":"dist/index.d.ts","main":"dist/starcoin.js","module":"dist/starcoin.module.js","umd:main":"./dist/starcoin.umd.js","files":["dist","LICENSE","readme.md"],"dependencies":{"@ethersproject/basex":"^5.0.4","@ethersproject/bignumber":"^5.0","@ethersproject/bytes":"^5.0.6","@ethersproject/hash":"^5.0.6","@ethersproject/keccak256":"^5.0.5","@ethersproject/logger":"^5.0.6","@ethersproject/properties":"^5.0.4","@ethersproject/sha2":"^5.0.4","@ethersproject/web":"^5.0.9","@noble/ed25519":"^1.6.0","bech32":"^2.0.0","ethereumjs-util":"5.1.0","fs":"^0.0.1-security","is-alphabetical":"^1.0.4","is-alphanumerical":"^1.0.4","is-decimal":"^1.0.4","is-hexadecimal":"^1.0.4","is-whitespace-character":"^1.0.4","is-word-character":"^1.0.4","js-sha3":"^0.8.0","jssha":"^3.2.0","lodash":"^4.17.21","ws":"7.2.3"},"devDependencies":{"@types/jest":"^26.0.14","@typescript-eslint/eslint-plugin":"^4.1.1","@typescript-eslint/parser":"^4.1.1","cz-conventional-changelog":"^3.3.0","eslint":"^7.9.0","eslint-config-airbnb-typescript":"^10.0.0","eslint-config-prettier":"^6.10.1","eslint-formatter-pretty":"^4.0.0","eslint-plugin-import":"^2.20.1","eslint-plugin-jest":"^24.0.2","eslint-plugin-promise":"^4.2.1","eslint-plugin-unicorn":"^22.0.0","jest":"^26.4.2","microbundle":"^0.12.0","prettier":"^2.0.4","ts-jest":"^26.3.0","typescript":"^4.0.3"},"scripts":{"prepublishOnly":"yarn build","build":"microbundle -o dist/ --sourcemap false --compress false -f modern,es,cjs && microbundle -o dist/ -f umd","dev":"microbundle watch -o dist/ --sourcemap false --compress false -f modern,es,cjs","test":"yarn test:coverage","test:unit":"jest","test:coverage":"jest --coverage","lint":"eslint --ext .js,.jsx,.ts,.tsx ."},"jest":{"testEnvironment":"node","testPathIgnorePatterns":["node_modules","dist","coverage"],"transform":{"^.+\\\\.ts?$":"ts-jest"}},"config":{"commitizen":{"path":"cz-conventional-changelog"}},"prettier":{"singleQuote":true}}')}}]);