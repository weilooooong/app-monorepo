(self.webpackChunkweb=self.webpackChunkweb||[]).push([[37476,98621],{317568:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var r=n(256666),o=n(317534),a=n(18861),i=n(10918),l=n(552322);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){var t=e.name,n=e.address,r=e.amount,s=e.priorityAmount,d=e.notShowAddress,c=e.containerProps,f=void 0===c?{}:c,p=e.color,m=null,h=!1,x=!1;null!=t?m=t:null==n||d||(h=!0);var g=null;return s||h||!n||d?(null!=m||h)&&(g=null!=r?r:null):x=!0,(0,l.jsx)(a.default,u(u({alignItems:"center",flexDirection:"row",justifyContent:"flex-start"},f),{},{children:!!(m||g||h||x)&&(0,l.jsxs)(a.default,{children:[!(!m&&!h)&&(h?(0,l.jsx)(o.default,{typography:"Body2Strong",text:n,short:!0,color:p||"text-default"}):(0,l.jsx)(i.default.Body2Strong,{color:p||"text-default",isTruncated:!0,children:m})),!(!g&&!x)&&(x?(0,l.jsx)(o.default,{color:p||"text-subdued",typography:"Body2",text:n,short:!0}):(0,l.jsx)(i.default.Body2,{color:p||"text-subdued",children:g}))]})}))};d.defaultProps={avatarSize:"md",hiddenAvatar:!1};const c=d},317534:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(256666),o=n(459740),a=n(866904),i=n(626015),l=n(552322),s=["text","short","prefix"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e){var t=e.text,n=e.short,r=e.prefix,u=(0,o.default)(e,s),c=t;return n&&(c=(0,i.shortenAddress)(c)),(0,l.jsxs)(a.default,d(d({},u),{},{children:[!!r&&r,c]}))};c.displayName="Address",c.defaultProps={short:!1};const f=c},417141:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DesktopDragZoneAbsoluteBar:()=>o,default:()=>a});var r=n(202784),o=(n(552322),r.Fragment);const a=r.Fragment},995030:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AnimatedButton:()=>f,default:()=>m});var r=n(256666),o=n(321668),a=n(490409),i=n(97941),l=n(132242),s=n(600378),u=n(552322);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=i.default(o.default),p={code:"function anonymous(){const{isHovered}=this._closure;return{display:isHovered.value?'flex':'none',opacity:isHovered.value?1:0};}",location:"/home/runner/work/app-monorepo/app-monorepo/packages/components/src/HoverContainer/index.tsx"};const m=function(e){var t=e.children,n=e.hoverButtonProps,r=(0,l.useSharedValue)(!1),o=(0,s.useAnimatedStyle)(function(){var e=function(){return{display:r.value?"flex":"none",opacity:r.value?1:0}};return e._closure={isHovered:r},e.__initData=p,e.__workletHash=0xbd90e3e89ab,e}(),[]);return(0,u.jsxs)(a.MotiPressable,{hoveredValue:r,children:[t,(0,u.jsx)(f,c({style:o},n))]})}},184329:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(202784).createContext)(void 0)},439762:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(202784),o=n(184329);function a(){var e=(0,r.useContext)(o.default);if(void 0===e)throw new Error("Couldn't find the bottom tab bar height. Are you inside a screen in Bottom Tab Navigator?");return e}},761122:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(256666),o=n(539144),a=n(297263),i=n(202784),l=n(46486),s=n(718468),u=n(10918),d=n(552322);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const p=function(e){var t=e.children,n=(0,a.default)("text-default"),r=(0,a.default)("text-subdued"),c=(0,o.default)(),p=(0,a.default)("divider"),m=(0,i.useMemo)((function(){return l.default.create({body:f({color:r},c?u.Body1Props:u.Body2Props),paragraph:{marginVertical:4},heading1:f({marginTop:12,color:n},u.DisplayMediumProps),heading3:f({marginTop:24,marginBottom:4,color:n},u.DisplaySmallProps),list_item:{marginVertical:4,flexDirection:"row"},hr:{marginTop:24,marginBottom:12,backgroundColor:p,height:1}})}),[r,n,p,c]);return(0,d.jsx)(s.default,{mergeStyle:!1,style:m,children:t})}},823621:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>O});var r=n(256666),o=n(297263),a=n(539144),i=n(459740),l=n(202784),s=n(46486),u=n(824931),d=n(311631),c=n(18861),f=n(433996),p=n(493877),m=n(322987),h=n(552322);const x=function(e){var t=e.navigation,n=void 0===t?(0,p.getAppNavigation)():t,r=(0,a.default)();return(0,h.jsx)(f.default,{type:"plain",size:"lg",name:r?"ArrowLeftOutline":"ArrowSmallLeftOutline",onPress:function(){null!=n&&n.canGoBack()?null==n||n.goBack():m.navigationShortcuts.navigateToHome()},circle:!0})};var g=n(196234),b=n(783112),v=n(866904);const y=function(e){var t=e.title,n=e.subtitle,r=e.i18nTitle,o=e.i18nSubtitle,i=e.inCenter,u=void 0===i||i,d=e.children,f=(0,a.default)(),p=(0,b.default)(),m=(0,l.useMemo)((function(){return[r?p.formatMessage({id:r}):t,o?p.formatMessage({id:o}):n]}),[r,p,t,o,n]),x=(0,g.default)(m,2),y=x[0],j=x[1],w=(0,l.useMemo)((function(){return(0,h.jsxs)(c.default,{flex:1,justifyContent:"center",alignItems:u?"center":"flex-start",style:s.default.absoluteFill,zIndex:-1,children:[d,!!y&&(0,h.jsx)(v.default,{typography:u?"Heading":"PageHeading",children:y}),!!j&&(0,h.jsx)(v.default,{typography:"Caption",color:"text-subdued",children:j})]})}),[d,u,j,y]),k=(0,l.useMemo)((function(){return(0,h.jsxs)(c.default,{flex:1,flexDirection:"row",alignItems:"baseline",children:[d,!!y&&(0,h.jsx)(v.default,{typography:"Heading",children:y}),!!j&&(0,h.jsx)(v.default,{typography:"Body2",ml:"12px",color:"text-subdued",children:j})]})}),[d,j,y]);return f?w:k};var j=["headerLeft","headerRight","headerTitle","safeTop","alwaysShowBackButton","style","navigation","options","route","back"];function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=s.default.create({content:{flex:1,flexDirection:"row",alignItems:"center"},left:{justifyContent:"center",alignItems:"flex-start"},right:{justifyContent:"center",alignItems:"flex-end"},expand:{flexGrow:1,flexBasis:0}});const O=function(e){var t=e.headerLeft,n=e.headerRight,r=e.headerTitle,f=e.safeTop,p=e.alwaysShowBackButton,m=e.style,g=e.navigation,b=e.options,v=void 0===b?{}:b,w=e.route,O=e.back,I=(0,i.default)(e,j),S=(0,d.useSafeAreaInsets)(),T=(0,a.default)(),C=(0,o.default)("background-default"),M=T?56:64,P=Boolean(O||p||t),A=(0,l.useMemo)((function(){if(r)return(0,h.jsx)(y,{inCenter:P,children:r()});if("function"===typeof v.headerTitle)return(0,h.jsx)(y,{inCenter:P,children:v.headerTitle()});var e=v,t=k({title:e.title,i18nTitle:e.i18nTitle,subtitle:e.subtitle,i18nSubtitle:e.i18nSubtitle},I);return(0,h.jsx)(y,k({inCenter:P},t))}),[P,r,I,v]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(u.default,{pointerEvents:"box-none",style:[s.default.absoluteFill,{zIndex:0,backgroundColor:C}]}),(0,h.jsx)(u.default,{testID:`App-General-Nav-Header--${(null==w?void 0:w.name)||""}`,pointerEvents:"box-none",style:[{height:M,marginTop:null!=f?f:S.top,backgroundColor:C},m],children:(0,h.jsxs)(u.default,{pointerEvents:"box-none",style:[_.content,{marginHorizontal:T?16:32}],children:[(0,h.jsxs)(u.default,{pointerEvents:"box-none",style:[_.left,{marginStart:S.left}],children:[(!!O||p)&&(0,h.jsx)(c.default,{ml:"-6px",mr:"8px",children:(0,h.jsx)(x,{navigation:g})}),t?t():null==v.headerLeft?void 0:v.headerLeft()]}),A,(0,h.jsx)(u.default,{pointerEvents:"box-none",style:[_.right,_.expand,{marginEnd:S.right}],children:n?n():null==v.headerRight?void 0:v.headerRight()})]})})]})}},758248:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var r=n(18861),o=n(795116),a=n(256666),i=n(433996),l=n(459740),s=n(202784),u=n(132242),d=n(309021),c=n(558726),f=n(600378),p=n(808855),m=n(41690),h=n(552322),x=["children","renderLeftArrow","renderRightArrow","bg","selectedIndex","leftButtonProps","rightButtonProps"];function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={code:"function anonymous({contentOffset:contentOffset,contentSize:contentSize}){const{currentOffsetX,showLeftArrow,showRightArrow,containerWidth}=this._closure;currentOffsetX.value=contentOffset.x;showLeftArrow.value=currentOffsetX.value>0;showRightArrow.value=Math.floor(contentSize.width-currentOffsetX.value)>containerWidth.value;}",location:"/home/runner/work/app-monorepo/app-monorepo/packages/components/src/ScrollableButtonGroup/ScrollableButtonGroup.tsx"},y={code:"function anonymous(){const{withTiming,showLeftArrow}=this._closure;return{opacity:withTiming(showLeftArrow.value?1:0,{duration:300}),scale:withTiming(showLeftArrow.value?1:0,{duration:300}),zIndex:withTiming(showLeftArrow.value?1:-1,{duration:300})};}",location:"/home/runner/work/app-monorepo/app-monorepo/packages/components/src/ScrollableButtonGroup/ScrollableButtonGroup.tsx"},j={code:"function anonymous(){const{withTiming,showRightArrow}=this._closure;return{opacity:withTiming(showRightArrow.value?1:0,{duration:300}),scale:withTiming(showRightArrow.value?1:0,{duration:300}),zIndex:withTiming(showRightArrow.value?1:-1,{duration:300})};}",location:"/home/runner/work/app-monorepo/app-monorepo/packages/components/src/ScrollableButtonGroup/ScrollableButtonGroup.tsx"},w=(0,s.forwardRef)((function(e,t){var n=e.children,a=e.renderLeftArrow,g=e.renderRightArrow,w=e.bg,k=void 0===w?"surface-default":w,_=e.selectedIndex,O=e.leftButtonProps,I=e.rightButtonProps,S=(0,l.default)(e,x),T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(0,s.useRef)(t);return(0,s.useEffect)((function(){e&&("function"===typeof e?e(n.current):e.current=n.current)}),[e]),n}(t),C=(0,u.useSharedValue)(!1),M=(0,u.useSharedValue)(!1),P=(0,u.useSharedValue)(0),A=(0,u.useSharedValue)(0),D=(0,u.useSharedValue)(0),R=(0,s.useCallback)((function(e){D.value=e,A.value&&(M.value=Math.floor(D.value-P.value)>A.value)}),[]),E=(0,d.useAnimatedScrollHandler)(function(){var e=function(e){var t=e.contentOffset,n=e.contentSize;P.value=t.x,C.value=P.value>0,M.value=Math.floor(n.width-P.value)>A.value};return e._closure={currentOffsetX:P,showLeftArrow:C,showRightArrow:M,containerWidth:A},e.__initData=v,e.__workletHash=0xa0ebe17979e,e}(),[]),B=(0,s.useRef)([]),N=(0,s.useRef)(0),L=(0,s.useRef)(),W=(0,s.useCallback)((function(e){if(T.current){var t=B.current[e];if(t&&N.current){var n=t.x+t.width/2-N.current/2;return L.current=void 0,T.current.scrollTo({x:n,animated:!0})}}L.current=e}),[T]),F=s.Children.count(n);(0,s.useEffect)((function(){B.current=[],L.current=void 0}),[F]),(0,s.useEffect)((function(){void 0!==_&&W(_)}),[W,_]);var H=(0,s.useCallback)((function(){var e;null==(e=T.current)||e.scrollTo({x:P.value-A.value||0,animated:!0})}),[]),z=(0,s.useCallback)((function(){var e;null==(e=T.current)||e.scrollTo({x:P.value+A.value,animated:!0})}),[]),U=(0,s.useCallback)((function(e){var t=e.nativeEvent.layout.width;A.value=t,M.value=Math.floor(D.value-P.value)>A.value}),[]);return(0,h.jsxs)(r.default,b(b({bg:k},S),{},{onLayout:U,children:[(0,h.jsx)(c.default,{style:[{position:"absolute"},(0,f.useAnimatedStyle)(function(){var e=function(){return{opacity:(0,p.withTiming)(C.value?1:0,{duration:300}),scale:(0,p.withTiming)(C.value?1:0,{duration:300}),zIndex:(0,p.withTiming)(C.value?1:-1,{duration:300})}};return e._closure={withTiming:p.withTiming,showLeftArrow:C},e.__initData=y,e.__workletHash=0xeb84360e287,e}(),[])],children:(0,h.jsx)(o.default,{bg:k,children:a?a({onPress:H}):(0,h.jsx)(i.default,b({type:"plain",circle:!0,name:"ChevronLeftMini",size:"sm",onPress:H},O))})}),(0,h.jsx)(m.default,{ref:T,onLayout:function(e){var t=e.nativeEvent.layout.width;N.current=t,L.current&&W(L.current)},style:{flex:1},horizontal:!0,onScroll:E,scrollEventThrottle:16,showsHorizontalScrollIndicator:!1,onContentSizeChange:R,children:s.Children.map(n,(function(e,t){return(0,s.cloneElement)(e,b(b({},e.props),{},{onPress:function(){W(t),null==e.props.onPress||e.props.onPress()},onLayout:function(e){var n=e.nativeEvent.layout,r=n.width,o=n.x;B.current[t]={x:o,width:r}}}))}))}),(0,h.jsx)(c.default,{style:[{position:"absolute",right:0},(0,f.useAnimatedStyle)(function(){var e=function(){return{opacity:(0,p.withTiming)(M.value?1:0,{duration:300}),scale:(0,p.withTiming)(M.value?1:0,{duration:300}),zIndex:(0,p.withTiming)(M.value?1:-1,{duration:300})}};return e._closure={withTiming:p.withTiming,showRightArrow:M},e.__initData=j,e.__workletHash=3239759055399,e}(),[])],children:(0,h.jsx)(o.default,{bg:k,children:g?g({onPress:z}):(0,h.jsx)(i.default,b({type:"plain",circle:!0,name:"ChevronRightMini",size:"sm",onPress:z},I))})})]}))}));w.displayName="ScrollableButtonGroup";const k=w},538732:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(256666),o=n(459740),a=n(561220),i=n(470310),l=n(10918),s=n(795116),u=n(550398),d=n(435581),c=n(202784),f=n(758248),p=n(552322),m=["buttons","selectedIndex","onButtonPress","size","bg","maxTextWidth"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e){var t=e.text,n=e.leftIcon,r=e.leftImage,o=e.leftComponentRender,f=e.rightIcon,m=e.rightImage,h=e.rightComponentRender,x=e.isCurrent,g=e.onPress,b=e.leftIconSize,v=e.onLayout,y=e.size,j=e.maxTextWidth,w=e.leftIconSelectedColor,k=e.rightIconSelectedColor,_="sm"===y,O=b||(_?"16px":"20px"),I=w||"icon-hovered",S=k||"icon-hovered",T=(0,c.useMemo)((function(){var e="0px";return t.length>0&&(e=_?"4px":"8px"),e}),[_,t.length]);return(0,p.jsx)(a.default,{mr:"8px",onPress:g,onLayout:v,children:function(e){var a=e.isHovered,c=e.isPressed;return(0,p.jsxs)(i.default,{alignItems:"center",h:_?"32px":"36px",px:_?"8px":"12px",py:_?"6px":"8px",borderRadius:"9999px",bg:x?"surface-selected":c?"surface-pressed":a?"surface-hovered":"transparent",children:[(!!n||!!r)&&(0,p.jsxs)(s.default,{borderRadius:"9999px",w:O,h:O,mr:T,children:[!!n&&(0,p.jsx)(d.default,{name:n,color:x?I:"icon-default"}),!!r&&(0,p.jsx)(u.default,{height:O,width:O,src:r})]}),null==o?void 0:o(),t.length>0?(0,p.jsx)(l.default.Body2Strong,{maxW:j,isTruncated:!0,color:x?"text-default":"text-subdued",children:t}):null,(!!f||!!m)&&(0,p.jsxs)(s.default,{borderRadius:"9999px",w:O,h:O,mr:T,children:[!!f&&(0,p.jsx)(d.default,{name:f,color:x?S:"icon-default"}),!!m&&(0,p.jsx)(u.default,{height:O,width:O,src:m})]}),null==h?void 0:h()]})}})},b=function(e){var t=e.buttons,n=e.selectedIndex,r=e.onButtonPress,a=e.size,i=void 0===a?"sm":a,l=e.bg,s=void 0===l?"surface-default":l,u=e.maxTextWidth,d=(0,o.default)(e,m);return(0,p.jsx)(f.default,x(x({bg:s,overflow:"hidden",w:"full",flexDirection:"row",alignItems:"center",position:"relative",selectedIndex:n},d),{},{children:t.map((function(e,t){return(0,p.jsx)(g,x(x({isCurrent:n===t},e),{},{size:i,maxTextWidth:u,onPress:function(){r(t)}}),t)}))}))};b.displayName="ToggleButtonGroup";const v=b},766788:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(196234),o=n(539144),a=n(297263),i=n(202784),l=n(785358),s=n(489094),u=n(474607),d=n(552322),c=function(){var e=(0,i.useRef)(new l.default.Value(0)).current,t=(0,a.default)("interactive-default"),n=(0,o.default)();return(0,i.useEffect)((function(){l.default.loop(l.default.sequence([l.default.timing(e,{toValue:1,duration:300,useNativeDriver:!0}),l.default.timing(e,{toValue:0,duration:300,useNativeDriver:!0})])).start()}),[e]),(0,d.jsx)(l.default.View,{style:{width:32,height:n?48:56,borderBottomWidth:4,borderBottomColor:t,opacity:e}})},f=function(e){var t=e.children,n=e.onTypingEnd,s=e.isPending,f=void 0===s||s,p=e.isFadeOut,m=(0,i.useRef)(new l.default.Value(1)).current,h=(0,o.default)();(0,i.useEffect)((function(){if(p){var e=l.default.timing(m,{toValue:.3,duration:300,useNativeDriver:!1});setTimeout((function(){e.start()}),150)}}),[p,m]);var x=(0,i.useState)(!1),g=(0,r.default)(x,2),b=g[0],v=g[1];(0,i.useEffect)((function(){f||setTimeout((function(){v(!0)}),650)}),[f]);var y=(0,a.default)("text-default"),j=(0,i.useMemo)((function(){return t}),[]);return(0,d.jsx)(l.default.View,{style:{minHeight:h?48:56,opacity:m},children:b?(0,d.jsx)(u.default,{typing:1,style:{color:y,fontSize:h?42:48,lineHeight:h?48:56,fontWeight:"bold"},initialDelay:0,minDelay:12,maxDelay:12,onTypingEnd:n,children:j}):(0,d.jsx)(c,{})})};f.Highlight=function(e){var t=e.children,n=(0,a.default)("interactive-default");return(0,d.jsx)(s.default,{style:{color:n},children:t})},f.NormalText=function(e){var t=e.children,n=(0,a.default)("text-default");return(0,d.jsx)(s.default,{style:{color:n},children:t})};const p=f},600795:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i,useDomID:()=>a});var r=n(202784),o=n(636393);function a(e){return{domId:(0,r.useMemo)((function(){return`${e}-${o.default.v4()}`}),[e])}}function i(e){var t=e.name,n=e.visible,o=e.toggleVisible,i=a(t).domId;return(0,r.useEffect)((function(){var e=function(e){if(n&&o){var t=document.getElementById(i);t&&e.target&&function(e,t){for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}(t,e.target)||setTimeout((function(){n&&(document.getElementById(i)&&o())}),150)}};return window.addEventListener("click",e),function(){window.removeEventListener("click",e)}}),[i,o,n]),{domId:i}}},709267:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Account:()=>r.default,Address:()=>o.default,Alert:()=>a.default,AlertDialog:()=>i.AlertDialog,Badge:()=>l.default,BalanceText:()=>ze,BottomSheetModal:()=>u.default,Box:()=>s.default,Button:()=>d.default,Center:()=>x.default,CheckBox:()=>I.default,Collapse:()=>Ge.default,Container:()=>Ie.default,CustomSkeleton:()=>Ke.default,DesktopDragZoneBox:()=>Ne.default,Dialog:()=>se.default,Divider:()=>S.default,Empty:()=>T.default,FlatList:()=>C.default,FlatListPlain:()=>M.FlatListPlain,Form:()=>pe.default,FormControl:()=>P.default,GroupingList:()=>ut.default,HStack:()=>A.default,Hidden:()=>$e.Hidden,HoverContainer:()=>Ct.default,Icon:()=>g.default,IconButton:()=>D.default,Image:()=>b.default,ImageViewer:()=>xe.default,InAppNotification:()=>Rt,Input:()=>R.default,Keyboard:()=>Pe.default,KeyboardAvoidingView:()=>Ae.default,KeyboardAwareScrollView:()=>Be,KeyboardDismissView:()=>De.default,List:()=>lt.default,ListItem:()=>st.default,LottieView:()=>Xe.default,Markdown:()=>E.default,Menu:()=>B.default,MnemonicCard:()=>yt.default,Modal:()=>N.default,MotiBox:()=>Et.default,NetImage:()=>me.default,NftCard:()=>O,NumberInput:()=>Ye.default,OverlayContainer:()=>dt.default,PageActions:()=>fe,PinCode:()=>L.default,Popover:()=>Le.default,PresenceTransition:()=>W.default,Pressable:()=>v.default,Progress:()=>Ue.default,Provider:()=>F.default,QRCode:()=>H.default,Radio:()=>z.default,RadioBox:()=>Se.default,RadioButton:()=>U.default,RadioButtonGroup:()=>q,RadioFee:()=>Te.default,RadioGroup:()=>X.default,RichTooltip:()=>jt.default,SceneMap:()=>ft.SceneMap,ScrollView:()=>Y.ScrollView,Searchbar:()=>Q.default,SectionList:()=>K.SectionList,SegmentedControl:()=>Z.default,Select:()=>J.default,Skeleton:()=>Qe.default,Slider:()=>he.default,SortableList:()=>ge.default,Spacer:()=>Ce.Spacer,Spinner:()=>ee.default,Stack:()=>te.default,Switch:()=>ne.default,TabView:()=>Oe,Text:()=>ae.default,Textarea:()=>re.default,Toast:()=>at,ToastManager:()=>ct.default,ToggleButtonGroup:()=>qe.default,Token:()=>oe.default,Tooltip:()=>Me.Tooltip,TypeWriter:()=>Ve.default,Typography:()=>y.default,VStack:()=>ie.default,ZStack:()=>le.default,useForm:()=>pt.default,useIsVerticalLayout:()=>mt.default,useLoadCustomFonts:()=>ht.default,useLocale:()=>xt.default,useProviderValue:()=>gt.default,useSafeAreaInsets:()=>bt.useSafeAreaInsets,useTheme:()=>vt.default,useThemeValue:()=>be.default,useUserDevice:()=>f.default});var r=n(317568),o=n(317534),a=n(259924),i=n(434517),l=n(854787),s=n(18861),u=n(259825),d=n(321668),c=n(256666),f=n(384247),p=n(459740),m=n(202784),h=n(13334),x=n(795116),g=n(435581),b=n(225447),v=n(561220),y=n(10918),j=n(552322),w=["children","image","title"];function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const O=(0,m.memo)((function(e){e.children;var t=e.image,n=e.title,r=(0,p.default)(e,w),o=["SMALL","NORMAL"].includes((0,f.default)().size),a=(0,h.default)(),i=o?Math.floor((a.width-48)/2):171,l=(0,m.useMemo)((function(){return(0,j.jsx)(x.default,{width:i,height:i,bgColor:"surface-neutral-subdued",children:(0,j.jsx)(g.default,{name:"QuestionMarkCircleOutline",size:36})})}),[i]),u=(0,m.useMemo)((function(){return t&&"string"===typeof t?(0,m.isValidElement)(t)?t:(0,j.jsx)(b.default,{source:{uri:t},alt:`image of ${"string"===typeof n?n:"nft"}`,size:i,bgColor:"surface-neutral-subdued",fallbackElement:l}):l}),[l,t,n,i]);return(0,j.jsxs)(v.default.Item,_(_({px:0,py:0,overflow:"hidden",borderRadius:"xl",borderWidth:0,width:i},r),{},{children:[u,(0,j.jsx)(s.default,{p:o?"3":"4",children:(0,j.jsx)(y.default.Body2,{numberOfLines:1,children:n})})]}))}));var I=n(896953),S=n(785192),T=n(510374),C=n(25655),M=n(714950),P=n(109603),A=n(470310),D=n(433996),R=n(170766),E=n(761122),B=n(284405),N=n(877531),L=n(398617),W=n(121815),F=n(327377),H=n(453028),z=n(902104),U=n(463416),V=["value","size","defaultValue","isDisabled","onChange","children"];function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const q=function(e){var t=e.value,n=e.size,r=(e.defaultValue,e.isDisabled),o=e.onChange,a=e.children,i=(0,p.default)(e,V);return(0,j.jsx)(s.default,G(G({},i),{},{flexWrap:"wrap",justifyContent:"center",children:a.map((function(e){var a=e.props,i=a.value,l=a.isDisabled,s=a.size,u=a.title;return(0,j.jsx)(U.default,{size:null!=n?n:s,title:u,value:i,isDisabled:l||r,isChecked:t===i,onChange:function(e){o&&o(e)}},i)}))}))};var X=n(916034),Y=n(468702),Q=n(592923),K=n(465022),Z=n(231846),J=n(328012),ee=n(719392),te=n(527984),ne=n(307061),re=n(605616),oe=n(737790),ae=n(866904),ie=n(361301),le=n(480058),se=n(612210),ue=["primaryButton","secondaryButton","title","content","moreContent","onPrimaryButtonPress","onSecondaryButtonPress"];function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const fe=function(e){var t=e.primaryButton,n=e.secondaryButton,r=e.title,o=e.content,a=e.moreContent,i=e.onPrimaryButtonPress,l=e.onSecondaryButtonPress,u=(0,p.default)(e,ue);return(0,j.jsxs)(s.default,ce(ce({},u),{},{flexDirection:"column",w:"100%",children:[(0,j.jsx)(S.default,{bg:"border-subdued"}),(0,j.jsx)(s.default,{w:"100%",pr:4,pl:4,mt:4,mb:8,children:(0,j.jsxs)(s.default,{flexDirection:"row",justifyContent:"center",alignItems:"center",children:[!!n&&(0,j.jsx)(d.default,{size:"lg",flex:1,mr:4,type:"basic",onPress:function(){return l},children:n}),!!r&&o&&!n&&(0,j.jsxs)(s.default,{flexDirection:"column",w:"3/5",mr:4,children:[(0,j.jsx)(y.default.Body2,{color:"text-subdued",children:r}),(0,j.jsx)(y.default.Body1,{color:"text-default",children:o}),(0,j.jsx)(y.default.Caption,{color:"text-subdued",children:a})]}),(0,j.jsx)(d.default,{size:"lg",height:42,flex:1,type:"primary",onPress:function(){return i},children:t})]})})]}))};var pe=n(566147),me=n(550398),he=n(503310),xe=n(237748),ge=n(888618),be=n(297263),ve=n(196234),ye=n(46486),je=n(42396),we=n(514164);function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Oe=function(e){var t=e.onIndexChange,n=e.routes,r=e.renderScene,o=e.autoWidth,a=void 0!==o&&o,i=e.paddingX,l=void 0===i?0:i,u=(0,h.default)(),d=(0,m.useState)(0),c=(0,ve.default)(d,2),f=c[0],p=c[1],x=(0,m.useState)(n),g=(0,ve.default)(x,1)[0],b=(u.width-2*l)/g.length,v=(0,be.default)("background-default"),y=(0,be.default)("border-subdued"),w=(0,be.default)("action-primary-default"),k=(0,be.default)("text-default"),_=(0,be.default)("text-subdued");return(0,j.jsx)(we.TabView,{navigationState:{index:f,routes:n},renderScene:r,renderTabBar:function(e){var t=ye.default.create({tabbar:{backgroundColor:v,width:u.width,height:54},indicator:{backgroundColor:w,height:2},indicatorContainer:{backgroundColor:y,height:1,top:52,left:l,right:l,width:u.width-2*l},tabStyle:{width:a?"auto":b,left:l,right:l},label:{fontWeight:"500",fontSize:14,lineHeight:20}});return(0,j.jsx)(s.default,{children:(0,j.jsx)(je.TabBar,_e(_e({},e),{},{scrollEnabled:!0,indicatorStyle:t.indicator,indicatorContainerStyle:t.indicatorContainer,style:t.tabbar,tabStyle:t.tabStyle,activeColor:k,inactiveColor:_,labelStyle:t.label,getLabelText:function(e){return e.route.title},getAccessibilityLabel:function(e){return e.route.title}}))})},onIndexChange:function(e){p(e),t&&t(e)},initialLayout:{width:u.width},style:{backgroundColor:v}})};var Ie=n(43939),Se=n(186951),Te=n(712978),Ce=n(492662),Me=n(425832),Pe=n(231052),Ae=n(643222),De=n(783723),Re=n(369544),Ee=n(211554);const Be=(0,Re.default)(Ee.KeyboardAwareScrollView);var Ne=n(417141),Le=n(104301),We=["text","startColor","endColor"];function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ze=function(e){var t=e.text,n=e.startColor,r=void 0===n?"text-default":n,o=e.endColor,a=void 0===o?"text-disabled":o,i=(0,p.default)(e,We);if(t.includes(".")){var l=t.split(".");return(0,j.jsxs)(s.default,{flexDirection:"row",children:[(0,j.jsx)(ae.default,He(He({color:r},i),{},{children:l[0]})),(0,j.jsx)(ae.default,He(He({color:a},i),{},{children:`.${l[1]}`}))]})}return(0,j.jsx)(ae.default,He(He({color:r},i),{},{children:t}))};var Ue=n(922819),Ve=n(766788),$e=n(232215),Ge=n(568674),qe=n(538732),Xe=n(465760),Ye=n(103722),Qe=n(759900),Ke=n(529710),Ze=["title","description","error","dismiss","status","onClose"];function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tt={iconName:"ArrowPathMini",iconColor:"icon-default",borderColor:"surface-neutral-subdued"},nt={iconName:"ExclamationTriangleOutline",iconColor:"icon-warning",borderColor:"#7A6200"},rt={iconName:"XCircleOutline",iconColor:"icon-critical",borderColor:"border-critical-subdued"},ot={iconName:"CheckCircleOutline",iconColor:"icon-success",borderColor:"border-success-subdued"};const at=function(e){var t=e.title,n=e.description,r=e.error,o=void 0!==r&&r,a=e.dismiss,i=void 0!==a&&a,l=e.status,u=void 0===l?void 0:l,d=e.onClose,c=(0,p.default)(e,Ze),f=function(e){switch(e){case"info":return tt;case"warning":return nt;case"danger":return rt;default:return ot}}(u),m=o?"text-critical":"text-default",h=o?"icon-critical":"icon-default";return(0,j.jsxs)(s.default,et(et({flexDirection:"row",width:"auto",px:u?4:3,py:u?4:2,bg:u?"surface-default":o?"surface-critical-subdued":"surface-neutral-default",borderRadius:"xl",borderWidth:.5,borderColor:u?"border-subdued":"border-default",shadow:"depth.4"},c),{},{children:[u&&(0,j.jsx)(s.default,{mr:"12px",children:(0,j.jsx)(g.default,{size:24,name:f.iconName,color:null==f?void 0:f.iconColor})}),(0,j.jsxs)(s.default,{flex:1,mt:u&&.5,children:[(0,j.jsx)(ae.default,{flex:1,typography:u?"Body2Strong":"Body1Strong",color:u?"text-default":m,children:t}),n&&(0,j.jsx)(ae.default,{flex:1,mt:1,textAlign:u?void 0:"center",typography:"Body2",color:"text-subdued",children:n})]}),i&&(0,j.jsx)(v.default,{ml:4,padding:.5,onPress:d,rounded:"full",_hover:{bgColor:"surface-hovered"},_pressed:{bgColor:"surface-pressed"},alignSelf:"flex-start",children:(0,j.jsx)(g.default,{size:20,name:"XMarkOutline",color:u?"icon-default":h})})]}))};var it,lt=n(505240),st=n(107867),ut=n(418687),dt=n(208593),ct=n(669083),ft=n(1491),pt=n(921311),mt=n(539144),ht=n(189144),xt=n(342620),gt=n(759274),bt=n(311631),vt=n(586874),yt=n(483144),jt=n(606201),wt=n(550580),kt=n(553197),_t=n(459915),Ot=n(132242),It=n(600378),St=n(663854),Tt=n(581734),Ct=n(995030),Mt=n(369664);!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT",e[e.TOP=2]="TOP",e[e.BOTTOM=3]="BOTTOM"}(it||(it={}));var Pt={code:"function anonymous(){const{exitDirection}=this._closure;return{display:exitDirection.value===-1?'flex':'none'};}",location:"/home/runner/work/app-monorepo/app-monorepo/packages/components/src/InAppNotification/index.tsx"},At={code:"function anonymous({translationX:translationX,translationY:translationY,velocityX:velocityX,velocityY:velocityY}){const{DISMISS_DISTANCE,VELOCITY_THRESHOLD,exitDirection,EXIT_DIRECTION,runOnJS,closeWithAnimation}=this._closure;const distanceX=Math.abs(translationX);const distanceY=Math.abs(translationY);const velocityMagnitude=Math.sqrt(velocityX**2+velocityY**2);if(distanceY<DISMISS_DISTANCE&&distanceX<DISMISS_DISTANCE){return;}if(velocityMagnitude>VELOCITY_THRESHOLD){if(Math.abs(velocityX)>Math.abs(velocityY)){exitDirection.value=velocityX>0?EXIT_DIRECTION.RIGHT:EXIT_DIRECTION.LEFT;}else{exitDirection.value=velocityY>0?EXIT_DIRECTION.BOTTOM:EXIT_DIRECTION.TOP;}}else if(distanceY>distanceX){exitDirection.value=translationY>0?EXIT_DIRECTION.BOTTOM:EXIT_DIRECTION.TOP;}else{exitDirection.value=translationX>0?EXIT_DIRECTION.RIGHT:EXIT_DIRECTION.LEFT;}runOnJS(closeWithAnimation);}",location:"/home/runner/work/app-monorepo/app-monorepo/packages/components/src/InAppNotification/index.tsx"},Dt={code:"function anonymous(){const{exitDirection,EXIT_DIRECTION}=this._closure;let translateX=0;let translateY=0;let opacity=0;if(exitDirection.value===EXIT_DIRECTION.LEFT){translateX=-100;}else if(exitDirection.value===EXIT_DIRECTION.RIGHT){translateX=100;}else if(exitDirection.value===EXIT_DIRECTION.TOP){translateY=-100;}else if(exitDirection.value===EXIT_DIRECTION.BOTTOM){translateY=100;}else{opacity=1;}return{opacity:opacity,translateX:translateX,translateY:translateY};}",location:"/home/runner/work/app-monorepo/app-monorepo/packages/components/src/InAppNotification/index.tsx"};const Rt=function(e){var t=e.title,n=e.subtitle,r=e.cover,o=e.rightContent,a=e.actionText,i=e.onActionPress,l=e.onBodyPress,u=e.footer,d=e.timeout,c=void 0===d?3e3:d,f=e.onClose,p=(0,bt.useSafeAreaInsets)(),x=p.bottom,g=p.top,b=(0,h.default)().width,v=(0,m.useState)(!0),w=(0,ve.default)(v,2),k=w[0],_=w[1],O=(0,mt.default)(),I=O?100+x:-(100+g),S=(0,Ot.useSharedValue)(-1),T=(0,It.useAnimatedStyle)(function(){var e=function(){return{display:-1===S.value?"flex":"none"}};return e._closure={exitDirection:S},e.__initData=Pt,e.__workletHash=8047206253081,e}(),[]),C=(0,m.useRef)(),M=(0,m.useCallback)((function(){clearTimeout(C.current),(S.value===it.TOP&&O||S.value===it.BOTTOM&&!O)&&(null==l||l()),_(!1),setTimeout((function(){null==f||f()}),300)}),[S,O,l,f]);(0,m.useEffect)((function(){return C.current=setTimeout(M,c),function(){return clearTimeout(C.current)}}),[M,f,c]);var P=(0,Mt.useBeforeOnPress)((function(){null==f||f(),null==l||l()})),A=_t.Gesture.Pan().onUpdate(function(){var e=function(e){var t=e.translationX,n=e.translationY,r=e.velocityX,o=e.velocityY,a=Math.abs(t),i=Math.abs(n),l=Math.sqrt(r**2+o**2);i<5&&a<5||(l>20?Math.abs(r)>Math.abs(o)?S.value=r>0?it.RIGHT:it.LEFT:S.value=o>0?it.BOTTOM:it.TOP:S.value=i>a?n>0?it.BOTTOM:it.TOP:t>0?it.RIGHT:it.LEFT,(0,St.runOnJS)(M))};return e._closure={DISMISS_DISTANCE:5,VELOCITY_THRESHOLD:20,exitDirection:S,EXIT_DIRECTION:it,runOnJS:St.runOnJS,closeWithAnimation:M},e.__initData=At,e.__workletHash=5727075987028,e}()),D=_t.Gesture.Tap().onStart(P),R=(0,Tt.useDerivedValue)(function(){var e=function(){var e=0,t=0,n=0;return S.value===it.LEFT?e=-100:S.value===it.RIGHT?e=100:S.value===it.TOP?t=-100:S.value===it.BOTTOM?t=100:n=1,{opacity:n,translateX:e,translateY:t}};return e._closure={exitDirection:S,EXIT_DIRECTION:it},e.__initData=Dt,e.__workletHash=0xc73a083ce48,e}());return(0,j.jsx)(wt.AnimatePresence,{children:k&&(0,j.jsx)(_t.GestureDetector,{gesture:_t.Gesture.Race(A,D),children:(0,j.jsx)(kt.View,{from:{opacity:1,translateX:0,translateY:I},animate:R,exit:{opacity:0,translateX:0,translateY:I},transition:{duration:300,type:"timing"},style:{position:"absolute",top:O?void 0:32,bottom:O?32+x:void 0,right:O?16:32,zIndex:9999},children:(0,j.jsx)(Ct.default,{hoverButtonProps:{rounded:"full",position:"absolute",zIndex:1,right:"4px",top:"-4px",leftIconName:"XCircleMini",iconSize:16,pt:0,pr:0,pb:0,pl:0,onPress:f},children:(0,j.jsxs)(s.default,{w:b-32,maxW:O?void 0:"374px",px:"16px",py:"12px",borderRadius:"12px",borderColor:"border-default",borderWidth:"1px",flexDirection:"row",bg:"surface-default",children:[(0,j.jsxs)(s.default,{flex:1,children:[(0,j.jsx)(y.Body2Strong,{mb:"4px",children:t}),!!n&&(0,j.jsx)(y.Body2,{children:n}),!!u&&(0,j.jsx)(y.Body2,{children:u})]}),(0,j.jsx)(s.default,{ml:"auto",justifyContent:"center",children:o?o():r?(0,j.jsx)(me.default,{width:"40px",height:"40px",resizeMode:"cover",src:r}):(0,j.jsx)(Ct.AnimatedButton,{style:T,onPress:function(){null==f||f(),null==i||i()},children:a})})]})})})})})};var Et=n(642714)},197856:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(196234),o=n(202784),a=n(427751),i=n(552322);const l=function(e){var t=e.freeze,n=e.children,l=(0,o.useState)(!1),s=(0,r.default)(l,2),u=s[0],d=s[1];return(0,o.useEffect)((function(){setImmediate((function(){d(t)}))}),[t]),(0,i.jsx)(a.Freeze,{freeze:!!t&&u,children:n})}},38814:(e,t,n)=>{"use strict";n.r(t),n.d(t,{NetworkIconGroup:()=>l});var r=n(18861),o=n(202784),a=n(450870),i=n(552322),l=function(e){var t=e.networkIds,n=e.len,l=void 0===n?4:n,s=(0,o.useMemo)((function(){if(null==t||!t.length)return[];var e=t.slice(0,l);return t.length>l&&e.push("more"),e}),[t,l]);return(0,i.jsx)(r.default,{flexDirection:"row",children:s.map((function(e,t){return(0,i.jsx)(r.default,{ml:0===t?0:-1,children:(0,i.jsx)(a.NetworkDarkIcon,{networkId:e})},e)}))})}},592323:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(18861),o=n(256666),a=(n(321668),n(634795)),i=n(459740),l=n(202784),s=(n(213208),n(945821)),u=(n(834298),n(552322)),d=(0,l.forwardRef)((function(e,t){var n=e.src,r=void 0===n?"":n,o=(0,l.useRef)(null),a=(0,l.useRef)({reload:function(){o.current&&(o.current.src="about:blank",setTimeout((function(){o.current&&(o.current.src=r)}),150))},loadURL:function(){}});return(0,l.useImperativeHandle)(t,(function(){return a.current})),(0,u.jsx)("iframe",{ref:o,title:"iframe-web",src:r,frameBorder:"0",style:{height:"100%",width:"100%"}})}));d.displayName="InpageProviderWebView";const c=d;var f=["src","openUrlInExt","allowpopups","onWebViewRef","customReceiveHandler","containerProps"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const h=function(e){var t=e.src,n=void 0===t?"":t,o=(e.openUrlInExt,e.allowpopups),d=void 0!==o&&o,p=e.onWebViewRef,h=void 0===p?function(){}:p,x=e.customReceiveHandler,g=e.containerProps,b=(0,i.default)(e,f),v=(0,l.useCallback)(function(){var e=(0,a.default)((function*(e,t){var n=yield s.default.bridgeReceiveHandler(e);return yield null==x?void 0:x(e,t),n}));return function(t,n){return e.apply(this,arguments)}}(),[x]);return(0,u.jsx)(r.default,m(m({flex:1,bg:"background-default"},g),{},{children:(0,u.jsx)(c,m({ref:h,src:n,allowpopups:d,receiveHandler:v},b))}))}},505820:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=function(e){}},364519:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(481047),o=n(493877);function a(){var e=(0,o.default)();return{requestBackupPassword:function(t,n,o,a){e.navigate(r.RootRoutes.Modal,{screen:r.ModalRoutes.ImportBackupPassword,params:{screen:r.ImportBackupPasswordModalRoutes.ImportBackupPassword,params:{withPassword:t,onSuccess:n,onError:o,onCancel:a}}})}}}},997189:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Cg});var r=n(256666),o=n(297263),a=n(202784),i=n(570796),l=n(495086),s=n(716030),u=function(){var e=.85*l.default.get("window").width;return Math.min(400,e)},d=((0,s.makeMutable)(0),(0,s.makeMutable)(-u()),n(213208)),c=n(632861),f=n(481047),p=n(539144),m=n(459740),h=n(196234),x=n(968079),g=n(671672),b=n(783112),v=n(472719),y=n(182824),j=n.n(y),w=n(815146),k=n(236004),_=n(758880),O=n(785434),I=n(190769),S=n(46486),T=n(795116),C=n(425832),M=n(163142),P=n(550580),A=n(553197),D=n(18861),R=n(475976),E=n(945821),B=n(859071),N=n(275268),L=n(379573),W=n(731923),F=n(208593),H=n(121815),z=n(600795),U=n(328012),V=n(292147),$=n(164212),G=n(552322),q=(0,a.forwardRef)((function(e,t){var n=e.visible,r=e.toggleVisible,o=d.default.isRuntimeBrowser,i=(0,z.useDomID)("AccountSelectorDesktop").domId;(0,a.useImperativeHandle)(t,(function(){return{toggleVisible:r,getVisible:function(){return n},domId:i}})),(0,a.useEffect)((function(){return V.default.accountSelector.info("WalletSelectorDesktop mount"),function(){V.default.accountSelector.info("WalletSelectorDesktop unmounted")}}),[]);var l=(0,a.useMemo)((function(){return(0,G.jsx)(D.default,{marginTop:"4px",nativeID:i,left:o?0:"16px",top:o?-8:"52px",position:"absolute",width:"320px",height:"564px",borderRadius:"xl",bg:"background-default",borderColor:"border-subdued",borderWidth:"1px",flexDirection:"row",shadow:"depth.3",children:(0,G.jsx)($.default,{})})}),[i,o]),s=(0,a.useRef)();s.current=l;var u=(0,G.jsxs)(G.Fragment,{children:[n&&(0,G.jsx)(U.CloseBackDrop,{onClose:r}),(0,G.jsx)(H.default,{visible:n,initial:{opacity:0,translateY:0},animate:{opacity:1,translateY:12,transition:{duration:150}},style:{width:n?"100%":0},children:s.current})]});return o?u:(0,G.jsx)(F.default,{children:u})}));q.displayName="WalletSelectorDesktop";const X=(0,a.memo)(q);var Y=n(10918),Q=n(759900),K=n(321668),Z=n(561220),J=n(435581),ee=n(968594),te=n(768496),ne=n(240061),re=n(559656),oe=function(e){var t=e.visible,n=e.showWalletName,r=e.handleToggleVisible,o=(0,b.default)(),i=(0,p.default)(),l=(0,B.useActiveWalletAccount)().wallet,s=(0,v.useNavigation)(),u=(0,B.useAppSelector)((function(e){return e.accountSelector.isLoading})),d=(0,te.useWalletName)({wallet:l}),c=(0,ne.useDeviceStatusOfHardwareWallet)().devicesStatus,m=(0,a.useCallback)((function(){s.navigate(f.RootRoutes.Onboarding)}),[s]);if(!l)return(0,G.jsx)(P.AnimatePresence,{initial:!1,children:(0,G.jsxs)(A.View,{from:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"timing",duration:150},style:{flex:1,flexDirection:"row",alignItems:"center"},children:[!n&&(0,G.jsx)(C.Tooltip,{label:o.formatMessage({id:"action__create_wallet"}),placement:"right",children:(0,G.jsx)(Z.default,{onPress:m,flexDirection:"row",alignItems:"center",p:"8px",borderRadius:"xl",_hover:{bg:"surface-hovered"},children:(0,G.jsx)(D.default,{children:(0,G.jsx)(J.default,{name:"PlusMini",size:24})})})}),n&&(0,G.jsx)(K.default,{onPress:m,children:o.formatMessage({id:"action__create_wallet"})})]})});var h=d||"Wallet";return(0,G.jsx)(Z.default,{onPress:r,hitSlop:8,w:"full",children:function(e){var r=e.isHovered;return(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",m:{base:-1,md:void 0},p:1,pr:{base:1,md:2},borderRadius:"12px",bg:t&&!i?"surface-selected":r?"surface-hovered":"transparent",children:[(0,G.jsx)(D.default,{children:u?(0,G.jsx)(D.default,{size:8,children:(0,G.jsx)(Q.default,{size:32,children:(0,G.jsx)(ee.Rect,{x:"0",y:"0",width:"32",height:"32",rx:"12",ry:"12"})})}):(0,G.jsx)(re.WalletAvatarPro,{wallet:l,devicesStatus:c,size:"sm"})}),(0,G.jsx)(P.AnimatePresence,{initial:!1,children:n&&(0,G.jsxs)(A.View,{from:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"timing",duration:150},style:{flex:1,flexDirection:"row",alignItems:"center"},children:[(0,G.jsx)(Y.default.Body2Strong,{flex:1,isTruncated:!0,ml:3,mr:1,children:h}),(0,G.jsx)(D.default,{children:(0,G.jsx)(J.default,{size:20,name:"ChevronUpDownMini",color:"icon-subdued"})})]})})]})}})},ae=L.default.actions.updateDesktopWalletSelectorVisible;const ie=(0,a.memo)((function(e){var t,n=e.renderTrigger,r=e.showWalletName,o=(0,p.default)(),i=(0,a.useRef)(null),l=E.default.dispatch,s=(0,B.useAppSelector)((function(e){return e.accountSelector.isDesktopWalletSelectorVisible})),u=(0,B.useNavigationActions)().toggleWalletSelector,d=(0,W.useWalletSelectorStatus)().visible;(0,N.useCloseOnEsc)((0,a.useCallback)((function(){s&&l(ae(!1))}),[l,s]));var c=(0,a.useCallback)((function(){u()}),[u]),f=(0,a.useRef)(null),m=(0,a.useCallback)((function(e){e?(f.current=e,(0,R.addNewRef)(e)):(0,R.removeOldRef)(f.current)}),[]),h=(0,a.useMemo)((function(){return o?null:(0,G.jsx)(X,{ref:m,visible:d,toggleVisible:c})}),[o,d,c,m]),x=(0,a.useCallback)((function(){d||c()}),[c,d]);return(0,G.jsxs)(D.default,{ref:i,position:"relative",alignItems:"flex-start",justifyContent:"center",w:"full",children:[null!=(t=null==n?void 0:n({visible:d,handleToggleVisible:c}))?t:(0,G.jsx)(oe,{visible:d,showWalletName:r,handleToggleVisible:x}),h]})}));var le=n(417141),se=n(759274),ue=n(311631),de=n(468702),ce=n(361301);function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const me=function(e){var t=e.navigation,n=e.state,r=e.descriptors,i=n.routes,l=(0,a.useContext)(se.Context),s=l.leftSidebarCollapsed,u=l.setLeftSidebarCollapsed,c=(0,ue.useSafeAreaInsets)().top,f=d.default.isDesktopMac?20:0,p=12+c+f,m=(0,o.default)(["surface-subdued","text-default","text-subdued","interactive-default"]),x=(0,h.default)(m,4),g=x[0],b=x[1],y=x[2],j=x[3],w=(0,a.useMemo)((function(){return i.map((function(e,o){var a,l=o===n.index,u=r[e.key].options;return(0,G.jsx)(C.Tooltip,{label:u.tabBarLabel,isDisabled:!s,placement:"right",children:(0,G.jsxs)(Z.default,{onPress:function(){var r=t.emit({type:"tabPress",target:e.key,canPreventDefault:!0});l||r.defaultPrevented||t.dispatch(pe(pe({},v.CommonActions.navigate({name:e.name,merge:!0})),{},{target:n.key}))},flexDirection:"row",alignItems:"center",mt:o===i.length-1?"auto":void 0,p:"8px",borderRadius:"xl",bg:l?"surface-selected":void 0,_hover:l?void 0:{bg:"surface-hovered"},"aria-current":l?"page":void 0,children:[(0,G.jsx)(D.default,{children:(0,G.jsx)(J.default,{name:null==u||null==u.tabBarIcon?void 0:u.tabBarIcon(),color:l?"icon-default":"icon-subdued",size:24})}),(0,G.jsx)(P.AnimatePresence,{initial:!1,children:!s&&(0,G.jsx)(A.View,{from:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"timing",duration:150},style:{flex:1,flexDirection:"row",alignItems:"center"},children:(0,G.jsx)(Y.default.Body2Strong,{flex:1,ml:"3",color:l?b:y,isTruncated:!0,children:null!=(a=u.tabBarLabel)?a:e.name})})})]},e.name)},e.key)}))}),[b,r,y,s,t,i,n.index,n.key]);return(0,G.jsxs)(A.View,{animate:{width:s?72:224},transition:{type:"timing",duration:150},style:{height:"100%",width:224,backgroundColor:g,paddingHorizontal:16,paddingTop:p,paddingBottom:20},testID:"Desktop-AppSideBar-Container",children:[(0,G.jsx)(le.DesktopDragZoneAbsoluteBar,{testID:"Desktop-AppSideBar-DragZone",h:f}),(0,G.jsx)(D.default,{zIndex:1,testID:"Desktop-AppSideBar-WalletSelector-Container",children:(0,G.jsx)(ie,{showWalletName:!s})}),(0,G.jsx)(ce.default,{testID:"Desktop-AppSideBar-Content-Container",flex:1,mt:4,mb:2,children:(0,G.jsx)(de.ScrollView,{_contentContainerStyle:{flex:1},children:(0,G.jsx)(ce.default,{space:1,flex:1,children:w})})}),(0,G.jsx)(D.default,{testID:"Legacy-Desktop-AppSideBar-NetworkAccountSelector-Container"}),(0,G.jsx)(Z.default,{onPress:function(){null==u||u(!s)},position:"absolute",top:"0",bottom:"0",right:"-10px",w:"20px",testID:"Desktop-AppSideBar-Collapse-Bar",children:function(e){var t=e.isHovered,n=e.isPressed;return(0,G.jsxs)(A.View,{animate:{opacity:t||n?1:0},transition:{type:"timing",duration:150},style:{height:"100%",flexDirection:"row"},children:[(0,G.jsx)(M.LinearGradient,{colors:["transparent",j],start:{x:0,y:0},end:{x:1,y:0},style:{flex:1,height:"100%",opacity:.1}}),(0,G.jsx)(D.default,{h:"full",w:"1px",bgColor:"interactive-default",alignItems:"center",children:(0,G.jsx)(T.default,{mt:`${p}px`,size:"40px",children:(0,G.jsx)(D.default,{p:"4px",rounded:"full",bgColor:"background-default",borderWidth:"1px",borderColor:"border-subdued",shadow:"depth.1",children:(0,G.jsx)(A.View,{animate:{rotate:s?"180deg":"0deg"},transition:{type:"timing"},children:(0,G.jsx)(J.default,{name:"ChevronLeftMini",size:16})})})})}),(0,G.jsx)(D.default,{flex:1})]})}})]})};var he,xe=n(866904),ge=n(384247),be=[f.TabRoutes.Home,f.TabRoutes.Market,f.TabRoutes.Swap,f.TabRoutes.NFT,f.TabRoutes.Discover,f.TabRoutes.Me];var ve=[f.TabRoutes.Swap,f.TabRoutes.Market],ye=((he={})[f.TabRoutes.Home]={name:f.TabRoutes.Home,tabBarIcon:function(e){return e?"CreditCardSolid":"CreditCardOutline"},translationId:"wallet__wallet",navHeaderType:"AccountSelector"},he[f.TabRoutes.Market]={name:f.TabRoutes.Market,tabBarIcon:function(e){return e?"ChartLineSquareSolid":"ChartLineSquareOutline"},translationId:"market__market",hideDesktopNavHeader:!0,hideMobileNavHeader:!0},he[f.TabRoutes.Swap]={name:f.TabRoutes.Swap,tabBarIcon:function(e){return"ArrowsRightLeftOutline"},translationId:"form__trade",hideDesktopNavHeader:!0,hideMobileNavHeader:!0},he[f.TabRoutes.NFT]={name:f.TabRoutes.NFT,tabBarIcon:function(e){return e?"PhotoSolid":"PhotoOutline"},translationId:"title__nft",hideDesktopNavHeader:!0,hideMobileNavHeader:!0,hideOnMobile:!0},he[f.TabRoutes.Discover]={name:f.TabRoutes.Discover,tabBarIcon:function(e){return e?"CompassSolid":"CompassOutline"},translationId:"title__explore",hideDesktopNavHeader:!0,hideMobileNavHeader:!0},he[f.TabRoutes.Me]={name:f.TabRoutes.Me,tabBarIcon:function(e){return e?"Bars4Solid":"Bars4Outline"},translationId:"title__menu",navHeaderType:"AccountSelector"},he[f.TabRoutes.Developer]={name:f.TabRoutes.Developer,tabBarIcon:function(e){return"ChipOutline"},translationId:"form__dev_mode",hideOnProduction:!0},he),je=be.map((function(e){return ye[e].hideOnMobile||ye[e].hideOnProduction?null:{name:e,key:e}})).filter(Boolean),we=Object.entries(ye).reduce((function(e,t,n){var r=(0,h.default)(t,2),o=r[0],a=r[1];return e[o]={options:a},e}),{}),ke=n(355231);function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ie=function(e){var t=e.deviceSize;return!!["NORMAL"].includes(t)},Se=function(e){return Math.max(e.bottom-I.default.select({ios:4,default:0}),0)},Te=function(e){var t=e.insets;return 49+Se(t)};function Ce(e){var t,n,r=e.inlineMode,o=e.navigation,i=e.state,l=e.descriptors,s=e.backgroundColor,u=(0,ge.default)().size,c=(0,ue.useSafeAreaInsets)(),f=i.routes,p=(0,b.default)(),m=!r&&d.default.isNewRouteMode,h=Se(c),x=Te({insets:c}),g=Ie({deviceSize:u}),y=(0,a.useMemo)((function(){return f.map((function(e,t){var n=t===i.index,a=l[e.key].options,u=null==a?void 0:a.translationId;return(0,G.jsx)(D.default,{testID:"Mobile-AppTabBar-TabItem",flex:1,px:1,py:m?0:1,backgroundColor:s,children:(0,G.jsxs)(Z.default,{testID:"Mobile-AppTabBar-TabItem-Icon",alignItems:"center",px:.5,py:m?0:1.5,onPress:function(){if(r)o.navigate(e.name);else{var t=o.emit({type:"tabPress",target:e.key,canPreventDefault:!0});n||t.defaultPrevented||o.dispatch(Oe(Oe({},v.CommonActions.navigate({name:e.name,merge:!0})),{},{target:i.key}))}},_hover:{bg:"surface-hovered"},rounded:"xl",justifyContent:"center",style:g?{flexDirection:"row"}:{flexDirection:"column"},children:[(0,G.jsx)(J.default,{name:null==a||null==a.tabBarIcon?void 0:a.tabBarIcon(n),color:n?"icon-default":"icon-subdued",size:28}),(null!=u&&u.length,null)]},e.name)},e.name)}))}),[s,l,g,r,p,m,o,f,i.index,i.key]);return m?null:(0,G.jsxs)(D.default,{testID:"Mobile-AppTabBar",borderTopWidth:S.default.hairlineWidth,left:"0",right:"0",bottom:"0",bg:"background-default",zIndex:99999,borderTopColor:"divider",paddingBottom:`${h}px`,height:m?"0":x,py:m?0:Math.max(null!=(t=c.left)?t:0,null!=(n=c.right)?n:0),children:[(0,G.jsx)(D.default,{testID:"Mobile-AppTabBar-Content",accessibilityRole:"tablist",flex:"1",flexDirection:"row",children:y}),(0,G.jsx)(ke.PortalContainer,{name:`BottomTab-Overlay-${i.key}`})]})}function Me(e){var t=e.name,n=(0,v.useNavigation)(),r=(0,p.default)(),o=je,i=we,l=(0,a.useMemo)((function(){var e=o.findIndex((function(e){return e.name===t}));return e<0&&r&&ve.includes(t)&&(e=o.findIndex((function(e){return ve.includes(e.name)}))),e}),[t,o,r]);return r&&d.default.isNewRouteMode?(0,G.jsx)(Ce,{inlineMode:!0,navigation:n,descriptors:i,state:{routes:o,index:l,key:t}}):null}function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e){return(0,p.default)()?(0,G.jsx)(Ce,Ae({},e)):(0,G.jsx)(me,Ae({},e))}const Re=(0,a.createContext)(void 0);var Ee,Be=n(184329),Ne=n(260749),Le=n(824931),We=["enabled"],Fe=["visible","children"];function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}try{Ee=n(974485)}catch(Mg){}var Ue=function(e){var t,n=e.enabled,r=(0,m.default)(e,We);return null!=(t=Ee)&&null!=t.screensEnabled&&t.screensEnabled()?(0,G.jsx)(Ee.ScreenContainer,ze({enabled:n},r)):(0,G.jsx)(Le.default,ze({},r))};function Ve(e){var t,n=e.visible,r=e.children,o=(0,m.default)(e,Fe);return null!=(t=Ee)&&null!=t.screensEnabled&&t.screensEnabled()?(0,G.jsx)(Ee.Screen,ze(ze({activityState:n?2:0},o),{},{children:r})):(0,G.jsx)(Ne.default,ze(ze({visible:n},o),{},{children:r}))}function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qe(e){var t=(0,p.default)(),n=(0,o.default)("background-default"),r=e.state,i=e.navigation,l=e.descriptors,s=e.detachInactiveScreens,u=void 0===s?"web"===I.default.OS||"android"===I.default.OS||"ios"===I.default.OS:s,d=e.sceneContainerStyle,c=r.routes[r.index].key,f=(0,a.useState)([c]),m=(0,h.default)(f,2),g=m[0],b=m[1];g.includes(c)||b([].concat((0,x.default)(g),[c]));var v=w.default.initialMetrics.frame,y=(0,a.useState)((function(){return Te({insets:Ge(Ge({},w.default.initialMetrics.insets),e.safeAreaInsets)})})),j=(0,h.default)(y,2),T=j[0],C=j[1],M=(0,a.useMemo)((function(){return(0,G.jsx)(De,{navigation:i,state:r,descriptors:l})}),[l,i,r]),P=r.routes;return(0,G.jsxs)(w.default,{style:{flexDirection:t?"column":"row-reverse"},children:[(0,G.jsx)(Ue,{enabled:u,hasTwoStates:!0,style:Xe.container,children:P.map((function(e,t){var o=l[e.key],a=o.options,i=a.lazy,s=void 0===i||i,c=a.unmountOnBlur,f=r.index===t;if(c&&!f)return null;if(s&&!g.includes(e.key)&&!f)return null;var p=o.options,m=p.freezeOnBlur,h=p.header,x=void 0===h?function(t){var n=t.layout,r=t.options;return(0,G.jsx)(k.default,Ge(Ge({},r),{},{layout:n,title:(0,_.default)(r,e.name)}))}:h;return(0,G.jsx)(Ve,{style:[S.default.absoluteFill,{zIndex:f?0:-1}],visible:f,enabled:u,freezeOnBlur:m,children:(0,G.jsx)(Be.default.Provider,{value:T,children:(0,G.jsx)(O.default,{focused:f,route:o.route,navigation:o.navigation,headerShown:o.options.headerShown,headerTransparent:o.options.headerTransparent,headerStatusBarHeight:o.options.headerStatusBarHeight,header:x({layout:v,route:o.route,navigation:o.navigation,options:o.options}),style:[d,{backgroundColor:n}],children:o.render()})})},e.key)}))}),(0,G.jsx)(Re.Provider,{value:C,children:M})]})}var Xe=S.default.create({container:{flex:1,overflow:"hidden"}}),Ye=["initialRouteName","backBehavior","children","screenListeners","screenOptions","sceneContainerStyle"],Qe=["lazy","tabBarOptions"];function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Je=(0,v.createNavigatorFactory)((function(e){var t,n,r=e.initialRouteName,o=e.backBehavior,a=e.children,i=e.screenListeners,l=e.screenOptions,s=e.sceneContainerStyle,u=(0,m.default)(e,Ye),d=u.lazy,c=u.tabBarOptions,f=(0,m.default)(u,Qe),p={};c&&(Object.assign(p,{tabBarHideOnKeyboard:c.keyboardHidesTabBar,tabBarActiveTintColor:c.activeTintColor,tabBarInactiveTintColor:c.inactiveTintColor,tabBarActiveBackgroundColor:c.activeBackgroundColor,tabBarInactiveBackgroundColor:c.inactiveBackgroundColor,tabBarAllowFontScaling:c.allowFontScaling,tabBarShowLabel:c.showLabel,tabBarLabelStyle:c.labelStyle,tabBarIconStyle:c.iconStyle,tabBarItemStyle:c.tabStyle,tabBarLabelPosition:null!=(n=c.labelPosition)?n:!1===c.adaptive?"below-icon":void 0,tabBarStyle:[{display:c.tabBarVisible?"none":"flex"},p.tabBarStyle]}),Object.keys(p).forEach((function(e){void 0===p[e]&&delete p[e]})),j()(c,`Bottom Tab Navigator: 'tabBarOptions' is deprecated. Migrate the options to 'screenOptions' instead.\n\nPlace the following in 'screenOptions' in your code to keep current behavior:\n\n${JSON.stringify(p,null,2)}\n\nSee https://reactnavigation.org/docs/bottom-tab-navigator#options for more details.`)),"boolean"===typeof d&&(p.lazy=d,j()(!0,"Bottom Tab Navigator: 'lazy' in props is deprecated. Move it to 'screenOptions' instead.\n\nSee https://reactnavigation.org/docs/bottom-tab-navigator/#lazy for more details."));var h=(0,v.useNavigationBuilder)(v.TabRouter,{initialRouteName:r,backBehavior:o,children:a,screenListeners:i,screenOptions:l,defaultScreenOptions:p}),x=h.state,g=h.descriptors,b=h.navigation,y=h.NavigationContent;return(0,G.jsx)(y,{children:(0,G.jsx)(qe,Ze(Ze({},f),{},{foldableList:null!=(t=null==l?void 0:l.foldableList)?t:[],state:x,navigation:b,descriptors:g,sceneContainerStyle:s}))})}));n(439762);var et=n(671029),tt=n(238116),nt=n(709267);function rt(e,t){return function(){return(0,G.jsxs)(nt.Box,{flex:1,children:[(0,G.jsx)(nt.Box,{flex:1,children:(0,G.jsx)(e,{})}),(0,G.jsx)(Me,{name:t})]})}}var ot=n(593104),at=n(197856);function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function st(e){var t=e.children,n=e.unmountWhenBlur,r=e.freezeWhenBlur,o=e.rootTabName,i=(0,a.useRef)(!1),l=(0,v.useIsFocused)();(0,a.useEffect)((function(){l&&(i.current=!0)}),[l]);var s=(0,a.useMemo)((function(){var e=!l,t=!1;e&&((0,ot.isModalRouteExisting)()&&(e=!1));if(d.default.isNativeIOS&&((e=!1)&&o&&(t=(0,ot.isAtAppRootTab)(o))&&(e=!1),e&&o&&t)){var n,r=(0,ot.getAppRootTabInfoOfTab)(o),a=null==r||null==(n=r.state)?void 0:n.routes;a&&(null==a?void 0:a.length)<=2&&(e=!1)}return e}),[o,l]);if(s&&n)return null;s&&console.log("LazyRenderWhenFocus >>>>>>>>>> ",{shouldFreeze:s,freezeWhenBlur:r,rootTabName:o});var u=i.current||l?t:null;return s&&r?(0,G.jsx)(at.default,{freeze:!0,children:u}):u}function ut(e,t){var n=function(n){return(0,G.jsx)(st,lt(lt({},t),{},{children:(0,G.jsx)(e,lt({},n))}))};return n.displayName=null==e?void 0:e.displayName,n}var dt=n(669083),ct=n(510374),ft=n(722363),pt=E.default.serviceAccount;function mt(e){var t=e.wallet,n=e.networkId,r=null==t?void 0:t.id;return(0,a.useEffect)((function(){t&&r&&n&&pt.autoAddFirstHdOrHwAccount({wallet:t,networkId:n})}),[n,t,r]),null}const ht=function(e){var t=e.children,n=e.checkCompatibleNetwork,r=void 0===n||n,o=(0,b.default)(),a=(0,v.useNavigation)(),i=(0,B.useActiveWalletAccount)(),l=i.walletId,s=i.accountId,u=i.networkId,d=i.isCompatibleNetwork,c=i.network,p=i.wallet,m=(0,ft.useCreateAccountInWallet)({walletId:l,networkId:u}),h=m.createAccount,x=m.isCreateAccountSupported,g=!!s&&(!r||d);return!l?(0,G.jsxs)(D.default,{testID:"IdentityAssertion-noWallet",flex:"1",justifyContent:"center",bg:"background-default",children:[(0,G.jsx)(ct.default,{emoji:"\ud83e\udd11",title:o.formatMessage({id:"empty__no_wallet_title"}),subTitle:o.formatMessage({id:"empty__no_wallet_desc"})}),(0,G.jsx)(D.default,{position:"relative",w:{md:"full"},alignItems:"center",h:"56px",justifyContent:"center",children:(0,G.jsx)(K.default,{leftIconName:"PlusOutline",type:"primary",onPress:function(){a.navigate(f.RootRoutes.Onboarding)},size:"lg",children:o.formatMessage({id:"action__create_wallet"})})})]}):g?(0,G.jsx)(G.Fragment,{children:t}):(0,G.jsxs)(D.default,{testID:"IdentityAssertion-noAccount",flex:"1",justifyContent:"center",bg:"background-default",children:[(0,G.jsx)(ct.default,{emoji:"\ud83d\udcb3",title:o.formatMessage({id:"empty__no_account_title"}),subTitle:o.formatMessage({id:"empty__no_account_desc"})}),(0,G.jsxs)(D.default,{position:"relative",w:{md:"full"},alignItems:"center",h:"56px",justifyContent:"center",children:[x&&p?(0,G.jsx)(mt,{wallet:p,networkId:u}):null,(0,G.jsx)(K.default,{leftIconName:x?"PlusOutline":"BanOutline",type:"primary",onPress:function(){x?h():dt.default.show({title:o.formatMessage({id:ft.NETWORK_NOT_SUPPORT_CREATE_ACCOUNT_I18N_KEY},{0:null==c?void 0:c.shortName})})},size:"lg",children:o.formatMessage({id:"action__create_account"})})]})]})};var xt,gt;d.default.isNativeIOSPad&&(gt=n(395538).default);const bt=(0,a.memo)((function(){var e=(0,p.default)();return e&&!xt?xt=n(726531).default:e||gt||(gt=n(395538).default),(0,G.jsx)(D.default,{flex:1,bg:"background-default",children:e?(0,G.jsx)(xt,{}):(0,G.jsx)(gt,{})})}));var vt=n(907821),yt=n(680805);function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kt=f.TabRoutes.Discover;const _t=wt(wt({},ye[kt]),{},{component:rt(ut((function(){return(0,G.jsx)(ht,{checkCompatibleNetwork:!1,children:(0,G.jsx)(bt,{})})}),{rootTabName:kt}),kt),children:[{name:f.HomeRoutes.ExploreScreen,component:yt.default},{name:f.HomeRoutes.DAppListScreen,component:vt.default}]});var Ot=n(470310),It=n(433996),St=n(823621),Tt=n(655697),Ct=n(313132),Mt=n(322987),Pt=n(634795),At=n(206391),Dt=n.n(At),Rt=n(737790),Et=n(613549),Bt=n(380845),Nt=n(161049),Lt=n.n(Nt),Wt=n(785505),Ft=n.n(Wt),Ht=n(719392);function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vt(e){var t=e.header,n=e.title,r=e.desc,o=e.icon,a=e.onPress,i=e.descStyle,l=e.isLoading;return(0,G.jsxs)(ce.default,{space:4,flex:1,children:[(0,G.jsx)(xe.default,{textTransform:"uppercase",typography:"Subheading",children:t}),(0,G.jsx)(Z.default,{onPress:a,flex:1,isDisabled:l,children:(0,G.jsx)(Ot.default,{alignItems:"center",flex:1,children:l?(0,G.jsx)(T.default,{children:(0,G.jsx)(Ht.default,{})}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(Ot.default,{alignItems:"center",space:3,flex:1,children:[o,(0,G.jsxs)(ce.default,{space:1,flex:1,children:[(0,G.jsx)(xe.default,{typography:"Body1Strong",children:n}),Ft()(r)?(0,G.jsx)(xe.default,Ut(Ut({typography:"Body2",color:"text-subdued",numberOfLines:2},i),{},{children:r})):r]})]}),Lt()(a)&&(0,G.jsx)(J.default,{name:"ChevronRightMini",size:23})]})})})]})}var $t=n(371905);function Gt(e){var t=e.networkId,n=e.amount,r=e.amountType,o=e.bulkType,i=e.token,l=e.transferCount,s=e.handleOnAmountChanged,u=e.accountAddress,d=(0,b.default)(),c=(0,v.useNavigation)(),p=(0,a.useMemo)((function(){var e,t,o;switch(r){case $t.AmountTypeEnum.Fixed:return{title:`${n[0]} ${null==i?void 0:i.symbol}`,desc:`${d.formatMessage({id:"content__total"})}: ${new(Dt())(null!=(e=n[0])?e:0).times(l).toFixed()} ${null==i?void 0:i.symbol}`};case $t.AmountTypeEnum.Random:return{title:`${n[0]} ${null==i?void 0:i.symbol} ~ ${n[1]} ${null==i?void 0:i.symbol}`,desc:`${d.formatMessage({id:"form__max_total"})}: ${new(Dt())(null!=(t=n[1])?t:0).times(l).toFixed()} ${null==i?void 0:i.symbol}`};case $t.AmountTypeEnum.All:return{title:d.formatMessage({id:"option__all"})};case $t.AmountTypeEnum.Custom:return{title:d.formatMessage({id:"title__custom"}),desc:d.formatMessage({id:"content__set_amounts_for_each_accounts"})};default:return{title:`${n[0]} ${null==i?void 0:i.symbol}`,desc:`${d.formatMessage({id:"content__total"})}: ${new(Dt())(null!=(o=n[0])?o:0).times(l).toFixed()} ${null==i?void 0:i.symbol}`}}}),[r,n,null==i?void 0:i.symbol,d,l]),m=p.title,h=p.desc,x=(0,a.useCallback)((function(){c.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.BulkSender,params:{screen:$t.BulkSenderRoutes.AmountEditor,params:{bulkType:o,amount:n,amountType:r,token:i,networkId:t,accountAddress:u,onAmountChanged:s}}})}),[u,n,r,o,s,c,t,i]);return(0,G.jsx)(Vt,{header:d.formatMessage({id:"form__amount_per_transaction"}),title:m,desc:h,onPress:x})}var qt=n(870686),Xt=n(933922),Yt=n(136991);function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zt(e){var t=e.networkId,n=e.trader,r=e.token,o=e.shouldValidateAmount,i=(0,a.useState)(!1),l=(0,h.default)(i,2),s=l[0],u=l[1],d=(0,a.useState)(!0),c=(0,h.default)(d,2),f=c[0],p=c[1],m=(0,a.useState)([]),x=(0,h.default)(m,2),g=x[0],v=x[1],y=(0,b.default)(),j=(0,B.useNetworkSimple)(t);return(0,a.useEffect)((function(){(0,Pt.default)((function*(){var e=[];p(!0);for(var a=0;a<n.length;a+=1){var i=n[a],l=i.address,s=i.amount,d=!1;if(o){var c=new(Dt())(null!=s?s:0);if(d||(c.isNaN()||c.isNegative())&&(e.push({lineNumber:a+1,message:y.formatMessage({id:"form__modify_the_line_with_the_correct_format"})}),d=!0),!d&&null!=r&&r.decimals&&(c.shiftedBy(r.decimals).isInteger()||(e.push({lineNumber:a+1,message:y.formatMessage({id:"msg__please_limit_the_amount_of_tokens_to_str_decimal_places_or_less"},{0:r.decimals})}),d=!0)),!d&&null!=j&&j.settings.minTransferAmount){var f=new(Dt())(j.settings.minTransferAmount);c.lt(f)&&(e.push({lineNumber:a+1,message:y.formatMessage({id:"form__str_minimum_transfer"},{0:f.toFixed(),1:null==r?void 0:r.symbol})}),d=!0)}}if(!d)try{yield E.default.validator.validateAddress(t,l.trim())}catch(m){e.push({lineNumber:a+1,message:y.formatMessage({id:"form__incorrect_address_format"})}),d=!0}}p(!1),u(0===e.length),v(e)}))()}),[y,null==j?void 0:j.settings.minTransferAmount,t,o,null==r?void 0:r.decimals,null==r?void 0:r.symbol,n]),{isValid:s,isValidating:f,errors:g}}function Jt(e){var t=e.intervalType,n=e.txInterval,r=e.handleOnIntervalChanged,o=(0,b.default)(),i=(0,v.useNavigation)(),l=(0,a.useCallback)((function(){i.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.BulkSender,params:{screen:$t.BulkSenderRoutes.IntervalEditor,params:{txInterval:n,intervalType:t,onIntervalChanged:r}}})}),[r,t,i,n]),s=(0,a.useMemo)((function(){switch(t){case $t.IntervalTypeEnum.Off:return{title:"Off"};case $t.IntervalTypeEnum.Fixed:return{title:`${n[0]}s`,desc:o.formatMessage({id:"form__fixed_interval"})};case $t.IntervalTypeEnum.Random:default:return{title:`${n[0]} ~ ${n[1]}s`,desc:o.formatMessage({id:"form__random_interval"})}}}),[t,o,n]),u=s.title,d=s.desc;return(0,G.jsx)(Vt,{header:o.formatMessage({id:"form__time_interval"}),title:u,desc:d,onPress:l})}var en=n(905648),tn=n.n(en),nn=n(627009),rn="https://onekey-devops.s3.ap-southeast-1.amazonaws.com/send_ERC20.xlsx",on="https://onekey-devops.s3.ap-southeast-1.amazonaws.com/send_ERC20.csv",an="https://onekey-devops.s3.ap-southeast-1.amazonaws.com/send_ERC20.txt";function ln(e){var t="";switch(e){case $t.TraderExampleType.CSV:t=on;break;case $t.TraderExampleType.TXT:t=an;break;case $t.TraderExampleType.Excel:t=rn;break;default:t=an}(0,nn.openUrlExternal)(t)}function sn(){var e=(0,b.default)();return(0,G.jsxs)(Ot.default,{space:"10px",children:[(0,G.jsxs)(xe.default,{fontSize:14,color:"text-subdued",children:[e.formatMessage({id:"content__download_example"}),":"]}),(0,G.jsx)(Z.default,{onPress:function(){return ln($t.TraderExampleType.CSV)},children:(0,G.jsx)(xe.default,{fontSize:14,color:"text-subdued",textDecorationLine:"underline",children:"CSV,"})}),(0,G.jsx)(Z.default,{onPress:function(){return ln($t.TraderExampleType.TXT)},children:(0,G.jsx)(xe.default,{fontSize:14,color:"text-subdued",textDecorationLine:"underline",children:"TXT,"})}),(0,G.jsx)(Z.default,{onPress:function(){return ln($t.TraderExampleType.Excel)},children:(0,G.jsx)(xe.default,{fontSize:14,color:"text-subdued",textDecorationLine:"underline",children:"Excel"})})]})}var un=n(903730),dn=n(170766),cn=n(605616);function fn(e){var t=(0,a.useRef)(),n=(0,a.useRef)(),r=e.traderString,o=e.setTraderString,i=function(e){return e.split("\n").map((function(e,t){return`${t+1}${new Array(e.length+3).join(" ")}`})).join("\n")}(r),l=(0,a.useCallback)((function(){var e,r;null==(e=n.current)||e.scrollTo({top:null==(r=t.current)?void 0:r.scrollTop})}),[]);return(0,a.useLayoutEffect)((function(){n.current&&(n.current.style.whiteSpace="break-spaces")}),[]),(0,G.jsxs)(D.default,{position:"relative",children:[(0,G.jsx)(cn.default,{ref:t,onScroll:l,bgColor:"transparent",bg:"transparent",value:r,pl:"46px",h:"240px",margin:"1px",shadow:"none",fontFamily:d.default.isNativeIOS?"Menlo":"monospace",onChangeText:function(e){return o(e)}}),(0,G.jsx)(cn.default,{ref:n,borderColor:"transparent",color:"text-disabled",value:i,h:"240px",fontFamily:"monospace",position:"absolute",zIndex:-1,left:"1px",top:"1px",right:"1px",bottom:"1px",isReadOnly:!0})]})}var pn=3;function mn(e){var t=e.traderErrors,n=e.showFileError,r=(0,b.default)(),o=(0,a.useMemo)((function(){for(var e=[],n=t.length,o=0,a=Dt().min(n,pn).toNumber();o<a;o+=1){var i=t[o];e.push((0,G.jsxs)(Ot.default,{space:"10px",alignItems:"center",children:[(0,G.jsx)(J.default,{name:"InformationCircleOutline",size:12,color:"icon-warning"}),(0,G.jsx)(xe.default,{typography:"Caption",color:"text-warning",fontSize:12,children:i.lineNumber?`${r.formatMessage({id:"form__line_str"},{0:i.lineNumber})}: ${i.message}`:i.message})]},o))}return n>pn&&e.push((0,G.jsxs)(Ot.default,{space:"10px",alignItems:"center",children:[(0,G.jsx)(J.default,{name:"InformationCircleOutline",size:12,color:"icon-warning"}),(0,G.jsx)(xe.default,{typography:"Caption",fontSize:12,color:"text-warning",children:r.formatMessage({id:"msg__other_str_lines_errors"},{count:n-pn})})]})),e}),[t,r]);return(0,G.jsxs)(G.Fragment,{children:[n&&(0,G.jsxs)(Ot.default,{space:"10px",alignItems:"center",children:[(0,G.jsx)(J.default,{name:"InformationCircleOutline",size:12,color:"icon-warning"}),(0,G.jsx)(xe.default,{typography:"Caption",color:"text-warning",fontSize:12,children:r.formatMessage({id:"msg__the_content_format_of_the_upload_file_is_incorrect"})})]}),o]})}function hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gn(e){var t=e.traderFromOut,n=e.setTraderFromOut,r=e.setTrader,o=e.traderErrors,i=e.showFileError,l=e.setShowFileError,s=e.amountType,u=e.isSingleMode,d=e.withAmount,c=(0,b.default)(),f=(0,a.useState)(""),p=(0,h.default)(f,2),m=p[0],x=p[1],g=function(e){var t=e.header,n=(0,a.useState)([]),r=(0,h.default)(n,2),o=r[0],i=r[1],l=(0,Xt.useDropzone)(Kt({multiple:!1,accept:{"text/csv":[".csv"],"text/plain":[".txt"],"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"]},onDropAccepted:function(){var e=(0,Pt.default)((function*(e){try{var n=yield e[0].arrayBuffer(),r=(0,Yt.read)(n,{raw:!0}),o=Yt.utils.sheet_to_json(r.Sheets[r.SheetNames[0]],{header:t});i(o)}catch(a){}}));return function(t){return e.apply(this,arguments)}}()},e));return Kt(Kt({},l),{},{data:o})}({header:s===$t.AmountTypeEnum.Custom?[$t.TokenTraderEnum.Address,$t.TokenTraderEnum.Amount]:[$t.TokenTraderEnum.Address],noClick:!0,onDrop:function(e,t){t.length>0&&l(!0)}}),v=g.isDragAccept,y=g.data,j=g.getRootProps,w=(0,B.useDebounce)(m,500,{leading:!0});return(0,a.useEffect)((function(){var e=function(e){var t=e.traderString,n=e.withAmount,r=[];if(""===t)return[];for(var o=t.split("\n"),a=0;a<o.length;a+=1){var i=o[a];if(n){var l=i.split(",");r.push({address:tn()(l[0]),amount:tn()(l[1])})}else r.push({address:tn()(i)})}return r}({traderString:w,withAmount:!(u||s!==$t.AmountTypeEnum.Custom||!d)});r(e)}),[s,w,r,n,u,d]),(0,a.useEffect)((function(){t.length>0&&x(function(e){var t=e.trader,n=e.withAmount,r=t.length;return n?t.reduce((function(e,t,n){return`${e}${[t.address,t.amount].join(",")}${n===r-1?"":"\n"}`}),""):t.reduce((function(e,t,n){return`${e}${t.address}${n===r-1?"":"\n"}`}),"")}({trader:t,withAmount:!(u||s!==$t.AmountTypeEnum.Custom||!d)}))}),[s,u,t,d]),(0,a.useEffect)((function(){y&&y[0]&&y[0].Address&&y[0].Amount?(l(!1),n(y.filter((function(e){return e.Address!==$t.TokenTraderEnum.Address&&e.Amount!==$t.TokenTraderEnum.Amount})).map((function(e){return{address:e.Address,amount:e.Amount}})))):y&&y[0]&&l(!0)}),[y,c,n,l]),(0,G.jsxs)(D.default,{children:[(0,G.jsxs)("div",xn(xn({style:{width:"100%",height:"100%",position:"relative"}},j()),{},{children:[u?(0,G.jsx)(dn.default,{w:"100%",value:m,onChangeText:function(e){return x(e)}}):(0,G.jsx)(fn,{traderString:m,setTraderString:x}),v&&(0,G.jsx)(T.default,{flex:"1",bg:"backdrop",zIndex:999,position:"absolute",left:"0",right:"0",top:"0",bottom:"0",borderRadius:12,children:(0,G.jsx)(D.default,{bg:"surface-default",borderWidth:1,borderColor:"interactive-default",w:"358px",borderRadius:12,h:"148px",children:(0,G.jsxs)(T.default,{h:"full",children:[(0,G.jsx)(J.default,{name:"DocumentArrowUpOutline",size:38}),(0,G.jsx)(xe.default,{mt:5,children:c.formatMessage({id:"form__drag_file_here"})})]})})})]})),(0,G.jsx)(D.default,{mt:3,children:(0,G.jsx)(mn,{traderErrors:o,showFileError:i})})]})}function bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yn(e){var t=e.setTraderFromOut,n=e.setIsUploadMode,r=e.showFileError,a=e.setShowFileError,i=(0,o.default)(["surface-default","border-default","interactive-default"]),l=(0,h.default)(i,3),s=l[0],u=l[1],d=l[2],c=(0,b.default)(),f=(0,Xt.useDropzone)({multiple:!1,accept:{"text/csv":[".csv"],"text/plain":[".txt"],"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"]},onDropAccepted:function(){var e=(0,Pt.default)((function*(e){try{var r=yield e[0].arrayBuffer(),o=(0,Yt.read)(r,{raw:!0}),i=Yt.utils.sheet_to_json(o.Sheets[o.SheetNames[0]],{header:[$t.TokenTraderEnum.Address,$t.TokenTraderEnum.Amount]});i&&i[0]&&i[0].Address&&i[0].Amount?(t(i.filter((function(e){return e.Address!==$t.TokenTraderEnum.Address&&e.Amount!==$t.TokenTraderEnum.Amount})).map((function(e){return{address:e.Address,amount:e.Amount}}))),a(!1),n(!1)):a(!0)}catch(l){a(!0)}}));return function(t){return e.apply(this,arguments)}}(),onDropRejected:function(){a(!0)}}),p=f.isDragAccept,m=f.getRootProps,x=f.getInputProps;return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("div",vn(vn({},m()),{},{style:{cursor:"pointer",background:s,borderWidth:1,borderStyle:"solid",borderRadius:"12px",height:"148px",borderColor:p?d:u},children:[(0,G.jsx)("input",vn({},x())),(0,G.jsxs)(T.default,{w:"full",h:"full",children:[(0,G.jsx)(J.default,{name:"UploadOutline",size:40,color:"icon-subdued"}),(0,G.jsx)(xe.default,{fontSize:14,mt:"20px",children:c.formatMessage({id:"form__drag_or_drop_file_to_import"})})]})]})),(0,G.jsx)(D.default,{mt:3,children:(0,G.jsx)(mn,{traderErrors:[],showFileError:r})}),(0,G.jsx)(D.default,{mt:4,children:(0,G.jsx)(sn,{})})]})}var jn=["external","watching"];function wn(e){var t=e.header,n=e.accountId,r=e.networkId,o=e.amount,i=e.amountType,l=e.token,s=e.trader,u=e.traderFromOut,d=e.setTraderFromOut,c=e.setTrader,m=e.traderErrors,g=e.isUploadMode,y=e.isSingleMode,j=e.setIsUploadMode,w=e.withAmount,k=e.traderType,_=(0,b.default)(),O=(0,a.useState)(!1),I=(0,h.default)(O,2),S=I[0],T=I[1],C=(0,v.useNavigation)(),M=(0,p.default)(),P=(0,a.useCallback)((function(){j(!1),C.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.ManageNetwork,params:{screen:f.ManageNetworkModalRoutes.NetworkAccountSelector,params:{hideAllNetworks:!0,hideSideChain:!0,hideSearchBar:!0,hideCreateAccount:!0,hideAccountActions:!0,tokenShowBalance:l,multiSelect:!y,singleSelect:y,walletsToHide:k===$t.TraderTypeEnum.Sender?jn:[],onAccountsSelected:function(e){j(!1),d(y?[{address:e[0]}]:[].concat((0,x.default)(s),(0,x.default)(e.map((function(e){return i===$t.AmountTypeEnum.Custom&&w?{address:e,amount:o[0]}:{address:e}})))))}}}})}),[o,i,y,C,j,d,l,s,k,w]),A=(0,a.useCallback)((function(){C.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.AddressBook,params:{screen:un.AddressBookRoutes.PickAddressRoute,params:{networkId:r,walletsToHide:k===$t.TraderTypeEnum.Sender?jn:[],onSelected:function(e){var t=e.address;j(!1),d(y?[{address:t}]:[].concat((0,x.default)(s),[i===$t.AmountTypeEnum.Custom&&w?{address:t,amount:o[0]}:{address:t}]))}}}})}),[o,i,y,C,r,j,d,s,k,w]);return(0,a.useEffect)((function(){T(!1)}),[g]),(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(Ot.default,{justifyContent:"space-between",alignItems:"center",mb:"10px",children:[(0,G.jsx)(xe.default,{fontSize:18,typography:"Heading",children:t}),(0,G.jsx)(Ot.default,{space:M?1:0,children:M?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(It.default,{name:"ArrowUpTrayMini",bgColor:"surface-default",shadow:"none",borderWidth:0,circle:!0,onPress:function(){return j(!g)}}),(0,G.jsx)(It.default,{name:"UserCircleOutline",bgColor:"surface-default",shadow:"none",borderWidth:0,circle:!0,onPress:P}),(0,G.jsx)(It.default,{name:"BookOpenOutline",bgColor:"surface-default",shadow:"none",borderWidth:0,circle:!0,onPress:A})]}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(K.default,{type:"plain",leftIconName:"ArrowUpTrayMini",onPress:function(){return j(!g)},children:_.formatMessage({id:g?"action__edit":"action__upload"})}),(0,G.jsx)(K.default,{type:"plain",leftIconName:"UserCircleOutline",onPress:P,children:_.formatMessage({id:"form__account"})}),(0,G.jsx)(K.default,{type:"plain",leftIconName:"BookOpenOutline",onPress:A,children:_.formatMessage({id:"title__address_book"})})]})})]}),(0,G.jsx)(D.default,{display:g?"flex":"none",children:(0,G.jsx)(yn,{showFileError:S,setShowFileError:T,setTraderFromOut:d,setIsUploadMode:j})}),(0,G.jsx)(D.default,{display:g?"none":"flex",children:(0,G.jsx)(gn,{amount:o,traderType:k,amountType:i,accountId:n,networkId:r,setTrader:c,trader:s,traderFromOut:u,setTraderFromOut:d,traderErrors:m,showFileError:S,setShowFileError:T,isSingleMode:y,withAmount:w})})]})}var kn=n(785192),_n=n(986152),On=n.n(_n);function In(e){var t=e.children,n=(0,p.default)(),r=(0,b.default)();return(0,G.jsxs)(D.default,{children:[(0,G.jsx)(xe.default,{typography:"Heading",mb:n?10:4,children:r.formatMessage({id:"title__transaction_settings"})}),n?(0,G.jsx)(ce.default,{children:On()(t)?t.map((function(e,n){return(0,G.jsxs)(D.default,{children:[e,n===t.length-1?null:(0,G.jsx)(kn.default,{marginY:4})]},n)})):t}):(0,G.jsx)(Ot.default,{space:6,children:t})]})}var Sn=n(301842),Tn=n.n(Sn),Cn=n(940915),Mn=n(392853),Pn=n(776553),An=function(e){var t=e.min,n=e.max,r=e.decimals,o=e.randomDecimals,a=void 0===o?2:o,i=new(Dt())(t),l=new(Dt())(n);if(i.isGreaterThan(l))throw new Cn.OneKeyError("Min must be less than or equal to max");var s=l.minus(i),u=Dt().random(a);return i.plus(s.multipliedBy(u)).toFixed(r)},Dn=function(){var e=(0,Pt.default)((function*(e){var t,n=e.networkId,r=e.senderItem,o=e.amount,a=e.amountType,i=e.token,l=e.tokensBalance;if(a===$t.AmountTypeEnum.Custom){if(Tn()(r.amount))throw new Cn.OneKeyError("Can not get sender amount value");return r.amount}if(a===$t.AmountTypeEnum.Fixed)return o[0];var s=yield E.default.serviceAccount.getAccountByAddress({address:r.address,networkId:n}),u=null!=(t=null==l?void 0:l[null==s?void 0:s.id])?t:"0";if(a===$t.AmountTypeEnum.Random){var d=o[0],c=Dt().min(u,o[1]).toFixed();return(0,Pn.removeTrailingZeros)(An({min:d,max:c,decimals:i.decimals}))}return a===$t.AmountTypeEnum.All?u:"0"}));return function(t){return e.apply(this,arguments)}}(),Rn=function(e){var t=e.txInterval,n=e.intervalType;return n===$t.IntervalTypeEnum.Fixed?t[0]:n===$t.IntervalTypeEnum.Random?An({min:t[0],max:t[1],decimals:1}):void 0},En=function(){var e=(0,Pt.default)((function*(e){var t,n=e.networkId,r=e.walletId,o=e.sender,a=e.receiver,i=e.bulkType,l=e.amount,s=e.amountType,u=e.token,d=e.nativeToken,c=e.feePresetIndex,f=e.intl,p=e.wallets;if(i===Tt.BulkTypeEnum.ManyToMany&&a.length!==o.length)return{isVerified:!1,errors:[{message:f.formatMessage({id:"msg__inconsistency_between_the_number_of_sender_and_recipient_addresses"})}]};for(var m=[],x=[],g=null,b="0",v=new Set,y=function*(){var e=o[j],t=yield E.default.serviceAccount.getAccountByAddress({address:e.address.toLowerCase(),networkId:n});if(v.has(e.address))m.push({lineNumber:j+1,message:f.formatMessage({id:"msg__duplicated_address"})});else if(!t||t.id.startsWith("watching-")||t.id.startsWith("external-"))m.push({lineNumber:j+1,message:f.formatMessage({id:"msg__you_dont_own_this_address"})});else{var r=p.find((function(e){return e.accounts.includes(null==t?void 0:t.id)}));if(r){if(x.push({accountId:t.id,walletId:r.id}),v.add(e.address),null===g)try{var i=yield E.default.engine.buildEncodedTxFromTransfer({networkId:n,accountId:t.id,transferInfo:{from:e.address,to:a[0].address,amount:"0",token:u.tokenIdOnNetwork}});(g=yield E.default.engine.fetchFeeInfo({networkId:n,accountId:t.id,encodedTx:i})).defaultPresetIndex=c,parseFloat(g.defaultPresetIndex)>g.prices.length-1&&(g.defaultPresetIndex=""+(g.prices.length-1)),parseFloat(g.defaultPresetIndex)<0&&(g.defaultPresetIndex="0");var l=(0,Mn.getSelectedFeeInfoUnit)({info:g,index:g.defaultPresetIndex}),s=(0,Mn.calculateTotalFeeRange)(l).max;b=new(Dt())((0,Mn.calculateTotalFeeNative)({amount:s,info:g})).times(2).toFixed()}catch(d){return dt.default.show({title:f.formatMessage({id:"msg__failed_to_get_network_fees_please_try_again"})},{type:"error"}),{v:{isVerified:!1}}}}else m.push({lineNumber:j+1,message:f.formatMessage({id:"msg__you_dont_own_this_address"})})}},j=0;j<o.length;j+=1){var w=yield*y();if("object"===typeof w)return w.v}if(m.length>0)return{isVerified:!1,errors:m};for(var k=yield E.default.serviceToken.batchFetchAccountBalances({walletId:r,networkId:n,accountIds:x.map((function(e){return e.accountId})),disableDebounce:!0}),_=u.isNative?k:yield E.default.serviceToken.batchFetchAccountTokenBalances({walletId:r,networkId:n,accountIds:x.map((function(e){return e.accountId})),tokenAddress:null!=(t=u.tokenIdOnNetwork)?t:u.address}),O=0;O<o.length;O+=1){var I="0",S=o[O],T=x[O].accountId;if(s===$t.AmountTypeEnum.Custom){if(Tn()(S.amount))throw new Cn.OneKeyError("Can not get sender amount value");I=S.amount}else if(s===$t.AmountTypeEnum.Fixed){I=(0,h.default)(l,1)[0]}else if(s===$t.AmountTypeEnum.Random){I=(0,h.default)(l,1)[0]}else I="0";var C,M=null==k?void 0:k[T],P=null==_?void 0:_[T];if(Tn()(M)||Tn()(P))throw new Cn.OneKeyError("Can not get sender balance value.");if(u.isNative)new(Dt())(I).gt(M)||new(Dt())(M).lte(0)?m.push({lineNumber:O+1,message:f.formatMessage({id:"msg__insufficient_balance_available_amount_str_str"},{amount:M,symbol:u.symbol})}):new(Dt())(I).plus(b).gt(M)&&m.push({lineNumber:O+1,message:f.formatMessage({id:"msg__insufficient_native_token_for_network_fees_available_amount_str_str"},{amount:M,symbol:u.symbol})});else if((new(Dt())(I).gt(P)||new(Dt())(P).lte(0))&&m.push({lineNumber:O+1,message:f.formatMessage({id:"msg__insufficient_balance_available_amount_str_str"},{amount:P,symbol:u.symbol})}),new(Dt())(b).gt(M))m.push({lineNumber:O+1,message:f.formatMessage({id:"msg__insufficient_native_token_for_network_fees_available_amount_str_str"},{amount:M,symbol:null!=(C=null==d?void 0:d.symbol)?C:""})})}return m.length>0?{isVerified:!1,errors:m}:{isVerified:!0,senderAccounts:x,tokensBalance:_}}));return function(t){return e.apply(this,arguments)}}();function Bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bn(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ln="2";function Wn(e){var t,n,r,o,i=e.accountId,l=e.networkId,s=e.walletId,u=e.bulkType,d=e.accountAddress,c=(0,a.useState)(null),m=(0,h.default)(c,2),x=m[0],g=m[1],y=(0,a.useState)([]),j=(0,h.default)(y,2),w=j[0],k=j[1],_=(0,a.useState)([]),O=(0,h.default)(_,2),I=O[0],S=O[1],T=(0,a.useState)([]),C=(0,h.default)(T,2),M=C[0],P=C[1],A=(0,a.useState)([]),R=(0,h.default)(A,2),N=R[0],L=R[1],W=(0,a.useState)(!1),F=(0,h.default)(W,2),H=F[0],z=F[1],U=(0,a.useState)(!1),V=(0,h.default)(U,2),$=V[0],q=V[1],X=(0,a.useState)(!1),Y=(0,h.default)(X,2),Q=Y[0],Z=Y[1],J=(0,a.useState)([]),ee=(0,h.default)(J,2),te=ee[0],ne=ee[1],re=(0,a.useState)(null!=(t=qt.amountDefaultTypeMap[u])?t:$t.AmountTypeEnum.Fixed),oe=(0,h.default)(re,2),ae=oe[0],ie=oe[1],le=(0,a.useState)(["0","1"]),se=(0,h.default)(le,2),ue=se[0],de=se[1],ce=(0,a.useState)(["1","5"]),fe=(0,h.default)(ce,2),pe=fe[0],me=fe[1],he=(0,a.useState)($t.IntervalTypeEnum.Random),ge=(0,h.default)(he,2),be=ge[0],ve=ge[1],ye=(0,b.default)(),je=(0,p.default)(),we=(0,v.useNavigation)(),ke=(0,B.useNetwork)({networkId:l}).network,_e=(0,Bt.appSelector)((function(e){return e.runtime})).wallets,Oe=(0,B.useAccountTokensOnChain)(l,i).filter((function(e){return(null==ke?void 0:ke.impl)!==Et.IMPL_TRON||!new(Dt())(e.tokenIdOnNetwork).isInteger()})),Ie=E.default.serviceToken,Se=E.default.serviceOverview,Te=null!=(n=Oe.find((function(e){return e.isNative})))?n:Oe[0],Ce=x||Te,Me=(0,B.useNativeToken)(l),Pe=Zt({networkId:l,trader:w,token:Ce,shouldValidateAmount:ae===$t.AmountTypeEnum.Custom}),Ae=Pe.isValid,De=Pe.isValidating,Re=Pe.errors,Ee=Zt({networkId:l,trader:M,token:Ce,shouldValidateAmount:!1}),Be=Ee.isValid,Ne=Ee.isValidating,Le=Ee.errors,We=(0,a.useMemo)((function(){return 0===M.length||0===w.length||Ne||De||Q||!Be||!Ae}),[M,w,Ne,De,Q,Be,Ae]),Fe=(0,a.useCallback)((function(e){g(e)}),[]),He=(0,a.useCallback)((function(e){var t=e.amount,n=e.amountType,r=[];r=n===$t.AmountTypeEnum.Custom?w.map((function(e){var n;return Nn(Nn({},e),{},{Amount:null!=(n=t[0])?n:"0"})})):w.map((function(e){return Nn({},e)})),de(t),ie(n),S(r)}),[w]),ze=(0,a.useCallback)((function(e){var t=e.txInterval,n=e.intervalType;me(t),ve(n)}),[]),Ue=(0,a.useCallback)((function(){we.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.BulkSender,params:{screen:$t.BulkSenderRoutes.TokenSelector,params:{accountId:i,networkId:l,tokens:Oe,onTokenSelected:Fe}}})}),[i,Fe,we,l,Oe]),Ve=(0,a.useCallback)((0,Pt.default)((function*(){if(!We){var e=[];Z(!0),ne([]);var t=yield En({networkId:l,walletId:s,sender:w,receiver:M,amount:ue,amountType:ae,bulkType:u,token:Ce,nativeToken:Me,feePresetIndex:Ln,intl:ye,wallets:_e}),n=t.isVerified,r=t.errors,o=t.senderAccounts,a=t.tokensBalance;if(!n)return Z(!1),void ne(null!=r?r:[]);for(var d=0;d<w.length;d+=1)e.push({from:w[d].address,to:u===Tt.BulkTypeEnum.ManyToOne?M[0].address:M[d].address,amount:yield Dn({networkId:l,amount:ue,amountType:ae,token:Ce,senderItem:w[d],tokensBalance:a}),token:null==Ce?void 0:Ce.tokenIdOnNetwork,tokenSendAddress:null==Ce?void 0:Ce.sendAddress,txInterval:0===d?void 0:Rn({txInterval:pe,intervalType:be})});for(var c=[],p=0,m=e.length;p<m;p+=1){var h=yield E.default.engine.buildEncodedTxFromTransfer({networkId:l,accountId:i,transferInfo:e[p]});c.push(h)}Z(!1),we.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Send,params:{screen:f.SendModalRoutes.BatchSendConfirm,params:{networkId:l,accountId:i,feeInfoUseFeeInTx:!1,feeInfoEditable:!0,feeInfoReuseable:!0,encodedTxs:c,feeInfoSelected:{type:"preset",preset:Ln},transferCount:e.length,payloadInfo:{type:"Transfer",transferInfos:e,senderAccounts:o,tokenInfo:Ce},bulkType:u,amountType:ae}}})}})),[i,ue,ae,u,Ce,be,ye,We,Me,we,l,M,w,pe,s,_e]);(0,v.useFocusEffect)((0,a.useCallback)((function(){return i&&l&&(Se.startQueryPendingTasks(),Ie.fetchAccountTokens({accountId:i,networkId:l})),function(){Se.stopQueryPendingTasks()}}),[i,l,Se,Ie])),(0,a.useEffect)((function(){i&&l&&g(null)}),[i,l]);var $e=(0,a.useMemo)((function(){return u===Tt.BulkTypeEnum.ManyToOne?w.length:Dt().min(w.length,M.length).toNumber()}),[u,M.length,w.length]);return(0,a.useEffect)((function(){ne([])}),[w]),(0,G.jsxs)(D.default,{children:[(0,G.jsxs)(In,{children:[(0,G.jsx)(Vt,{header:ye.formatMessage({id:"form__token"}),title:null!=(r=null==Ce?void 0:Ce.symbol)?r:"",icon:(0,G.jsx)(Rt.TokenIcon,{size:10,token:Ce}),onPress:Ue}),(0,G.jsx)(Gt,{accountAddress:d,token:Ce,handleOnAmountChanged:He,transferCount:$e,amount:ue,amountType:ae,bulkType:u,networkId:null!=(o=null==ke?void 0:ke.id)?o:""}),(0,G.jsx)(Jt,{txInterval:pe,intervalType:be,handleOnIntervalChanged:ze})]}),(0,G.jsx)(D.default,{mt:8,children:(0,G.jsx)(wn,{header:ye.formatMessage({id:"form__sender"}),withAmount:!0,accountId:i,networkId:l,token:Ce,amount:ue,amountType:ae,trader:w,setTrader:k,traderType:$t.TraderTypeEnum.Sender,traderFromOut:I,setTraderFromOut:S,traderErrors:Re.length>0?Re:te,isUploadMode:H,setIsUploadMode:z})}),(0,G.jsx)(D.default,{mt:8,children:(0,G.jsx)(wn,{header:ye.formatMessage({id:"form__receipient"}),isSingleMode:u===Tt.BulkTypeEnum.ManyToOne,accountId:i,networkId:l,token:Ce,amount:ue,amountType:ae,trader:M,setTrader:P,traderType:$t.TraderTypeEnum.Receiver,traderFromOut:N,setTraderFromOut:L,traderErrors:Le,isUploadMode:$,setIsUploadMode:q})}),(0,G.jsx)(xe.default,{fontSize:12,color:"text-subdued",mt:je?4:3,children:ae===$t.AmountTypeEnum.Custom?`${ye.formatMessage({id:"content__each_line_should_include_the_address_and_amount"})} ${d}, 0.1`:`${ye.formatMessage({id:"content__each_line_should_include_the_address"})} ${d}`}),(0,G.jsxs)(D.default,{display:H||$?"none":"flex",children:[(0,G.jsx)(D.default,{mt:4,children:(0,G.jsx)(K.default,{isLoading:De||Ne||Q,isDisabled:We,type:"primary",size:"xl",maxW:je?"full":"280px",onPress:Ve,children:ye.formatMessage({id:"action__preview"})})}),(0,G.jsx)(D.default,{mt:4,children:(0,G.jsx)(sn,{})})]})]})}var Fn=n(683094),Hn=n(854787);function zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zn(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Vn=function(e){return(0,G.jsx)(ce.default,Un(Un({},e),{},{space:"30px",children:[1,2,3].map((function(e){return(0,G.jsx)(ee.default,{width:"24",height:"2",viewBox:"0 0 24 2",fill:"none",children:(0,G.jsx)(ee.Path,{id:"Vector 1",d:"M0 1H24",stroke:"#4CC38A","stroke-width":"1.54"})},e)}))}))};function $n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$n(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const qn=function(e){return(0,G.jsx)(ee.default,Gn(Gn({width:"24",height:"76",viewBox:"0 0 24 76",fill:"none"},e),{},{children:(0,G.jsxs)(ee.G,{id:"Group 2",children:[(0,G.jsx)(ee.Path,{id:"Vector 1",d:"M24 38H-9.53674e-07",stroke:"#4CC38A","stroke-width":"1.54"}),(0,G.jsx)(ee.Path,{id:"Vector 2",d:"M24 38V38C15.1634 38 8 30.8366 8 22V9C8 4.85786 4.64214 1.5 0.5 1.5V1.5",stroke:"#4CC38A","stroke-width":"1.54"}),(0,G.jsx)(ee.Path,{id:"Vector 3",d:"M24 38V38C15.1634 38 8 45.1634 8 54V67C8 71.1421 4.64214 74.5 0.5 74.5V74.5",stroke:"#4CC38A","stroke-width":"1.54"})]})}))};function Xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xn(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Qn=function(e){return(0,G.jsx)(ee.default,Yn(Yn({width:"24",height:"76",viewBox:"0 0 24 76",fill:"none"},e),{},{children:(0,G.jsxs)(ee.G,{id:"Group 1",children:[(0,G.jsx)(ee.Path,{id:"Vector 1",d:"M0 38H24",stroke:"#4CC38A","stroke-width":"1.54"}),(0,G.jsx)(ee.Path,{id:"Vector 2",d:"M0 38V38C8.83656 38 16 30.8366 16 22V9C16 4.85786 19.3579 1.5 23.5 1.5V1.5",stroke:"#4CC38A","stroke-width":"1.54"}),(0,G.jsx)(ee.Path,{id:"Vector 3",d:"M0 38V38C8.83656 38 16 45.1634 16 54V67C16 71.1421 19.3579 74.5 23.5 74.5V74.5",stroke:"#4CC38A","stroke-width":"1.54"})]})}))};var Kn=["mode","isDisabled"];function Zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function er(e){var t=e.elementText;return(0,G.jsx)(D.default,{width:"24px",height:"24px",borderRadius:"full",bgColor:"surface-neutral-default",alignItems:"center",justifyContent:"center",children:(0,G.jsx)(xe.default,{textAlign:"center",typography:"CaptionStrong",children:t})})}function tr(){return(0,G.jsxs)(Ot.default,{space:3,alignItems:"center",justifyContent:"center",children:[(0,G.jsx)(er,{elementText:"A"}),(0,G.jsx)(Qn,{}),(0,G.jsx)(ce.default,{space:2,children:["I","II","III"].map((function(e){return(0,G.jsx)(er,{elementText:e})}))})]})}function nr(){return(0,G.jsxs)(Ot.default,{space:3,alignItems:"center",justifyContent:"center",children:[(0,G.jsx)(ce.default,{space:2,children:["A","B","C"].map((function(e){return(0,G.jsx)(er,{elementText:e})}))}),(0,G.jsx)(Vn,{width:"24px"}),(0,G.jsx)(ce.default,{space:2,children:["I","II","III"].map((function(e){return(0,G.jsx)(er,{elementText:e})}))})]})}function rr(){return(0,G.jsxs)(Ot.default,{space:3,alignItems:"center",justifyContent:"center",children:[(0,G.jsx)(ce.default,{space:2,children:["I","II","III"].map((function(e){return(0,G.jsx)(er,{elementText:e})}))}),(0,G.jsx)(qn,{}),(0,G.jsx)(ce.default,{children:(0,G.jsx)(er,{elementText:"A"})})]})}function or(e){var t=e.mode,n=e.isDisabled,r=(0,m.default)(e,Kn),o=(0,p.default)(),a=(0,b.default)(),i=(0,B.useNavigation)(),l=function(e){return e===Tt.BulkTypeEnum.OneToMany?{title:"form__one_to_many",desc:"form__one_to_many_desc",mark:(0,G.jsx)(tr,{})}:e===Tt.BulkTypeEnum.ManyToOne?{title:"form__many_to_one",desc:"form__many_to_one_desc",mark:(0,G.jsx)(rr,{})}:e===Tt.BulkTypeEnum.ManyToMany?{title:"form__many_to_many",desc:"form__many_to_many_desc",mark:(0,G.jsx)(nr,{})}:null}(t);if(!l)return null;var s=l.title,u=l.desc,d=l.mark;return(0,G.jsxs)(Z.default,Jn(Jn({bg:n?"surface-subdued":"surface-default",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},borderColor:"border-subdued",borderWidth:1,borderRadius:"12px",onPress:function(){return i.navigate(f.HomeRoutes.BulkSender,{mode:t})},isDisabled:n},r),{},{children:[o?(0,G.jsxs)(Ot.default,{alignItems:"center",space:10,children:[d,(0,G.jsxs)(ce.default,{justifyContent:"center",alignItems:"flex-start",children:[(0,G.jsx)(xe.default,{typography:"Heading",children:a.formatMessage({id:s})}),(0,G.jsx)(xe.default,{typography:"Body1",color:"text-subdued",children:a.formatMessage({id:u})}),(0,G.jsx)(D.default,{children:n?(0,G.jsx)(Hn.default,{mt:1,size:"sm",title:a.formatMessage({id:"content__stay_tuned"}),type:"info"}):null})]})]}):(0,G.jsxs)(ce.default,{children:[d,(0,G.jsx)(xe.default,{typography:"Heading",textAlign:"center",mt:"52px",color:n?"text-subdued":"text-default",children:a.formatMessage({id:s})}),(0,G.jsx)(xe.default,{typography:"Body1",textAlign:"center",color:n?"text-disabled":"text-subdued",children:a.formatMessage({id:u})})]}),n&&!o?(0,G.jsx)(Hn.default,{position:"absolute",bottom:4,size:"sm",title:a.formatMessage({id:"content__stay_tuned"}),type:"info"}):null]}))}function ar(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ar(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lr={},sr=ir({padding:4},lr),ur=ir({width:"200px",height:"380px",justifyContent:"center",alignItems:"center"},lr);function dr(e){var t=e.networkId,n=(0,B.useNetworkSimple)(t),r=(0,p.default)(),o=(0,a.useMemo)((function(){var e,o;return(null!=(e=null==n||null==(o=n.settings)?void 0:o.supportBatchTransfer)?e:[]).map((function(e){var o;return e===Tt.BulkTypeEnum.OneToMany?(0,G.jsx)(or,ir({mode:e,isDisabled:!(null!=n&&null!=(o=n.settings)&&o.nativeSupportBatchTransfer||Fn.batchTransferContractAddress[t])},r?sr:ur)):(0,G.jsx)(or,ir({mode:e},r?sr:ur))})).filter(Boolean)}),[r,null==n?void 0:n.settings.nativeSupportBatchTransfer,null==n?void 0:n.settings.supportBatchTransfer,t]);return r?(0,G.jsx)(ce.default,{space:3,padding:4,children:o}):(0,G.jsx)(T.default,{width:"full",height:"full",children:(0,G.jsx)(Ot.default,{space:6,children:o})})}function cr(e){var t=e.networkId,n=(0,B.useManageNetworks)(void 0).allNetworks,r=(0,B.useNetwork)({networkId:t}).network,o=E.default.serviceNetwork,i=(0,b.default)(),l=n.filter((function(e){return e.enabled&&(null==e?void 0:e.settings.supportBatchTransfer)&&e.settings.supportBatchTransfer.length>0})),s=(0,a.useCallback)((function(e){e.enabled&&o.changeActiveNetwork(e.id)}),[o]);return(0,G.jsx)(T.default,{children:(0,G.jsxs)(D.default,{maxW:"340px",children:[(0,G.jsx)(xe.default,{fontSize:"56px",textAlign:"center",mt:8,children:"\ud83e\udd37\u200d\u2640\ufe0f"}),(0,G.jsx)(xe.default,{typography:"DisplayMedium",mt:3,textAlign:"center",children:i.formatMessage({id:"title__str_network_is_not_supported_yet"},{chain:null==r?void 0:r.name})}),(0,G.jsx)(xe.default,{typography:"Body1",color:"text-subdued",mt:2,textAlign:"center",children:i.formatMessage({id:"content__choose_a_supported_network"})}),(0,G.jsx)(Ot.default,{space:2,mt:6,flexWrap:"wrap",justifyContent:"center",children:l.map((function(e){return(0,G.jsx)(C.Tooltip,{label:null==e?void 0:e.name,placement:"top",children:(0,G.jsx)(Z.default,{onPress:function(){return s(e)},children:(0,G.jsx)(D.default,{mb:3,children:(0,G.jsx)(Rt.default,{position:"relative",mb:3,size:8,token:{logoURI:null==e?void 0:e.logoURI}})})})},e.id)}))})]})})}var fr=n(259825),pr=n(793525);function mr(e){var t=e.option,n=e.isChecked,r=e.onSelected,o=e.isAlreadyUnlimited,a=t.title,i=t.subtitle,l=t.content,s=t.isUnlimited,u=(0,b.default)();return(0,G.jsx)(Z.default,{borderRadius:12,_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed",borderColor:"surface-pressed"},paddingX:3,paddingY:2,marginX:-3,onPress:function(){return r(s)},children:(0,G.jsxs)(Ot.default,{space:4,alignItems:"center",children:[(0,G.jsxs)(D.default,{flex:1,children:[i?(0,G.jsxs)(Ot.default,{space:2,children:[(0,G.jsx)(xe.default,{typography:"Body1Strong",children:a}),(0,G.jsx)(Hn.default,{title:i,size:"sm"}),o&&s&&(0,G.jsx)(Hn.default,{title:u.formatMessage({id:"form__approved"}),size:"sm",color:"text-success",bgColor:"surface-success-default"})]}):(0,G.jsxs)(Ot.default,{space:2,children:[(0,G.jsx)(xe.default,{typography:"Body1Strong",children:a}),o&&s&&(0,G.jsx)(Hn.default,{title:u.formatMessage({id:"form__approved"}),size:"sm",color:"text-success",bgColor:"surface-success-default"})]}),(0,G.jsx)(xe.default,{typography:"Body2",color:"text-subdued",lineHeight:"20px",children:l})]}),(0,G.jsx)(D.default,{opacity:n?1:0,children:(0,G.jsx)(J.default,{name:"CheckMini",color:"icon-success"})})]})})}function hr(e){var t=e.closeOverlay,n=e.isUnlimited,r=e.setIsUnlimited,o=e.isAlreadyUnlimited,i=(0,b.default)(),l=(0,p.default)(),s=(0,a.useState)(n),u=(0,h.default)(s,2),d=u[0],c=u[1],f=[{title:i.formatMessage({id:"form__exact_amount"}),subtitle:i.formatMessage({id:"content__safer"}),content:i.formatMessage({id:"content__approve_the_amount_to_tokens_to_be_sent"}),isUnlimited:!1},{title:i.formatMessage({id:"form__unlimited"}),content:i.formatMessage({id:"content__you_dont_need _to_approve_again_in_the_future"}),isUnlimited:!0}],m=(0,a.useCallback)((function(e){c(e)}),[]);return(0,G.jsx)(fr.default,{closeOverlay:t,showCloseButton:!l,title:i.formatMessage({id:"title__approval"}),children:(0,G.jsxs)(D.default,{pb:l?6:0,children:[f.map((function(e){return(0,G.jsx)(mr,{isChecked:d===e.isUnlimited,option:e,onSelected:m,isAlreadyUnlimited:o},e.title)})),(0,G.jsx)(K.default,{type:"primary",size:"xl",mt:6,onPress:function(){r(d),t()},children:i.formatMessage({id:"action__done"})})]})})}var xr=function(e){var t=e.isUnlimited,n=e.setIsUnlimited,r=e.isAlreadyUnlimited;(0,pr.showOverlay)((function(e){return(0,G.jsx)(hr,{isUnlimited:t,setIsUnlimited:n,isAlreadyUnlimited:r,closeOverlay:e})}))};function gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function br(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vr=Tt.BulkTypeEnum.OneToMany;function yr(e){var t,n,r,o,i,l,s,u,d=e.accountId,c=e.networkId,m=e.accountAddress,g=(0,a.useState)(null),y=(0,h.default)(g,2),j=y[0],w=y[1],k=(0,a.useState)([]),_=(0,h.default)(k,2),O=_[0],I=_[1],S=(0,a.useState)([]),T=(0,h.default)(S,2),C=T[0],M=T[1],P=(0,a.useState)(!1),A=(0,h.default)(P,2),R=A[0],N=A[1],L=(0,a.useState)(!1),W=(0,h.default)(L,2),F=W[0],H=W[1],z=(0,a.useState)(!1),U=(0,h.default)(z,2),V=U[0],$=U[1],q=(0,a.useState)(!1),X=(0,h.default)(q,2),Y=X[0],Q=X[1],Z=(0,a.useState)(!1),J=(0,h.default)(Z,2),ee=J[0],te=J[1],ne=(0,a.useState)(null!=(t=qt.amountDefaultTypeMap[vr])?t:$t.AmountTypeEnum.Fixed),re=(0,h.default)(ne,2),oe=re[0],ae=re[1],ie=(0,a.useState)(["0"]),le=(0,h.default)(ie,2),se=le[0],ue=le[1],de=(0,b.default)(),ce=(0,p.default)(),fe=(0,v.useNavigation)(),pe=(0,B.useNetwork)({networkId:c}).network,me=(0,B.useAccountTokensOnChain)(c,d).filter((function(e){return(null==pe?void 0:pe.impl)===Et.IMPL_TRON?!new(Dt())(e.tokenIdOnNetwork).isInteger():!(0,Et.isBTCNetwork)(null==pe?void 0:pe.id)||e.isNative})),he=E.default.serviceBatchTransfer,ge=E.default.serviceToken,be=E.default.serviceOverview,ve=null!=(n=me.find((function(e){return e.isNative})))?n:me[0],ye=j||ve,je=null==ye?void 0:ye.isNative,we=(0,B.useTokenBalanceWithoutFrozen)({accountId:d,networkId:c,token:ye,fallback:"0",useRecycleBalance:null==ye?void 0:ye.isNative}),ke=Zt({networkId:c,trader:O,token:ye,shouldValidateAmount:oe===$t.AmountTypeEnum.Custom}),_e=ke.isValid,Oe=ke.isValidating,Ie=ke.errors,Se=(0,a.useCallback)((function(e){w(e)}),[]),Te=(0,a.useCallback)((function(e){var t=e.amount,n=e.amountType,r=[];r=n===$t.AmountTypeEnum.Custom?O.map((function(e){var n;return br(br({},e),{},{Amount:null!=(n=t[0])?n:"0"})})):O.map((function(e){return br({},e)})),ue(t),ae(n),M(r)}),[O]),Ce=(0,a.useCallback)((function(){fe.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.BulkSender,params:{screen:$t.BulkSenderRoutes.TokenSelector,params:{accountId:d,networkId:c,tokens:me,onTokenSelected:Se}}})}),[d,Se,fe,c,me]),Me=(0,a.useCallback)((function(){xr({isUnlimited:V,setIsUnlimited:$,isAlreadyUnlimited:Y})}),[V,Y]),Pe=(0,a.useCallback)((function(e,t){return!e.reduce((function(e,t){return e.plus(t.amount)}),new(Dt())(0)).gt(we)||(dt.default.show({title:de.formatMessage({id:"form__amount_invalid"},{0:null==t?void 0:t.symbol})},{type:"error"}),!1)}),[we,de]),Ae=(0,a.useCallback)((0,Pt.default)((function*(){try{var e,t;if(0===O.length||Oe||F||!_e)return;var n,r=[];H(!0);for(var o=j||ve,a=0;a<O.length;a+=1){var i;r.push({from:m,to:O[a].address,amount:null!=(i=O[a].amount)?i:se[0],token:null==o?void 0:o.tokenIdOnNetwork,tokenSendAddress:null==o?void 0:o.sendAddress})}if(!Pe(r,o))return void H(!1);var l=yield he.buildEncodedTxsFromBatchApprove({networkId:c,accountId:d,transferInfos:r,isUnlimited:V}),s=l[l.length-1];s&&(n=void 0!==(n=s.nonce)?new(Dt())(n).toNumber():n);var u=(null==pe||null==(e=pe.settings)?void 0:e.maxActionsInTx)||0,p=[];if(u>0&&(null==pe||null==(t=pe.settings)||!t.hardwareMaxActionsEnabled||d.startsWith("hw-")))for(var h=0,g=r.length;h<g;h+=u)p.push(r.slice(h,h+u));else p.push(r);for(var b=[],v=0,y=p.length;v<y;v+=1){var w=yield he.buildEncodedTxFromBatchTransfer({networkId:c,accountId:d,transferInfos:p[v],prevNonce:n});n=void 0!==(n=w.nonce)?new(Dt())(n).toNumber():n,b.push(w)}H(!1),fe.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Send,params:{screen:f.SendModalRoutes.BatchSendConfirm,params:{networkId:c,accountId:d,feeInfoUseFeeInTx:!1,feeInfoEditable:!0,encodedTxs:[].concat((0,x.default)(l),b),transferCount:r.length,bulkType:vr,payloadInfo:{type:"Transfer",transferInfos:r}}}})}catch(k){H(!1),dt.default.show({title:"string"===typeof k?k:k.message},{type:"error"})}})),[m,d,se,ve,F,V,_e,Oe,fe,null==pe||null==(r=pe.settings)?void 0:r.hardwareMaxActionsEnabled,null==pe||null==(o=pe.settings)?void 0:o.maxActionsInTx,c,O,j,he,Pe]);return(0,v.useFocusEffect)((0,a.useCallback)((function(){return d&&c&&(be.startQueryPendingTasks(),ge.fetchAccountTokens({accountId:d,networkId:c})),function(){be.stopQueryPendingTasks()}}),[d,c,be,ge])),(0,a.useEffect)((function(){var e=function(){var e=(0,Pt.default)((function*(){var e=Fn.batchTransferContractAddress[c];if(!je&&null!=pe&&pe.settings.batchTransferApprovalRequired&&null!=ye&&ye.tokenIdOnNetwork&&e)try{te(!0);var t=(yield he.checkIsUnlimitedAllowance({networkId:c,owner:m,spender:e,token:null==ye?void 0:ye.tokenIdOnNetwork})).isUnlimited;$(t),Q(t),te(!1)}catch(n){te(!1)}}));return function(){return e.apply(this,arguments)}}();e()}),[m,null==ye?void 0:ye.tokenIdOnNetwork,je,null==pe?void 0:pe.settings.batchTransferApprovalRequired,c,he]),(0,a.useEffect)((function(){d&&c&&w(null)}),[d,c]),(0,a.useEffect)((function(){var e;pe&&!(null!=pe&&null!=(e=pe.settings)&&e.nativeSupportBatchTransfer||Fn.batchTransferContractAddress[c])&&fe.replace(f.RootRoutes.Main,{screen:f.MainRoutes.Tab,params:{screen:f.TabRoutes.Home,params:{screen:f.HomeRoutes.BulkSender}}})}),[fe,pe,null==pe||null==(i=pe.settings)?void 0:i.nativeSupportBatchTransfer,c]),(0,G.jsxs)(D.default,{children:[(0,G.jsxs)(In,{children:[(0,G.jsx)(Vt,{header:de.formatMessage({id:"form__token"}),title:null!=(l=null==ye?void 0:ye.symbol)?l:"",desc:de.formatMessage({id:"content__balance_str"},{0:we}),icon:(0,G.jsx)(Rt.TokenIcon,{size:10,token:ye}),onPress:Ce}),(0,G.jsx)(Gt,{accountAddress:m,token:ye,handleOnAmountChanged:Te,transferCount:O.length,amount:se,amountType:oe,bulkType:vr,networkId:null!=(s=null==pe?void 0:pe.id)?s:""}),!je&&(null==pe?void 0:pe.settings.batchTransferApprovalRequired)&&(0,G.jsx)(Vt,{isLoading:ee,header:de.formatMessage({id:"form__allowance"}),title:de.formatMessage({id:V?"form__unlimited":"form__exact_amount"}),desc:Y&&V?(0,G.jsx)(xe.default,{typography:"Body2",color:"text-success",children:de.formatMessage({id:"form__approved"})}):de.formatMessage({id:"form__going_to_approve"}),onPress:Me})]}),(0,G.jsx)(D.default,{mt:8,children:(0,G.jsx)(wn,{header:de.formatMessage({id:"form__receipient"}),withAmount:!0,accountId:d,networkId:c,token:ye,amount:se,amountType:oe,trader:O,setTrader:I,traderFromOut:C,setTraderFromOut:M,traderErrors:Ie,isUploadMode:R,setIsUploadMode:N,traderType:$t.TraderTypeEnum.Receiver})}),(0,G.jsx)(xe.default,{fontSize:12,color:"text-subdued",mt:ce?4:3,children:oe===$t.AmountTypeEnum.Custom?`${de.formatMessage({id:"content__each_line_should_include_the_address_and_amount"})} ${m}, 0.1`:`${de.formatMessage({id:"content__each_line_should_include_the_address"})} ${m}`}),(0,G.jsxs)(D.default,{display:R?"none":"flex",children:[null!=pe&&null!=(u=pe.settings)&&u.nativeSupportBatchTransfer?null:(0,G.jsx)(xe.default,{fontSize:12,color:"text-subdued",mt:ce?4:3,children:de.formatMessage({id:"content__note_that_exchanges_may_not_accept_contract_transfers"})}),(0,G.jsx)(D.default,{mt:4,children:(0,G.jsx)(K.default,{isLoading:Oe||F,isDisabled:Oe||!_e||0===O.length||F||ee,type:"primary",size:"xl",maxW:ce?"full":"280px",onPress:Ae,children:de.formatMessage({id:"action__preview"})})}),(0,G.jsx)(D.default,{mt:4,children:(0,G.jsx)(sn,{})})]})]})}const jr=function(){var e,t,n=(0,b.default)(),r=(0,v.useNavigation)(),o=(0,p.default)(),i=(0,v.useRoute)().params,l=null==i?void 0:i.mode,s=(0,B.useActiveWalletAccount)(),u=s.accountId,d=s.networkId,c=s.network,m=s.accountAddress,x=s.walletId,g=l,y=!!(null!=c&&c.enabled&&null!=(e=c.settings)&&e.supportBatchTransfer&&c.settings.supportBatchTransfer.length>0);if(null!=c&&c.enabled&&null!=(t=c.settings)&&t.supportBatchTransfer&&1===c.settings.supportBatchTransfer.length){var j=(0,h.default)(c.settings.supportBatchTransfer,1);g=j[0]}var w=(0,a.useCallback)((function(){return g===Tt.BulkTypeEnum.OneToMany?(0,G.jsx)(yr,{accountId:u,networkId:d,accountAddress:m}):g===Tt.BulkTypeEnum.ManyToOne?(0,G.jsx)(Wn,{accountId:u,networkId:d,walletId:x,accountAddress:m,bulkType:Tt.BulkTypeEnum.ManyToOne}):g===Tt.BulkTypeEnum.ManyToMany?(0,G.jsx)(Wn,{accountId:u,networkId:d,walletId:x,accountAddress:m,bulkType:Tt.BulkTypeEnum.ManyToMany}):void 0}),[m,u,d,g,x]),k=(0,a.useMemo)((function(){var e;return l===Tt.BulkTypeEnum.OneToMany?e="form__one_to_many":l===Tt.BulkTypeEnum.ManyToOne?e="form__many_to_one":l===Tt.BulkTypeEnum.ManyToMany&&(e="form__many_to_many"),e?`${n.formatMessage({id:"title__bulksender"})} - ${n.formatMessage({id:e})}`:n.formatMessage({id:"title__bulksender"})}),[n,l]),_=(0,a.useCallback)((function(){return(0,G.jsxs)(Ot.default,{alignItems:"center",children:[(0,G.jsx)(D.default,{ml:"-6px",mr:"8px",children:(0,G.jsx)(It.default,{type:"plain",size:"lg",name:o?"ArrowLeftOutline":"ArrowSmallLeftOutline",onPress:function(){l?r.navigate(f.HomeRoutes.BulkSender):null!=r&&r.canGoBack()?null==r||r.goBack():Mt.navigationShortcuts.navigateToHome()},circle:!0})}),!o&&(0,G.jsx)(xe.default,{typography:"Heading",color:"text-default",children:k})]})}),[o,l,r,k]),O=(0,a.useCallback)((function(){return(0,G.jsx)(D.default,{pr:"6",children:(0,G.jsx)(Ct.NetworkAccountSelectorTrigger,{type:o?"basic":"plain"})})}),[o]);return(0,a.useLayoutEffect)((function(){r.setOptions({headerShown:!0,title:o?k:void 0,header:function(){return(0,G.jsx)(St.default,{headerRight:O,headerLeft:_})}})}),[_,O,n,o,r,k]),y?g?(0,G.jsx)(T.default,{width:"full",height:"full",children:(0,G.jsx)(ht,{children:(0,G.jsx)(de.ScrollView,{style:{width:"100%"},contentContainerStyle:{justifyContent:"center",alignItems:"center"},children:(0,G.jsx)(D.default,{width:o?"full":"768px",paddingY:5,paddingX:o?4:0,children:w()})})})}):(0,G.jsx)(dr,{networkId:d}):(0,G.jsx)(cr,{networkId:d})};var wr=n(170613);const kr=function(){var e=(0,ue.useSafeAreaInsets)().bottom,t=(0,B.useActiveWalletAccount)(),n=t.accountId,r=t.networkId,o=t.walletId;return(0,G.jsx)(wr.FullTokenAssetsList,{walletId:o,accountId:n,networkId:r,flatStyle:!0,showTokenBalanceDetail:!0,ListFooterComponent:(0,G.jsx)(D.default,{h:`${48+e}px`})})};var _r=n(232215),Or=n(146144),Ir=(0,a.createContext)(null);function Sr(){return(0,a.useContext)(Ir)}var Tr=n(529710),Cr=n(528755),Mr=n(156236),Pr=n(972584),Ar=n(461576),Dr=n(431440),Rr=["asset","cardWidth","margin","marginBottom"];function Er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Br(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nr(e){switch(e){case 3:return 45;case 4:default:return 48;case 5:return 50}}var Lr=function(e){var t=e.numColumns,n=e.margin,r=e.cardWidth,o=e.marginBottom,a=new Array(2).fill(0),i=new Array(t).fill(0),l=(0,p.default)();return(0,G.jsx)(ce.default,{width:"full",space:`${o}px`,children:a.map((function(e,t){return(0,G.jsx)(Ot.default,{width:"full",space:`${n}px`,children:i.map((function(e,n){return(0,G.jsxs)(D.default,{flexDirection:"column",children:[(0,G.jsx)(Tr.default,{width:r,height:r,borderRadius:"12px"}),(0,G.jsx)(D.default,{mt:"8px",children:(0,G.jsx)(Q.default,{shape:l?"Body2":"Body1"})})]},`row${n}${t}`)}))},`col${t}`)}))})},Wr=function(e){var t=e.asset,n=e.cardWidth,r=(e.margin,e.marginBottom,(0,m.default)(e,Rr)),o="";o=t.name&&t.name.length>0?t.name:`#${t.tokenId}`;var a="";t.latestTradePrice&&"number"===typeof t.latestTradePrice&&(a=`${t.latestTradePrice} ${t.latestTradeSymbol}`);var i=r.onPress,l=(0,p.default)();return(0,G.jsxs)(Cr.default,{style:{marginHorizontal:l?4:12,width:n},onPress:i,children:[(0,G.jsx)(Dr.default,{asset:t,borderRadius:"12px",size:n}),(0,G.jsxs)(D.default,{mt:"8px",alignSelf:"stretch",children:[(0,G.jsx)(xe.default,{typography:{sm:"Body2Strong",md:"Body1Strong"},isTruncated:!0,children:o}),a?(0,G.jsx)(xe.default,{typography:"Body2",mt:"4px",color:"text-subdued",numberOfLines:1,children:a}):null]})]})};const Fr=function(e){var t,n,r=e.contractAddress,o=e.networkId,i=e.ListHeaderComponent,l=(0,p.default)(),s=(0,ge.default)().screenWidth,u=(0,Ar.useIsMounted)(),d=(0,v.useNavigation)(),c=null==(t=Sr())?void 0:t.context,m=null==(n=Sr())?void 0:n.setContext,h=(0,a.useRef)(),x=(0,a.useRef)(),g=E.default.serviceNFT,b=l?16:32,y=l?16:24,j=l?8:24,w=l?s-32:Math.min(992,s-224-2*b),k=(0,Pr.useGridListLayout)({maxCardWidth:145,numColumns:3,margin:j,pageWidth:w}),_=k.cardWidth,O=k.numColumns,I=(0,a.useCallback)(function(){var e=(0,Pt.default)((function*(e){var t=yield g.getCollectionAssets(e);null!=t&&t.content&&(h.current=t.next,m&&m((function(e){return null!=c&&c.refreshing?Br(Br({},e),{},{assetList:t.content}):Br(Br({},e),{},{assetList:e.assetList.concat(null==t?void 0:t.content)})})))}));return function(t){return e.apply(this,arguments)}}(),[null==c?void 0:c.refreshing,g,m]);(0,a.useEffect)((function(){0===(null==c?void 0:c.selectedIndex)&&u&&0===(null==c?void 0:c.attributes.length)&&(null!=c&&c.refreshing&&(h.current=void 0),null!==h.current&&I({chain:o,contractAddress:r,cursor:h.current,limit:Nr(O)}).then((function(){m&&m((function(e){return Br(Br({},e),{},{refreshing:!1})}))})))}),[null==c?void 0:c.attributes.length,null==c?void 0:c.refreshing,null==c?void 0:c.selectedIndex,r,I,u,o,O,m]);var S=(0,a.useCallback)(function(){var e=(0,Pt.default)((function*(e){var t=yield g.getAssetsWithAttributes(e);null!=t&&t.content&&(x.current=t.next,m&&m((function(e){return null!=c&&c.refreshing?Br(Br({},e),{},{filterAssetList:t.content}):Br(Br({},e),{},{filterAssetList:e.filterAssetList.concat(null==t?void 0:t.content)})})))}));return function(t){return e.apply(this,arguments)}}(),[null==c?void 0:c.refreshing,g,m]);(0,a.useEffect)((function(){0===(null==c?void 0:c.selectedIndex)&&u&&(null==c?void 0:c.attributes.length)>0&&(null!=c&&c.refreshing&&(x.current=void 0,m&&m((function(e){return Br(Br({},e),{},{filterAssetList:[]})}))),null!==x.current&&S({chain:o,attributes:c.attributes,contractAddress:r,cursor:x.current,limit:Nr(O)}).then((function(){m&&m((function(e){return Br(Br({},e),{},{refreshing:!1})}))})))}),[null==c?void 0:c.attributes,null==c?void 0:c.refreshing,null==c?void 0:c.selectedIndex,r,S,u,o,O,m]);var T=(0,a.useCallback)((function(e){o&&d.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Collectibles,params:{screen:f.CollectiblesModalRoutes.NFTDetailModal,params:{asset:e,networkId:o,isOwner:!1}}})}),[d,o]),C=(0,a.useCallback)((function(e){var t=e.item;return(0,G.jsx)(Wr,{onPress:function(){T(t)},asset:t,cardWidth:_})}),[_,T]),M=(0,a.useMemo)((function(){return(0,G.jsx)(Lr,{numColumns:O,cardWidth:_,margin:j,marginBottom:y})}),[_,j,y,O]),P=(0,a.useMemo)((function(){var e;return c?(null==c||null==(e=c.attributes)?void 0:e.length)>0?null==c?void 0:c.filterAssetList:null==c?void 0:c.assetList:[]}),[c]),A=(0,a.useCallback)((function(){c&&(0===(null==c?void 0:c.attributes.length)&&null!==h.current&&I({chain:o,contractAddress:r,cursor:h.current,limit:Nr(O)}),(null==c?void 0:c.attributes.length)>0&&null!==x.current&&S({chain:o,attributes:c.attributes,contractAddress:r,cursor:x.current,limit:Nr(O)}))}),[c,r,I,S,o,O]),R=(0,a.useCallback)((function(){return c&&(null!==h.current&&0===(null==c?void 0:c.attributes.length)||null!==x.current&&(null==c?void 0:c.attributes.length)>0)?M:(0,G.jsx)(D.default,{})}),[M,c]);return(0,G.jsx)(Mr.Tabs.FlatList,{numColumns:O,ListHeaderComponent:i,style:{padding:b},contentContainerStyle:{width:"100%",maxWidth:992,alignSelf:"center"},columnWrapperStyle:{marginHorizontal:l?-4:-12,paddingBottom:l?16:24},ListFooterComponent:R,data:P,renderItem:C,keyExtractor:function(e){return`${e.tokenId}`},onEndReached:A},O)};var Hr=n(333665),zr=n(79996),Ur=n(950123);function Vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Gr=function(e){var t,n,r,o,i=Object.assign({},((0,Hr.default)(e),e)),l=null==(t=Sr())?void 0:t.context,s=null==l?void 0:l.collection,u=null!=(n=null!=(r=null==s?void 0:s.contractName)?r:null==s?void 0:s.name)?n:"",d=(0,b.default)(),c=(0,p.default)(),f=(0,B.useNavigation)();(0,a.useEffect)((function(){c||f.setOptions({title:u})}),[c,u,f]);var m=(0,a.useMemo)((function(){var e;return[c?null:{key:d.formatMessage({id:"content__items"}),value:null==s?void 0:s.itemsTotal},{key:d.formatMessage({id:"content__owners"}),value:null==s?void 0:s.ownersTotal},{key:d.formatMessage({id:"content__floor"}),value:(0,Ur.PriceString)({price:null==s?void 0:s.floorPrice,symbol:null==s?void 0:s.priceSymbol,networkId:null==l?void 0:l.networkId})},{key:d.formatMessage({id:"content__blue_chip_rates"}),value:null==s||null==(e=s.blueChip)?void 0:e.next_blue_chip_probability},{key:d.formatMessage({id:"content__int_hours_volume"},{0:24}),value:(0,Ur.PriceString)({price:null==s?void 0:s.volume24h,symbol:null==s?void 0:s.priceSymbol,networkId:null==l?void 0:l.networkId})}]}),[null==s||null==(o=s.blueChip)?void 0:o.next_blue_chip_probability,null==s?void 0:s.floorPrice,null==s?void 0:s.itemsTotal,null==s?void 0:s.ownersTotal,null==s?void 0:s.priceSymbol,null==s?void 0:s.volume24h,null==l?void 0:l.networkId,d,c]),h=(0,G.jsx)(xe.default,{typography:"Body2",color:"text-subdued",numberOfLines:2,children:(null==s?void 0:s.description)||d.formatMessage({id:"content__no_description"})});return(0,G.jsxs)(D.default,$r($r({},i),{},{children:[(0,G.jsxs)(D.default,{flexDirection:"row",children:[(0,G.jsx)(zr.default,{src:null==s?void 0:s.logoUrl,width:"64px",height:"64px",verified:null==s?void 0:s.openseaVerified}),(0,G.jsxs)(D.default,{ml:{base:"16px",md:"24px"},maxW:"576px",flex:1,children:[(0,G.jsx)(xe.default,{typography:"PageHeading",mb:"4px",numberOfLines:1,children:u||"\u2013"}),(0,G.jsx)(D.default,{mt:"4px",children:c?(0,G.jsx)(xe.default,{typography:"Body2",color:"text-subdued",children:d.formatMessage({id:"content__int_items"},{0:null==s?void 0:s.itemsTotal})}):h})]})]}),c?(0,G.jsx)(D.default,{mt:"16px",children:h}):null,(0,G.jsx)(D.default,{flexDirection:"row",mt:"24px",flexWrap:"wrap",mb:{base:"-16px",md:0},children:m.map((function(e){return e?(0,G.jsxs)(D.default,{mr:{md:"32px"},mb:{base:"16px",md:0},width:{base:"50%",sm:"33.33%",md:"auto"},children:[(0,G.jsx)(xe.default,{typography:"Body2",color:"text-subdued",children:e.key}),(0,G.jsx)(xe.default,{typography:"Body1Strong",mt:"4px",children:e.value||"-"})]}):null}))})]}))};var qr=n(25655),Xr=n(107867),Yr=n(395795),Qr=n(747225),Kr=n(74008);function Zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zr(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var eo=function(){return(0,G.jsx)(G.Fragment,{children:[1,2,3,4,5].map((function(){return(0,G.jsxs)(Xr.default,{px:0,children:[(0,G.jsx)(Xr.default.Column,{children:(0,G.jsx)(Tr.default,{width:"40px",height:"40px",borderRadius:"12px"})}),(0,G.jsx)(Xr.default.Column,{flex:1,text:{label:(0,G.jsx)(Q.default,{shape:"Body1"}),description:(0,G.jsx)(Q.default,{shape:"Body2"})}}),(0,G.jsx)(Xr.default.Column,{text:{label:(0,G.jsx)(Q.default,{shape:"Body1"})}})]})}))})},to=function(){var e=(0,b.default)();return(0,p.default)()?null:(0,G.jsxs)(Xr.default,{width:"full",px:0,children:[(0,G.jsx)(Xr.default.Column,{flex:2.7,text:{label:e.formatMessage({id:"title__nft"}),labelProps:{typography:"Subheading",color:"text-subdued"}}}),(0,G.jsx)(Xr.default.Column,{flex:1,text:{label:"FROM",labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"left"}}}),(0,G.jsx)(D.default,{size:"20px"}),(0,G.jsx)(Xr.default.Column,{flex:1,text:{label:"TO",labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"left"}}}),(0,G.jsx)(Xr.default.Column,{flex:1,text:{label:e.formatMessage({id:"content__price"}),labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}})]})},no=function(e){var t,n,r,o,a,i,l,s=e.item,u=(0,Kr.default)().formatDistanceToNow,d=`# ${null!=(t=null==(n=s.asset)?void 0:n.tokenId)?t:""}`;null!=(r=s.asset)&&r.name&&(null==(o=s.asset)?void 0:o.name.length)>0&&(d=null==(l=s.asset)?void 0:l.name);return(0,G.jsxs)(Xr.default,{width:"full",px:0,children:[s.asset&&(0,G.jsx)(Dr.default,{asset:s.asset,borderRadius:"6px",size:40}),(0,G.jsx)(Xr.default.Column,{flex:1,text:{label:d,labelProps:{typography:"Body1Strong",numberOfLines:1},description:s.timestamp?u(s.timestamp):"",descriptionProps:{numberOfLines:1,typography:"Body2",color:"text-subdued"}}}),(0,G.jsx)(Xr.default.Column,{text:{label:`${null!=(a=s.tradePrice)?a:0} ${null!=(i=s.tradeSymbol)?i:""}`,labelProps:{typography:"Body1Strong",textAlign:"right",mb:"24px"}}})]})},ro=function(e){var t,n,r,o,a,i,l,s=e.network,u=e.item,d=`# ${null!=(t=null==(n=u.asset)?void 0:n.tokenId)?t:""}`;null!=(r=u.asset)&&r.name&&(null==(o=u.asset)?void 0:o.name.length)>0&&(d=null==(l=u.asset)?void 0:l.name);var c=(0,Kr.default)().formatDistanceToNow,f=(0,Yr.default)(s).openAddressDetails;return(0,G.jsxs)(Xr.default,{width:"full",px:0,children:[(0,G.jsxs)(Ot.default,{flex:2.7,space:"12px",alignItems:"center",children:[u.asset&&(0,G.jsx)(Dr.default,{asset:u.asset,borderRadius:"6px",size:40}),(0,G.jsx)(Xr.default.Column,{flex:1,text:{label:d,labelProps:{typography:"Body1Strong",numberOfLines:1},description:u.timestamp?c(u.timestamp):"",descriptionProps:{numberOfLines:1,typography:"Body2",color:"text-subdued"}}})]}),(0,G.jsx)(Xr.default.Column,{flex:1,text:{label:(0,G.jsx)(Z.default,{onPress:function(){f(u.send)},flex:1,justifyContent:"center",children:(0,G.jsx)(xe.default,{numberOfLines:1,typography:"Body1Underline",children:u.send})})}}),(0,G.jsx)(J.default,{name:"ChevronDoubleRightMini",size:20}),(0,G.jsx)(Xr.default.Column,{flex:1,text:{label:(0,G.jsx)(Z.default,{onPress:function(){f(u.receive)},flex:1,justifyContent:"center",children:(0,G.jsx)(xe.default,{numberOfLines:1,typography:"Body1Underline",children:u.receive})})}}),(0,G.jsx)(Xr.default.Column,{flex:1,text:{label:`${null!=(a=u.tradePrice)?a:0} ${null!=(i=u.tradeSymbol)?i:""}`,labelProps:{typography:"Body1Strong",textAlign:"right"}}})]})};const oo=function(e){var t,n,r=e.contractAddress,o=e.networkId,i=e.ListHeaderComponent,l=(0,p.default)(),s=null==(t=Sr())?void 0:t.context,u=null==(n=Sr())?void 0:n.setContext,d=(0,a.useRef)(),c=E.default.serviceNFT,f=(0,Ar.useIsMounted)(),m=(0,a.useCallback)(function(){var e=(0,Pt.default)((function*(e){var t=yield c.getCollectionTransactions(e);null!=t&&t.content&&(d.current=t.next,u&&u((function(e){return null!=s&&s.refreshing?Jr(Jr({},e),{},{txList:t.content}):Jr(Jr({},e),{},{txList:e.txList.concat(null==t?void 0:t.content)})})))}));return function(t){return e.apply(this,arguments)}}(),[null==s?void 0:s.refreshing,c,u]);(0,a.useEffect)((function(){1===(null==s?void 0:s.selectedIndex)&&f&&(null!=s&&s.refreshing&&(d.current=void 0),null!==d.current&&m({chain:o,contractAddress:r,cursor:d.current,eventTypes:"sale",showAsset:!0}).then((function(){u&&u((function(e){return Jr(Jr({},e),{},{refreshing:!1})}))})))}),[null==s?void 0:s.refreshing,null==s?void 0:s.selectedIndex,r,m,f,o,u]);var h=(0,Qr.useNetworks)(),x=(0,a.useMemo)((function(){return h.find((function(e){return e.id===o}))}),[o,h]),g=(0,a.useCallback)((function(e){var t=e.item;return l?(0,G.jsx)(no,{item:t}):(0,G.jsx)(ro,{item:t,network:x})}),[x,l]),b=(0,a.useCallback)((function(){return null!==d.current?(0,G.jsx)(eo,{}):(0,G.jsx)(D.default,{})}),[]);return(0,G.jsx)(qr.default,{ListHeaderComponent:null!=i?i:to,data:null==s?void 0:s.txList,renderItem:g,ListFooterComponent:b,style:{padding:l?16:32},contentContainerStyle:{width:"100%",maxWidth:992,alignSelf:"center"},onEndReached:function(){null!==d.current&&m({chain:o,contractAddress:r,cursor:d.current,eventTypes:"sale",showAsset:!0})}})};var ao;!function(e){e.Items="items",e.Sales="sales"}(ao||(ao={}));var io=["items","itemWidth","selectedIndex","onChange"];function lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function so(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lo(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var uo=(0,a.memo)(Gr),co=function(e){var t=e.items,n=e.itemWidth,r=e.selectedIndex,o=e.onChange,a=(0,m.default)(e,io);return(0,G.jsxs)(D.default,so(so({},a),{},{w:"100%",mt:{base:"24px",md:"32px"},children:[(0,G.jsx)(D.default,{h:"1px",position:"absolute",left:0,bottom:0,right:0,bgColor:"divider"}),(0,G.jsx)(Ot.default,{space:"32px",children:t.map((function(e,t){var a=t===r;return(0,G.jsx)(Z.default,{alignItems:"center",pt:"16px",pb:"14px",borderBottomWidth:2,borderBottomColor:a?"interactive-default":"transparent",width:n,onPress:function(){o(t)},children:function(t){var n=t.isHovered,r=t.isPressed;return(0,G.jsx)(xe.default,{typography:"Body2Strong",textAlign:"center",color:a||n||r?"text-default":"text-subdued",children:e.title})}},`${e.label}${t}`)}))})]}))},fo=function(){var e,t,n=(0,b.default)(),r=(0,p.default)(),o=null==(e=Sr())?void 0:e.context,a=null==(t=Sr())?void 0:t.setContext;return(0,G.jsxs)(D.default,{flexDirection:"column",alignItems:"flex-start",children:[(0,G.jsx)(uo,{},"MemoCollectionInfo"),(0,G.jsx)(co,{mb:r?"24px":"32px",selectedIndex:null==o?void 0:o.selectedIndex,onChange:function(e){a&&a((function(t){return so(so({},t),{},{selectedIndex:e})}))},items:[{title:n.formatMessage({id:"content__items"}),label:ao.Items},{title:n.formatMessage({id:"content__sales"}),label:ao.Sales}]})]})},po=function(){var e,t,n=(0,b.default)(),r=null==(e=Sr())?void 0:e.context,o=null==(t=Sr())?void 0:t.setContext;return(0,G.jsxs)(D.default,{flexDirection:"column",alignItems:"flex-start",children:[(0,G.jsx)(uo,{},"MemoCollectionInfo"),(0,G.jsx)(co,{mb:{md:"8px"},selectedIndex:null==r?void 0:r.selectedIndex,onChange:function(e){o&&o((function(t){return so(so({},t),{},{selectedIndex:e})}))},items:[{title:n.formatMessage({id:"content__items"}),label:ao.Items},{title:n.formatMessage({id:"content__sales"}),label:ao.Sales}]}),(0,G.jsx)(to,{})]})},mo=function(){return(0,G.jsx)(fo,{})},ho=function(){return(0,G.jsx)(po,{})};const xo=function(){var e,t=(0,v.useRoute)().params,n=t.networkId,r=t.contractAddress,o=null==(e=Sr())?void 0:e.context;return(0,G.jsx)(G.Fragment,{children:0===(null==o?void 0:o.selectedIndex)?(0,G.jsx)(Fr,{contractAddress:r,networkId:n,ListHeaderComponent:mo}):(0,G.jsx)(oo,{contractAddress:r,networkId:n,ListHeaderComponent:ho})})};function go(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?go(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):go(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vo=function(e){var t=e.onPromise,n=e.isDisabled,r=(0,b.default)();return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(_r.Hidden,{from:"md",children:(0,G.jsx)(It.default,{isDisabled:n,name:"BarsShrinkOutline",size:"lg",type:"plain",circle:!0,onPromise:t})}),(0,G.jsx)(_r.Hidden,{till:"md",children:(0,G.jsx)(K.default,{isDisabled:n,leftIconName:"BarsShrinkMini",onPromise:t,children:r.formatMessage({id:"title__filter"})})})]})};const yo=function(){var e=(0,v.useRoute)().params,t=e.networkId,n=e.collection,r=e.contractAddress,o=e.title,i=(0,a.useState)({selectedIndex:0,collection:n,assetList:[],filterAssetList:[],attributes:[],txList:[],networkId:t}),l=(0,h.default)(i,2),s=l[0],u=l[1],d=(0,v.useNavigation)(),c=E.default.serviceNFT;(0,a.useLayoutEffect)((function(){d.setOptions({title:""})}),[null==n?void 0:n.contractName,null==n?void 0:n.name,d,o]);var p=(0,a.useMemo)((function(){return!!s.attributes.find((function(e){return e.attribute_values.length>0}))}),[s.attributes]),m=s.collection,x=(0,a.useCallback)((function(){if(m)return(0,G.jsxs)(D.default,{mr:{base:2.5,md:8},children:[(0,G.jsx)(vo,{isDisabled:!m.hasAttributes,onPromise:(0,Pt.default)((function*(){if("undefined"===typeof m.attributes||0===m.attributes.length){var e=yield c.getCollectionAttributes({chain:t,contractAddress:r});m.attributes=e}d.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.NFTMarket,params:{screen:Or.NFTMarketRoutes.FilterModal,params:{collection:m,attributes:s.attributes,onAttributeSelected:function(e){u((function(t){return bo(bo({},t),{},{refreshing:!0,attributes:e})}))}}}})}))}),p&&(0,G.jsx)(D.default,{top:{base:1,md:-1.5},right:{base:1,md:-1.5},position:"absolute",size:"12px",bgColor:"interactive-default",borderRadius:"full",borderWidth:"2px",borderColor:"background-default"})]})}),[s.attributes,r,m,p,d,t,c]);(0,a.useEffect)((function(){m&&d.setOptions({headerRight:x})}),[m,x,d]),(0,a.useEffect)((function(){(0,Pt.default)((function*(){var e=yield c.getCollection({chain:t,contractAddress:r,showStatistics:!0});e&&u((function(t){return bo(bo({},t),{},{collection:e})}))}))()}),[r,t,c]);var g=(0,a.useMemo)((function(){return{context:s,setContext:u}}),[s]);return(0,G.jsx)(Ir.Provider,{value:g,children:(0,G.jsx)(xo,{})})};var jo=n(592923),wo=n(626015),ko=n(119804),_o=n(707406),Oo=n(752425),Io=n(482212),So=n(942013);function To(e){var t=e.keyword,n=e.onAddressSearch,r=(0,B.useDebounce)(t,500).toLowerCase(),o=(0,a.useState)(!1),i=(0,h.default)(o,2),l=i[0],s=i[1],u=(0,a.useState)(""),d=(0,h.default)(u,2),c=d[0],f=d[1],p=(0,a.useState)(""),m=(0,h.default)(p,2),x=m[0],g=m[1],b=(0,a.useCallback)(function(){var e=(0,Pt.default)((function*(e){return E.default.serviceRevoke.lookupEnsName(e)}));return function(t){return e.apply(this,arguments)}}(),[]),v=(0,a.useCallback)(function(){var e=(0,Pt.default)((function*(e){try{return yield E.default.validator.validateAddress(So.OnekeyNetwork.eth,e),!0}catch(Mg){return!1}}));return function(t){return e.apply(this,arguments)}}(),[]),y=(0,a.useCallback)(function(){var e=(0,Pt.default)((function*(e){return yield E.default.serviceRevoke.getAddress(e,So.OnekeyNetwork.eth)}));return function(t){return e.apply(this,arguments)}}(),[]);return(0,a.useEffect)((function(){(null==r?void 0:r.length)>0&&(0,Pt.default)((function*(){if(r!==c&&r.toLowerCase()!==x.toLowerCase()){s(!0);var e=yield Promise.all([b(r),y(r)]),t=(0,h.default)(e,2),o=t[0],a=t[1];if(a){if(yield v(a)){var i=o;r.toLowerCase()!==a.toLowerCase()&&f(i=r),g(a),n({address:a.toLocaleLowerCase(),ens:i})}}else f("");s(!1)}}))()}),[r]),(0,a.useMemo)((function(){return{loading:l}}),[l])}var Co=n(505240),Mo=["network","loading"];function Po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ao=function(){return(0,G.jsx)(G.Fragment,{children:[1,2,3,4,5].map((function(e){return(0,G.jsxs)(Xr.default,{children:[(0,G.jsx)(Xr.default.Column,{children:(0,G.jsx)(Tr.default,{width:"40px",height:"40px",borderRadius:"12px"})}),(0,G.jsx)(Xr.default.Column,{flex:1,text:{label:(0,G.jsx)(Q.default,{shape:"Body1"}),description:(0,G.jsx)(Q.default,{shape:"Body2"})}}),(0,G.jsx)(Xr.default.Column,{w:"200px",text:{label:(0,G.jsx)(Q.default,{shape:"Body1"}),description:(0,G.jsx)(Q.default,{shape:"Body2"})}}),(0,G.jsx)(Xr.default.Column,{w:"160px",text:{label:(0,G.jsx)(Q.default,{shape:"Body1"}),description:(0,G.jsx)(Q.default,{shape:"Body2"})}}),(0,G.jsx)(Xr.default.Column,{w:"140px",alignItems:"flex-end",text:{label:(0,G.jsx)(Q.default,{shape:"Body1"})}}),(0,G.jsx)(_r.Hidden,{till:"lg",children:(0,G.jsx)(Xr.default.Column,{w:"140px",alignItems:"flex-end",text:{label:(0,G.jsx)(Q.default,{shape:"Body1"})}})})]},`Skeleton${e}`)}))})};const Do=function(e){var t=e.network,n=e.loading,o=(0,m.default)(e,Mo),i=(0,Kr.default)(),l=i.formatDistanceStrict,s=i.format,u=(0,b.default)(),d=(0,v.useNavigation)(),c=(0,a.useCallback)((function(e){t&&d.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Collectibles,params:{screen:f.CollectiblesModalRoutes.NFTDetailModal,params:{asset:e,networkId:t.id,isOwner:!1}}})}),[d,t]),p=(0,a.useCallback)((function(e){var n,r,o,a,i,d,f,p,m=e.item,h=m.asset,x=m.entry,g=m.exit,b=m.profit,v=(0,Ur.PriceString)({price:new At.BigNumber(b).decimalPlaces(3).toString(),symbol:m.exit.tradeSymbol});v=`${b>=0?"+":""}${v}`,"Mint"===x.eventType?p=u.formatMessage({id:"content__mint"}):"Transfer"===x.eventType&&(p=u.formatMessage({id:"action__receive"}));var y,j=new At.BigNumber(null!=(n=x.tradePrice)?n:0).decimalPlaces(3).toString(),w=new At.BigNumber(null!=(r=null!=(o=null!=(a=g.internalTxValue)?a:g.tokenTxValue)?o:g.tradePrice)?r:0).decimalPlaces(3).toString(),k=m.tokenId?`#${m.tokenId}`:"\u2013";"0x57f1887a8bf19b14fc0df6fd9b2acc9af147ea85"===(null==(i=m.contractAddress)?void 0:i.toLowerCase())&&(k=null==(y=m.asset)?void 0:y.name);return(0,G.jsxs)(Xr.default,{children:[(0,G.jsx)(Z.default,{flex:1,flexDirection:"row",alignItems:"center",onPress:function(){h&&c(h)},children:function(e){var t=e.isHovered;return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(Xr.default.Column,{children:m.asset&&(0,G.jsx)(Dr.default,{asset:h,borderRadius:"12px",size:40,opacity:t?80:void 0})}),(0,G.jsx)(Xr.default.Column,{flex:1,ml:"12px",text:{label:m.contractName,labelProps:{typography:"Body1Strong",isTruncated:!0},description:k,descriptionProps:{isTruncated:!0}}})]})}}),(0,G.jsx)(_r.Hidden,{till:"md",children:(0,G.jsx)(C.Tooltip,{label:s(new Date(x.timestamp),"yyyy-MM-dd HH:mm"),placement:"top left",children:(0,G.jsx)(Xr.default.Column,{w:"200px",text:{label:(0,G.jsxs)(Ot.default,{space:1,alignItems:"center",children:[(0,G.jsx)(xe.default,{typography:"Body1Strong",numberOfLines:1,children:(0,Ur.PriceString)({price:j,symbol:x.tradeSymbol})}),p&&(0,G.jsx)(Hn.default,{type:"default",size:"sm",title:p})]}),description:(0,G.jsxs)(Ot.default,{space:1,alignItems:"center",children:[(0,G.jsx)(J.default,{name:"GasIllus",size:16,color:"icon-subdued"}),(0,G.jsx)(xe.default,{typography:"Body2",numberOfLines:1,color:"text-subdued",children:(0,Ur.PriceString)({price:new At.BigNumber(null!=(d=x.gasFee)?d:0).decimalPlaces(3).toString(),networkId:t.id})})]})}})})}),(0,G.jsx)(_r.Hidden,{till:"md",children:(0,G.jsx)(C.Tooltip,{label:s(new Date(g.timestamp),"yyyy-MM-dd HH:mm"),placement:"top left",children:(0,G.jsx)(Xr.default.Column,{w:"160px",text:{label:(0,Ur.PriceString)({price:w,symbol:g.tradeSymbol}),description:(0,G.jsxs)(Ot.default,{space:1,alignItems:"center",children:[(0,G.jsx)(J.default,{name:"GasIllus",size:16,color:"icon-subdued"}),(0,G.jsx)(xe.default,{typography:"Body2",numberOfLines:1,color:"text-subdued",children:(0,Ur.PriceString)({price:new At.BigNumber(null!=(f=g.gasFee)?f:0).decimalPlaces(3).toString(),networkId:t.id})})]})}})})}),(0,G.jsx)(Xr.default.Column,{w:"140px",text:{label:v,labelProps:{isTruncated:!0,textAlign:"right",numberOfLines:1,color:b>0?"text-success":"text-critical"},description:l(g.timestamp,x.timestamp),descriptionProps:{display:{lg:"none"},textAlign:"right"}}}),(0,G.jsx)(_r.Hidden,{till:"lg",children:(0,G.jsx)(Xr.default.Column,{w:"140px",text:{label:l(g.timestamp,x.timestamp),labelProps:{typography:"Body1Strong",textAlign:"right"}}})})]})}),[s,l,c,u,t.id]),h=(0,a.useCallback)((function(){return n?(0,G.jsx)(Ao,{}):null}),[n]);return(0,G.jsx)(Co.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Po(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Po(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({renderItem:p,showDivider:!0,keyExtractor:function(e){return e.contractAddress+e.tokenId},showsVerticalScrollIndicator:!1,ListFooterComponent:h,contentContainerStyle:{width:"100%",maxWidth:1072,alignSelf:"center",padding:32}},o))};var Ro=["network","loading"];function Eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eo(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var No=function(){return(0,G.jsx)(G.Fragment,{children:[1,2,3,4,5].map((function(e){return(0,G.jsxs)(Xr.default,{children:[(0,G.jsx)(Xr.default.Column,{children:(0,G.jsx)(Tr.default,{width:"40px",height:"40px",borderRadius:"12px"})}),(0,G.jsx)(Xr.default.Column,{flex:1,text:{label:(0,G.jsx)(Q.default,{shape:"Body1"}),description:(0,G.jsx)(Q.default,{shape:"Body2"})}}),(0,G.jsx)(Xr.default.Column,{alignItems:"flex-end",flex:1,text:{label:(0,G.jsx)(Q.default,{shape:"Body1"}),description:(0,G.jsx)(Q.default,{shape:"Body2"})}})]},`Skeleton${e}`)}))})};const Lo=function(e){var t=e.network,n=e.loading,r=(0,m.default)(e,Ro),o=(0,v.useNavigation)(),i=(0,a.useCallback)((function(e){t&&o.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Collectibles,params:{screen:f.CollectiblesModalRoutes.NFTDetailModal,params:{asset:e,networkId:t.id,isOwner:!1}}})}),[o,t]),l=(0,Kr.default)().formatDistanceStrict,s=(0,a.useCallback)((function(e){var t,n=e.item,r=n.asset,o=n.entry,a=n.exit,s=n.profit,u=(0,Ur.PriceString)({price:new At.BigNumber(s).decimalPlaces(3).toString(),symbol:n.exit.tradeSymbol});u=`${s>=0?"+":""}${u}`;var d,c=n.tokenId?`#${n.tokenId}`:"\u2013";"0x57f1887a8bf19b14fc0df6fd9b2acc9af147ea85"===(null==(t=n.contractAddress)?void 0:t.toLowerCase())&&(c=null==(d=n.asset)?void 0:d.name);return(0,G.jsxs)(Xr.default,{children:[(0,G.jsxs)(Z.default,{flex:1,flexDirection:"row",alignItems:"center",onPress:function(){r&&i(r)},children:[(0,G.jsx)(Xr.default.Column,{children:(0,G.jsx)(Dr.default,{asset:r,borderRadius:"12px",size:40})}),(0,G.jsx)(Xr.default.Column,{flex:1,ml:"12px",text:{label:n.contractName,labelProps:{typography:"Body1Strong",isTruncated:!0},description:c,descriptionProps:{isTruncated:!0}}})]}),(0,G.jsx)(Xr.default.Column,{text:{label:u,labelProps:{textAlign:"right",color:s>0?"text-success":"text-critical"},description:l(a.timestamp,o.timestamp),descriptionProps:{isTruncated:!0,textAlign:"right"}}})]})}),[l,i]),u=(0,a.useCallback)((function(){return n?(0,G.jsx)(No,{}):(0,G.jsx)(D.default,{h:"24px"})}),[n]);return(0,G.jsx)(D.default,{flex:1,children:(0,G.jsx)(Co.default,Bo(Bo({renderItem:s,keyExtractor:function(e){return`${e.contractAddress} ${e.tokenId}`},showsVerticalScrollIndicator:!1,ListFooterComponent:u},r),{},{p:4}))})};var Wo=n(225447),Fo=n(586874),Ho=n(474679),zo=n.n(Ho);const Uo=n.p+"static/media/nft_pnl_empty_image.829dbd23355b0e142588.png",Vo=n.p+"static/media/nft_pnl_empty_image_light.bf388bb9df6fc46ace77.png";const $o=function(e){var t,n=e.onAddressSearch,r=(0,v.useNavigation)(),o=(0,B.useActiveWalletAccount)(),i=o.network,l=o.account,s=(0,b.default)(),u=(0,Fo.default)().themeVariant,d=(0,Oo.useConnectAndCreateExternalAccount)({networkId:null!=(t=null==i?void 0:i.id)?t:""}).connectAndCreateExternalAccount,c=(0,a.useCallback)((function(){r.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.NFTMarket,params:{screen:Or.NFTMarketRoutes.CalculatorModal,params:void 0}})}),[r]);(0,a.useEffect)((function(){null!=l&&l.address&&n({address:null==l?void 0:l.address})}),[null==l?void 0:l.address,n]);var m=(0,a.useCallback)((function(){return(0,G.jsx)(Ot.default,{children:(0,G.jsx)(It.default,{mr:{base:2.5,md:8},type:"plain",size:"lg",name:"CalculatorOutline",circle:!0,onPress:c})})}),[c]);(0,a.useLayoutEffect)((function(){r.setOptions({title:"",headerRight:m})}),[m,r]);var x=(0,a.useState)(""),g=(0,h.default)(x,2),y=g[0],j=g[1],w=To({keyword:y,onAddressSearch:n}).loading,k=(0,p.default)(),_=(0,v.useIsFocused)();return(0,a.useEffect)((function(){return"ios"===I.default.OS&&zo().setEnable(!_),function(){"ios"===I.default.OS&&zo().setEnable(!0)}}),[_]),(0,G.jsxs)(D.default,{flex:1,alignItems:"center",px:"16px",pt:{base:"48px",md:"96px"},children:[(0,G.jsx)(A.View,{from:{opacity:0,scale:.5},animate:{opacity:1,scale:1},children:(0,G.jsx)(Wo.default,{width:358,height:155,source:"light"===u?Vo:Uo})}),(0,G.jsx)(xe.default,{textAlign:"center",typography:{sm:"DisplayMedium",md:"DisplaySmall"},children:s.formatMessage({id:"empty__pnl"})}),(0,G.jsx)(Ot.default,{mt:"24px",w:k?"full":"400px",justifyContent:"center",children:(0,G.jsx)(dn.default,{flex:1,size:k?"xl":"default",value:y,onChangeText:j,leftIconName:"SearchOutline",numberOfLines:1,placeholder:s.formatMessage({id:"form__enter_address_ens_name"}),rightCustomElement:!0===w?(0,G.jsx)(T.default,{p:{base:2,md:1},maxW:"32px",maxH:"32px",children:(0,G.jsx)(Ht.default,{size:"sm"})}):null})}),(0,G.jsxs)(Ot.default,{w:k?"full":"400px",mt:"24px",space:"12px",alignItems:"center",justifyContent:"center",children:[(0,G.jsx)(D.default,{height:"1px",bgColor:"divider",flex:1}),(0,G.jsx)(xe.default,{typography:"Body2",color:"text-subdued",children:"OR"}),(0,G.jsx)(D.default,{height:"1px",bgColor:"divider",flex:1})]}),(0,G.jsx)(K.default,{onPress:d,type:"primary",size:k?"lg":"base",mt:"24px",children:s.formatMessage({id:"action__connect_wallet"})})]})};var Go=["loading","network","accountAddress","onAddressSearch"];function qo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qo(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yo=function(){var e=(0,b.default)();return(0,G.jsxs)(Xr.default,{mt:"48px",px:0,py:0,children:[(0,G.jsx)(Xr.default.Column,{flex:1,text:{label:"NFT",labelProps:{typography:"Subheading",color:"text-subdued"}}}),(0,G.jsx)(Xr.default.Column,{w:"200px",text:{label:e.formatMessage({id:"content__entry_price"}),labelProps:{typography:"Subheading",color:"text-subdued"}}}),(0,G.jsx)(Xr.default.Column,{w:"160px",text:{label:(0,G.jsx)(C.Tooltip,{label:e.formatMessage({id:"content__royalty_fees_are_excluded"}),placement:"top left",children:(0,G.jsxs)(Ot.default,{alignItems:"center",space:1,alignSelf:"flex-start",children:[(0,G.jsx)(xe.default,{typography:"Subheading",color:"text-subdued",children:e.formatMessage({id:"content__exit_value"})}),(0,G.jsx)(J.default,{name:"QuestionMarkCircleMini",size:16,color:"icon-subdued"})]})}),labelProps:{typography:"Subheading",color:"text-subdued"}}}),(0,G.jsx)(Xr.default.Column,{w:"140px",text:{label:e.formatMessage({id:"content__profit"}),labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}}),(0,G.jsx)(_r.Hidden,{till:"lg",children:(0,G.jsx)(Xr.default.Column,{w:"140px",text:{label:e.formatMessage({id:"content__hodl_duration"}),labelProps:{typography:"Subheading",color:"text-subdued",textAlign:"right"}}})})]})},Qo=function(e){var t=e.loading,n=e.network,r=e.accountAddress,o=e.onAddressSearch,i=(0,m.default)(e,Go),l=i.totalProfit,s=i.win,u=i.lose,d=i.spend,c="0";l&&(c=new At.BigNumber(l).decimalPlaces(3).toString(),c=`${l.toNumber()>=0?"+":""}${c}`),c=(0,Ur.PriceString)({price:c,networkId:n.id});var f=(0,a.useState)(null!=r?r:""),x=(0,h.default)(f,2),g=x[0],y=x[1],j=(0,b.default)(),w=(0,a.useRef)(),k=To({keyword:g,onAddressSearch:function(e){var t=e.ens,n=e.address;w.current=t,n&&(y(t||(0,wo.shortenAddress)(n)),o(n))}}).loading,_=(0,p.default)(),O=(0,v.useNavigation)(),I=(0,a.useCallback)((function(){(0,ko.copyToClipboard)("https://app.onekey.so/pnl"),dt.default.show({title:j.formatMessage({id:"msg__link_copied"})})}),[j,g,O,n,i]),S=(0,B.useActiveWalletAccount)().account;(0,a.useEffect)((function(){null!=S&&S.address&&y(null==S?void 0:S.address)}),[null==S?void 0:S.address]),(0,a.useEffect)((function(){0===g.length&&null!=S&&S.address&&o(null==S?void 0:S.address)}),[null==S?void 0:S.address,g,o]);var C=(0,a.useMemo)((function(){return 0!==g.length&&!0!==k}),[g,k]);return(0,G.jsxs)(D.default,{width:"full",p:2,pb:{base:3,md:0},children:[(0,G.jsx)(D.default,{width:"full",flexDirection:"row",children:(0,G.jsx)(jo.default,{w:"full",maxW:"400px",value:g,onChangeText:y,rightIconName:C?"XCircleMini":void 0,rightElement:(0,G.jsx)(T.default,{height:"full",right:"8px",children:!0===k?(0,G.jsx)(Ht.default,{size:"sm"}):null}),onClear:function(){y("")},placeholder:j.formatMessage({id:"form__enter_address_ens_name"})})}),(0,G.jsxs)(D.default,{flexDirection:{sm:"row"},alignItems:{sm:"center"},justifyContent:"space-between",mt:"24px",children:[(0,G.jsxs)(D.default,{children:[(0,G.jsx)(xe.default,{typography:"Body1",color:"text-subdued",children:j.formatMessage({id:"content__total_profits"})}),l?(0,G.jsx)(xe.default,{typography:"Display2XLarge",color:l.toNumber()>0?"text-success":"text-critical",children:c}):(0,G.jsx)(Q.default,{shape:"Display2XLarge"}),(0,G.jsxs)(D.default,{flexDirection:"row",mt:"8px",children:[(0,G.jsxs)(D.default,{flexDirection:"row",mr:"24px",alignItems:"center",children:[void 0!==s?(0,G.jsx)(xe.default,{mr:"6px",typography:"Body1Strong",color:"text-success",children:s}):(0,G.jsx)(Q.default,{shape:"Body1"}),(0,G.jsx)(xe.default,{typography:"Body1",color:"text-subdued",children:j.formatMessage({id:"content__winning_flips"})})]}),(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",mr:"24px",children:[void 0!==u?(0,G.jsx)(xe.default,{mr:"6px",typography:"Body1Strong",color:"text-critical",children:u}):(0,G.jsx)(Q.default,{shape:"Body1"}),(0,G.jsx)(xe.default,{typography:"Body1",color:"text-subdued",children:j.formatMessage({id:"content__losing_flips"})})]}),(0,G.jsx)(_r.Hidden,{from:"base",till:"md",children:(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",children:[void 0!==d?(0,G.jsx)(xe.default,{mr:"6px",typography:"Body1Strong",children:(0,Ur.PriceString)({price:new At.BigNumber(d).decimalPlaces(3).toString(),networkId:n.id})}):(0,G.jsx)(Tr.default,{width:"24px",height:"12px",mr:"6px"}),(0,G.jsx)(xe.default,{typography:"Body1",color:"text-subdued",children:j.formatMessage({id:"content__spent"})})]})})]})]}),(0,G.jsx)(K.default,{isDisabled:t,type:"primary",size:_?"lg":"base",leftIconName:"ArrowTopRightOnSquareSolid",onPress:I,mt:{base:6,sm:0},children:j.formatMessage({id:"action__share"})})]}),(0,G.jsx)(_r.Hidden,{from:"base",till:"md",children:(0,G.jsx)(Yo,{})}),(0,G.jsx)(kn.default,{mt:{base:"24px",md:"8px"}})]})},Ko={},Zo=function(e){var t,n=e.accountAddress,r=(0,p.default)(),o=(0,b.default)(),i=(0,B.useActiveWalletAccount)().account,l=(0,v.useNavigation)(),s=(0,Io.useDefaultNetWork)(),u=E.default.serviceNFT,d=(0,Oo.useConnectAndCreateExternalAccount)({networkId:null!=(t=null==s?void 0:s.id)?t:""}).connectAndCreateExternalAccount,c=(0,a.useCallback)((function(){l.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.NFTMarket,params:{screen:Or.NFTMarketRoutes.CalculatorModal,params:void 0}})}),[l]),m=(0,a.useMemo)((function(){return void 0===(null==i?void 0:i.id)?(0,G.jsx)(K.default,{onPress:d,children:o.formatMessage({id:"action__connect_wallet"})}):(0,G.jsx)(_o.AccountSelectorTrigger,{type:r?"basic":"plain",showAddress:!r})}),[null==i?void 0:i.id,d,o,r]),x=(0,a.useCallback)((function(){return(0,G.jsxs)(Ot.default,{space:2,alignItems:"center",mr:{base:2.5,md:8},justifyContent:"flex-end",children:[m,(0,G.jsx)(It.default,{type:"plain",size:"lg",name:"CalculatorOutline",circle:!0,onPress:c})]})}),[c,m]);(0,a.useLayoutEffect)((function(){l.setOptions({i18nTitle:r?"":o.formatMessage({id:"action__profit_and_loss"}),headerRight:x})}),[x,o,r,l]);var g=(0,a.useState)([]),y=(0,h.default)(g,2),j=y[0],w=y[1],k=(0,a.useRef)({totalProfit:new At.BigNumber(0),totalWinProfit:new At.BigNumber(0),totalLoseProfit:new At.BigNumber(0),lose:0,win:0,spend:new At.BigNumber(0),content:[]}),_=(0,a.useRef)(0),O=(0,a.useState)({}),I=(0,h.default)(O,2),S=I[0],T=I[1],C=(0,a.useState)(n),M=(0,h.default)(C,2),P=M[0],A=M[1],R=(0,a.useState)(!0),N=(0,h.default)(R,2),L=N[0],W=N[1],F=(0,a.useCallback)(function(){var e=(0,Pt.default)((function*(e){var t,n=50*_.current,r=null==(t=k.current)?void 0:t.content.slice(n,n+50),o=r.map((function(e){return{contract_address:e.contractAddress,token_id:e.tokenId}}));if(0!==r.length){var a=yield u.batchAsset({chain:null==s?void 0:s.id,items:o});if(a){var i={};a.forEach((function(e){var t=`${e.contractAddress}-${e.tokenId}`;i[t]=e})),r.forEach((function(e){var t=`${e.contractAddress}-${e.tokenId}`,n=i[t];n&&(e.asset=n)})),j.length+r.length>=k.current.content.length&&W(!1),w(0===e?r:function(e){return e.concat(r)})}}else W(!1)}));return function(t){return e.apply(this,arguments)}}(),[j.length,null==s?void 0:s.id,u]),H=(0,a.useCallback)(function(){var e=(0,Pt.default)((function*(e){var t=Ko[e];if(t)k.current=t,T(t),F(0);else{var n=yield u.getPNLData({address:e}),r=function(e){var t=new At.BigNumber(0),n=new At.BigNumber(0),r=new At.BigNumber(0),o=new At.BigNumber(0),a=0,i=0;return e.forEach((function(e){var l,s,u,d,c,f,p=e.entry,m=e.exit,h=new At.BigNumber(null!=(l=p.gasFee)?l:0),x=new At.BigNumber(null!=(s=p.tradePrice)?s:0),g=new At.BigNumber(null!=(u=m.gasFee)?u:0),b=new At.BigNumber(null!=(d=null!=(c=null!=(f=m.internalTxValue)?f:m.tokenTxValue)?c:m.tradePrice)?d:0),v=x.plus(h).plus(g),y=b.minus(v);y.toNumber()>0?(a+=1,n=n.plus(y)):y.toNumber()<0&&(i+=1,r=r.plus(y)),e.profit=y.toNumber(),e.spend=v.toNumber(),t=t.plus(y),o=o.plus(v)})),{totalProfit:t,totalWinProfit:n,totalLoseProfit:r,win:a,lose:i,spend:o,content:e}}(null!=n?n:[]);k.current=r,Ko[e]=r,T(r),n&&F(0)}}));return function(t){return e.apply(this,arguments)}}(),[F,u]);(0,a.useEffect)((function(){W(!0),T({totalProfit:new At.BigNumber(0),spend:new At.BigNumber(0),win:0,lose:0}),_.current=0,w([]),H(P)}),[P]);var z=(0,a.useCallback)((function(){return(0,G.jsx)(Qo,Xo({accountAddress:n,network:s,onAddressSearch:A,content:k.current.content,loading:0===j.length},S))}),[n,j.length,s,S]),U=(0,a.useCallback)((function(){return L?null:(0,G.jsx)(ct.default,{emoji:"\ud83d\udcb0",title:o.formatMessage({id:"empty__no_sales_record"}),subTitle:o.formatMessage({id:"empty__no_sales_record_desc"})})}),[o,L]),V=(0,a.useMemo)((function(){return{data:j,ListHeaderComponent:z,ListEmptyComponent:U,onEndReached:function(){_.current+=1,F(_.current)}}}),[U,z,F,j]);return(0,G.jsx)(D.default,{flex:1,children:r?(0,G.jsx)(Lo,Xo(Xo({},V),{},{loading:L,network:s})):(0,G.jsx)(Do,Xo(Xo({},V),{},{loading:L,network:s}))})};const Jo=function(){var e=(0,B.useActiveWalletAccount)(),t=e.network,n=e.account,r=(null==t?void 0:t.impl)===Et.IMPL_EVM,o=(0,a.useState)((function(){return{address:r?null==n?void 0:n.address:void 0}})),i=(0,h.default)(o,2),l=i[0],s=i[1];return null!=l&&l.address?(0,G.jsx)(Zo,{accountAddress:null==l?void 0:l.address,ens:l.ens}):(0,G.jsx)($o,{onAddressSearch:s})};var ea=n(340576),ta=n(769707),na=n(849423),ra=(0,na.atom)({defis:[],defiKeys:[]}),oa=(0,na.atom)({}),aa=(0,na.createJotaiContext)(),ia=aa.withProvider,la=aa.useContextAtom,sa=n(818149),ua=n.n(sa),da=n(849877),ca=n(534159),fa=n(759275),pa=n(797516),ma=n(281577),ha=n(490415);function xa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ga(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xa(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ba(e){var t=function(e){var t=e.networkId,n=e.accountId,r=e.limitSize,o=e.debounced,a=void 0===o?0:o,i=(0,B.useAppSelector)((function(e){return e.refresher.refreshAccountDefiTs}));return(0,fa.usePromiseResult)((function(){return E.default.serviceOverview.buildAccountDefiList({networkId:t,accountId:n,limitSize:r})}),[n,r,t,i],{debounced:a,watchLoading:!0})}(e),n=la(ra),r=(0,h.default)(n,2),o=r[0],i=r[1],l=la(oa),s=(0,h.default)(l,2)[1];return(0,a.useEffect)((function(){var e=t.result;e&&(e.defiValuesMap&&s(e.defiValuesMap),e.defiKeys&&ua()(o.defiKeys,e.defiKeys)||i(e))}),[o.defiKeys,t.result,i,s]),null}var va=(0,a.memo)((function(){var e=(0,b.default)();return(0,G.jsxs)(D.default,{flexDirection:"row",w:"full",children:[(0,G.jsx)(Y.default.Subheading,{color:"text-subdued",flex:1,children:e.formatMessage({id:"form__protocol_uppercase"})}),(0,G.jsx)(Y.default.Subheading,{color:"text-subdued",flex:1,textAlign:"right",children:e.formatMessage({id:"form__claimable_uppercase"})}),(0,G.jsx)(Y.default.Subheading,{color:"text-subdued",flex:1,textAlign:"right",children:e.formatMessage({id:"form__value_uppercase"})})]})}));var ya=(0,a.memo)((function(e){var t=e.networkId,n=e.accountId,r=(0,B.useNavigation)(),o=(0,B.useAppSelector)((function(e){var r,o,a,i;return null==(r=e.overview.overviewStats)||null==(o=r[t])||null==(a=o[n])||null==(i=a.defis)?void 0:i.totalValue})),i=(0,B.useAppSelector)((function(e){var r,o,a,i;return null==(r=e.overview.overviewStats)||null==(o=r[t])||null==(a=o[n])||null==(i=a.summary)?void 0:i.shareDefis})),l=(0,B.useAppSelector)((function(e){var r,o,a,i;return null==(r=e.overview.overviewStats)||null==(o=r[t])||null==(a=o[n])||null==(i=a.defis)?void 0:i.totalCounts})),s=(0,a.useMemo)((function(){return new(Dt())(null!=i?i:0).times(100)}),[i]),u=(0,a.useCallback)((function(){r.navigate(f.HomeRoutes.OverviewDefiListScreen,{networkId:t,accountId:n})}),[r,t,n]);return(0,G.jsx)(ma.HomeTabAssetsHeader,{icon:"DatabaseOutline",title:"DeFi",usdFiatValue:o,shareRate:s,extraIcon:"ChevronRightMini",extraLabel:String(null!=l?l:0),onPress:u,borderColor:"transparent",columns:(0,G.jsx)(va,{})})}));var ja=(0,a.memo)((function(e){var t=e.claimable,n=e.value,r=(0,p.default)();return(0,G.jsxs)(G.Fragment,{children:[r?null:(0,G.jsx)(Y.default.Body2Strong,{flex:"1",numberOfLines:2,isTruncated:!0,textAlign:"right",children:(0,G.jsx)(ca.FormatCurrencyNumber,{value:0,convertValue:+t})}),(0,G.jsx)(Y.default.Body2Strong,{flex:"1",textAlign:"right",numberOfLines:2,isTruncated:!0,children:(0,G.jsx)(ca.FormatCurrencyNumber,{value:0,convertValue:+n})})]})}));var wa=(0,a.memo)((function(e){var t=e.valueKey,n=la(oa),r=(0,h.default)(n,1)[0];return(0,G.jsx)(ja,ga({},r[t]))}));var ka=(0,a.memo)((function(e){var t=e.networkId,n=e.accountId,r=(0,B.useNavigation)(),o=la(ra),i=(0,h.default)(o,1)[0].defis,l=void 0===i?ea.freezedEmptyArray:i,s=(0,a.useCallback)((function(e){r.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Overview,params:{screen:ha.OverviewModalRoutes.OverviewProtocolDetail,params:{protocol:e,networkId:t,accountId:n}}})}),[r,t,n]),u=(0,a.useCallback)((function(e){return`${e._id.networkId}_${e._id.address}_${e._id.protocolId}`}),[]),d=(0,a.useCallback)((function(e){var t=e.item,n=e.index;return(0,G.jsxs)(Z.default.Item,{onPress:function(){s(t)},flex:1,px:"6",py:"4",flexDirection:"row",alignItems:"center",borderTopWidth:0===n?0:"1px",borderTopColor:"divider",children:[(0,G.jsx)(Rt.default,{flex:"1",size:8,showInfo:!0,infoBoxProps:{flex:1},token:{logoURI:t.protocolIcon,networkId:t._id.networkId,name:t.protocolName},showNetworkIcon:!0}),(0,G.jsx)(wa,{valueKey:u(t)})]},u(t))}),[s,u]);return(0,G.jsx)(G.Fragment,{children:l.map((function(e,t){return d({item:e,index:t})}))})}));var _a=(0,a.memo)((function(e){var t=e.networkId,n=e.accountId,r=(0,pa.useAssetsListLayout)().containerPaddingX;return(0,a.useEffect)((function(){t&&!(0,da.isAllNetworks)(t)&&n&&E.default.serviceOverview.fetchAccountOverviewDebounced({networkId:t,accountId:n,scanTypes:[ha.EOverviewScanTaskType.defi]})}),[t,n]),(0,B.useAppSelector)((function(e){var r,o,a,i;return null==(r=e.overview.overviewStats)||null==(o=r[t])||null==(a=o[n])||null==(i=a.defis)?void 0:i.totalCounts}))?(0,G.jsxs)(ce.default,{overflow:"hidden",borderColor:"border-subdued",borderWidth:"1px",borderRadius:12,mb:"24",mx:r.px,children:[(0,G.jsx)(ya,{networkId:t,accountId:n}),(0,G.jsx)(ka,{networkId:t,accountId:n})]}):null}));var Oa=(0,a.memo)(ia((function(e){return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(_a,ga({},e)),(0,G.jsx)(ba,ga(ga({},e),{},{debounced:600}))]})})));function Ia(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const Sa=(0,a.memo)(ia((function(){var e=(0,B.useNavigation)(),t=(0,p.default)(),n=(0,v.useRoute)(),o=(0,a.useState)(1),i=(0,h.default)(o,2),l=i[0],s=i[1],u=n.params,d=u.networkId,c=u.accountId,f=(0,a.useCallback)((function(){s((function(e){return e+1}))}),[]),m=la(ra),x=(0,h.default)(m,1)[0].defis,g=void 0===x?ea.freezedEmptyArray:x;return(0,a.useLayoutEffect)((function(){e.setOptions({title:"DeFi"})}),[e]),(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(Co.default,{mb:"6",mt:"4",mx:t?4:"50px",data:g.slice(0,10*l),keyExtractor:function(e){var t;return null==(t=e._id)?void 0:t.protocolId},showDivider:!1,renderItem:function(e){var t=e.item;return(0,G.jsx)(ta.OverviewDefiProtocol,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ia(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ia(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t))},onEndReached:f}),(0,G.jsx)(ba,{networkId:d,accountId:c,limitSize:10*l,debounced:0})]})})));var Ta=n(393587);const Ca=function(){return(0,a.useEffect)((function(){(0,nn.openDapp)(Ta.revokeUrl),Mt.navigationShortcuts.navigateToDiscover()}),[]),null};var Ma=n(493877);const Pa=function(){var e=(0,Ma.default)();return(0,a.useEffect)((function(){null==e||e.navigate(f.RootRoutes.Main,{screen:f.MainRoutes.Tab,params:{screen:f.TabRoutes.Home,params:{screen:f.HomeRoutes.Revoke}}})}),[e]),null};var Aa=n(313503),Da=n(375814),Ra=n(534756),Ea=n(447325),Ba=n(381786),Na=n(177510),La=n(422314),Wa={submited:!1},Fa=n(428357),Ha=n(415008),za={params:void 0,count:0},Ua=function(){var e=(0,Pt.default)((function*(e){var t=e.filter((function(e){return!e.limited&&void 0!==e.data}));if(t.length>0){var n=yield E.default.serviceSwap.getCurrentUserSelectedQuoter();if(n){var r=t.find((function(e){return e.data.type===n}));if(r)return r}return 1===t.length||t.sort((function(e,t){var n,r,o=null!=(n=e.data.estimatedBuyAmount)?n:e.data.buyAmount,a=null!=(r=t.data.estimatedBuyAmount)?r:t.data.buyAmount;return Number(a)-Number(o)})),t[0]}var o=e.filter((function(e){return e.data}));if(0!==o.length){if(1===o.length)return o[0];for(var a,i=o[0],l=0;l<o.length;l+=1){var s,u,d=o[l],c=null==d||null==(s=d.limited)?void 0:s.max,f=null==d||null==(u=d.limited)?void 0:u.min,p=new(Dt())(d.data.sellAmount),m=[];!p.isNaN()&&c&&m.push(p.minus(c).abs()),!p.isNaN()&&f&&m.push(p.minus(f).abs());var h=void 0;m.length&&(h=Dt().min.apply(Dt(),m)),!h||a&&!h.lt(a)||(i=d,a=h)}return i}}));return function(t){return e.apply(this,arguments)}}(),Va=function(){var e=(0,Pt.default)((function*(e){try{var t=yield La.SwapQuoter.client.fetchQuotes(e);if(!Wa.submited&&za.params===e&&t){E.default.dispatch((0,Na.setResponses)(t));var n=yield Ua(t);n?E.default.dispatch((0,Na.setQuote)(n.data),(0,Na.setQuoteLimited)(n.limited)):E.default.dispatch((0,Na.setError)(Fa.SwapError.NotSupport),(0,Na.setQuoteLimited)(void 0))}}catch(Mg){E.default.dispatch((0,Na.setError)(Fa.SwapError.QuoteFailed),(0,Na.setLoading)(!1))}}));return function(t){return e.apply(this,arguments)}}(),$a=function(){var e=(0,Pt.default)((function*(e){var t,n=function(){var n=(0,Pt.default)((function*(){var n=yield La.SwapQuoter.client.fetchQuotes(e);if(!Wa.submited&&za.params===e&&n){var r,o,a;E.default.dispatch((0,Na.setResponses)(n));var i=yield Ua(n);i&&(null==(r=i.data)?void 0:r.type)!==(null==(o=t)||null==(a=o.data)?void 0:a.type)&&(t||(t=i),E.default.dispatch((0,Na.setQuote)(i.data),(0,Na.setQuoteLimited)(i.limited)))}}));return function(){return n.apply(this,arguments)}}();n();try{var r=yield La.SwapQuoter.client.fetchQuote(e);za.params!==e||t||(r?(t=r,E.default.dispatch((0,Na.setQuote)(r.data),(0,Na.setQuoteLimited)(r.limited))):E.default.dispatch((0,Na.setError)(Fa.SwapError.NotSupport),(0,Na.setQuoteLimited)(void 0)))}catch(o){E.default.dispatch((0,Na.setError)(Fa.SwapError.QuoteFailed),(0,Na.setLoading)(!1))}}));return function(t){return e.apply(this,arguments)}}(),Ga=function(){var e=(0,Pt.default)((function*(e){var t=e.params,n=e.loading;if(za.params=t,t){var r=yield E.default.serviceSwap.buildWrapperTransaction(t);if(r&&r.encodedTx)E.default.dispatch((0,Na.setQuoteLimited)(void 0),(0,Na.setResponses)(void 0),(0,Na.setQuote)({type:Fa.QuoterType.onekey,instantRate:"1",wrapperTxInfo:r,sellAmount:(0,Ha.getTokenAmountString)(t.tokenIn,t.typedValue),sellTokenAddress:t.tokenIn.tokenIdOnNetwork,buyAmount:(0,Ha.getTokenAmountString)(t.tokenOut,t.typedValue),buyTokenAddress:t.tokenOut.tokenIdOnNetwork}));else{var o=yield E.default.serviceSwap.refreshParams(t);n&&E.default.dispatch((0,Na.setLoading)(!0)),E.default.dispatch((0,Na.setError)(void 0)),za.count+=1;try{o?yield Va(t):(E.default.dispatch((0,Na.setResponses)(void 0)),yield $a(t))}finally{za.count-=1,0===za.count&&E.default.dispatch((0,Na.setLoading)(!1))}}}else E.default.dispatch((0,Na.setQuote)(void 0),(0,Na.setResponses)(void 0),(0,Na.setLoading)(!1))}));return function(t){return e.apply(this,arguments)}}(),qa=n(469712),Xa=function(){return(0,a.useEffect)((function(){var e=function(e){E.default.serviceSwap.handleWalletRemove(e)};return Ea.appUIEventBus.on(Ea.AppUIEventBusNames.RemoveWallet,e),function(){Ea.appUIEventBus.off(Ea.AppUIEventBusNames.RemoveWallet,e)}}),[]),null},Ya=function(){(0,a.useEffect)((function(){var e=function(e){E.default.serviceSwap.handleAccountRemoved(e)};return Ea.appUIEventBus.on(Ea.AppUIEventBusNames.RemoveAccount,e),function(){Ea.appUIEventBus.off(Ea.AppUIEventBusNames.RemoveAccount,e)}}),[]);var e=(0,B.useAppSelector)((function(e){return e.runtime.accounts}));return(0,a.useEffect)((function(){E.default.serviceSwap.refreshSendingAccount()}),[e]),null},Qa=function(){var e=(0,B.useAppSelector)((function(e){return e.swap.inputToken})),t=(0,B.useAppSelector)((function(e){return e.swap.outputToken})),n=(0,a.useMemo)((function(){return(0,Ha.stringifyTokens)(e,t)}),[e,t]),r=(0,B.usePrevious)(n);return(0,a.useEffect)((function(){n!==r&&E.default.serviceSwap.clearUserSelectedQuoter()}),[n,r]),null},Ka=function(){var e=(0,Ba.useRpcMeasureStatus)(),t=e.status,n=e.loading,r=null==t?void 0:t.responseTime,o=(0,B.usePrevious)(r);return(0,a.useEffect)((function(){void 0===o&&null!=t&&t.responseTime&&!n&&E.default.serviceSwap.getSwapError().then((function(e){e===Fa.SwapError.QuoteFailed&&Ea.appUIEventBus.emit(Ea.AppUIEventBusNames.SwapRefresh)}))}),[null==t?void 0:t.responseTime,o,r,n]),null},Za=function(){var e=(0,B.useAppSelector)((function(e){return e.swap.inputToken})),t=(0,B.useAppSelector)((function(e){return e.swap.outputToken}));return(0,a.useEffect)((function(){e&&E.default.servicePrice.fetchSimpleTokenPrice({networkId:e.networkId,accountId:"",tokenIds:[e.tokenIdOnNetwork]})}),[e]),(0,a.useEffect)((function(){t&&E.default.servicePrice.fetchSimpleTokenPrice({networkId:t.networkId,accountId:"",tokenIds:[t.tokenIdOnNetwork]})}),[t]),null},Ja=function(){var e=(0,B.useAppSelector)((function(e){return e.swap.inputToken})),t=(0,B.useAppSelector)((function(e){return e.swap.outputToken})),n=(0,B.useAppSelector)((function(e){return e.swap.typedValue})),r=(0,B.useAppSelector)((function(e){return e.swap.independentField}));return(0,a.useEffect)((function(){E.default.serviceSwap.setQuote(void 0)}),[e,t,n,r]),null},ei=function(){var e=(0,qa.useSwapQuoteRequestParams)(),t=(0,a.useCallback)((function(){return Ga({params:e,loading:!0})}),[e]);return(0,a.useEffect)((function(){return Ea.appUIEventBus.on(Ea.AppUIEventBusNames.SwapRefresh,t),function(){Ea.appUIEventBus.off(Ea.AppUIEventBusNames.SwapRefresh,t)}}),[t]),(0,a.useEffect)((function(){Ga({params:e,loading:!0})}),[e]),null},ti=function(){return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(Xa,{}),(0,G.jsx)(Ya,{}),(0,G.jsx)(Qa,{}),(0,G.jsx)(Ka,{}),(0,G.jsx)(Za,{}),(0,G.jsx)(Ja,{}),(0,G.jsx)(ei,{})]})},ni=(n(735260),n(900645)),ri=function(){var e=(0,Pt.default)((function*(e){var t=ni.default.isAvailable();if(V.default.common.info("react-native-in-app-review is available",t),!t)return!1;var n=yield E.default.serviceSetting.getEnableAppRatings(),r=yield E.default.serviceSetting.getAppReviewsLastOpenedAt();return V.default.common.info("appRatingsEnabled, ",n,"lastOpenedAt, ",r),!(!e&&r>0||!n)}));return function(t){return e.apply(this,arguments)}}(),oi=function(){var e=(0,Pt.default)((function*(e){if(yield ri(e)){var t=!1;try{t=yield ni.default.RequestInAppReview()}catch(Mg){return void V.default.common.info("react-native-in-app-review error",Mg.message)}E.default.serviceSetting.setAppReviewsLastOpenedAt(Date.now()),V.default.common.info("hasFlowFinishedSuccessfully",t)}}));return function(t){return e.apply(this,arguments)}}(),ai=n(436873),ii=(0,a.createContext)({}),li=(0,a.createContext)({}),si=n(797749),ui=n(401040),di=function(e){var t=e.children,n=(0,b.default)(),r=(0,B.useNavigation)(),o=(0,B.useActiveWalletAccount)().walletId,i=(0,a.useCallback)((function(){r.navigate(f.RootRoutes.Onboarding)}),[r]);return o?(0,G.jsx)(D.default,{children:t}):(0,G.jsx)(K.default,{size:"xl",type:"primary",onPress:i,children:n.formatMessage({id:"action__create_wallet"})},"addWallet")},ci=function(e){var t=e.progressStatus,n=null==t?void 0:t.title;return n?(0,G.jsx)(T.default,{bg:"action-primary-disabled",w:"full",h:"50px",shadow:"1",borderRadius:"12",overflow:"hidden",children:(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",justifyItems:"center",children:[(0,G.jsx)(Ht.default,{size:"sm"}),(0,G.jsx)(Y.default.Button2,{ml:"2",color:"text-disabled",children:n})]})}):(0,G.jsx)(T.default,{bg:"action-primary-disabled",w:"full",h:"50px",shadow:"1",borderRadius:"12",overflow:"hidden",children:(0,G.jsx)(Ht.default,{size:"sm"})})},fi=function(){var e=(0,a.useContext)(ii);return(0,G.jsx)(ci,{progressStatus:e.progressStatus})},pi=function(){var e=(0,a.useContext)(li);return(0,G.jsx)(ci,{progressStatus:e.progressStatus})},mi=["isDisabled","isLoading"];function hi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hi(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gi=function(e){var t=e.token,n=(0,B.useNetwork)({networkId:t.networkId}).network;return(0,G.jsx)(Wo.default,{size:"4",src:null==n?void 0:n.logoURI})},bi=function(e){var t=e.tokenA,n=e.tokenB,r=e.onPress,o=(0,b.default)(),a=o.formatMessage({id:"title__swap"});return null!=n&&n.symbol&&(a=o.formatMessage({id:"action__cross_chain_swap_to_str"},{0:(null==n?void 0:n.symbol)||""})),(0,G.jsx)(D.default,{h:"50px",w:"full",shadow:"1",borderRadius:"12",overflow:"hidden",children:(0,G.jsx)(M.LinearGradient,{colors:["rgba(18, 65, 232, 255)","rgba(17, 228, 54, 255)"],start:{x:0,y:0},end:{x:1,y:0},style:{height:"100%",width:"100%",opacity:1},children:(0,G.jsxs)(Z.default,{w:"full",h:"full",flexDirection:"row",justifyContent:"center",alignItems:"center",onPress:r,children:[(0,G.jsxs)(D.default,{position:"relative",w:"10",h:"10",justifyContent:"center",alignItems:"center",children:[(0,G.jsx)(D.default,{position:"absolute",top:"8px",left:"8px",w:"18px",h:"18px",overflow:"hidden",borderRadius:"full",bg:"border-default",justifyContent:"center",alignItems:"center",children:(0,G.jsx)(gi,{token:t})}),(0,G.jsx)(D.default,{position:"absolute",top:"16px",left:"16px",w:"18px",h:"18px",overflow:"hidden",borderRadius:"full",bg:"border-default",justifyContent:"center",alignItems:"center",children:(0,G.jsx)(gi,{token:n})})]}),(0,G.jsx)(Y.default.Button1,{color:"text-on-primary",children:a})]})})})},vi=function(e){var t=e.isDisabled,n=e.isLoading,r=(0,m.default)(e,mi),o=(0,b.default)(),a=(0,Qr.useAppSelector)((function(e){return e.swap.inputToken})),i=(0,Qr.useAppSelector)((function(e){return e.swap.outputToken}));if(!t&&!n&&a&&i&&a.networkId!==(null==i?void 0:i.networkId))return(0,G.jsx)(bi,xi(xi({tokenA:a,tokenB:i},r),{},{children:o.formatMessage({id:"title__swap"})}));var l=o.formatMessage({id:"title__swap"});return t||n||null==i||!i.symbol||(l=o.formatMessage({id:"action__swap_to_str"},{0:(null==i?void 0:i.symbol)||""})),(0,G.jsx)(K.default,xi(xi({isDisabled:t,isLoading:n},r),{},{children:l}))},yi=function(){var e=(0,b.default)(),t=(0,a.useRef)(!1),n=(0,Qr.useAppSelector)((function(e){return e.swap.quote})),r=(0,qa.useSwapQuoteRequestParams)(),o=(0,a.useContext)(ii),i=(0,ui.useSwapSubmit)(),l=(0,a.useCallback)((0,Pt.default)((function*(){var e=yield E.default.serviceSwap.getRecipient();yield i({quote:n,params:r,recipient:e,openProgressStatus:o.openProgressStatus,closeProgressStatus:o.closeProgressStatus,setProgressStatus:function(e){null==o.setProgressStatus||o.setProgressStatus(e)}})})),[r,n,i,o]),s=(0,a.useCallback)((0,Pt.default)((function*(){if(!t.current)try{t.current=!0,Wa.submited=!0,null==o.openProgressStatus||o.openProgressStatus(),yield l()}finally{t.current=!1,Wa.submited=!1,null==o.closeProgressStatus||o.closeProgressStatus()}})),[l,o]);return o.progressStatus?(0,G.jsx)(fi,{}):(0,G.jsx)(vi,{size:"xl",type:"primary",isDisabled:!n,onPress:s,children:e.formatMessage({id:"title__swap"})},"submit")},ji=function(){var e=(0,b.default)(),t=(0,Qr.useAppSelector)((function(e){return e.swap.inputToken})),n=(0,Qr.useAppSelector)((function(e){return e.swap.quote})),r=(0,Qr.useAppSelector)((function(e){return e.swap.loading})),o=(0,qa.useSwapError)(),a=(0,qa.useInputLimitsError)();return r?(0,G.jsx)(K.default,{size:"xl",type:"primary",isDisabled:!0,isLoading:r,children:e.formatMessage({id:"title__finding_the_best_channel"})},"loading"):o?o===Fa.SwapError.InsufficientBalance?(0,G.jsx)(K.default,{size:"xl",type:"primary",isDisabled:!0,children:e.formatMessage({id:"form__amount_invalid"},{0:null==t?void 0:t.symbol})},"insufficient_balance_error"):(0,G.jsx)(K.default,{size:"xl",type:"primary",isDisabled:!0,children:e.formatMessage({id:"title__swap"})},"baseError"):a?(0,G.jsx)(K.default,{size:"xl",type:"primary",isDisabled:!0,children:e.formatMessage({id:"title__swap"})},"depositLimit"):n?(0,G.jsx)(yi,{}):(0,G.jsx)(K.default,{size:"xl",type:"primary",isDisabled:!0,isLoading:r,children:e.formatMessage({id:"title__swap"})},"noQuote")},wi=function(){var e=(0,b.default)(),t=(0,a.useState)(!1),n=(0,h.default)(t,2),r=n[0],o=n[1],i=(0,Qr.useAppSelector)((function(e){var t;return null==(t=e.swap.quote)?void 0:t.wrapperTxInfo})),l=(0,qa.useSwapQuoteRequestParams)(),s=(0,si.useSwapSend)(),u=(0,a.useCallback)((0,Pt.default)((function*(){if(l&&i){var e=l.tokenIn,t=l.activeAccount;o(!0);try{yield s({networkId:e.networkId,accountId:t.id,encodedTx:i.encodedTx,showSendFeedbackReceipt:!0,onSuccess:function(){var n=(0,Pt.default)((function*(n){var r,o=n.result,a=n.decodedTx,i=yield E.default.engine.getNetwork(e.networkId);a&&i&&(r=(0,Ha.calculateDecodedTxNetworkFee)(a,i)),E.default.dispatch((0,ai.addTransaction)({accountId:t.id,networkId:e.networkId,transaction:{hash:o.txid,from:t.address,addedTime:Date.now(),status:"pending",type:"swap",accountId:t.id,networkId:e.networkId,nonce:null==a?void 0:a.nonce,receivingAccountId:t.id,receivingAddress:t.address,actualReceived:l.typedValue,arrivalTime:30,networkFee:r,tokens:{from:{token:l.tokenIn,networkId:e.networkId,amount:l.typedValue},to:{token:l.tokenOut,networkId:e.networkId,amount:l.typedValue},rate:1}}})),E.default.serviceSwap.clearState()}));return function(e){return n.apply(this,arguments)}}()})}finally{o(!1)}}})),[l,s,i]);return l&&i?(0,G.jsx)(K.default,{size:"xl",type:"primary",onPress:u,isLoading:r,children:"Deposite"===i.type?e.formatMessage({id:"action__wrap"}):e.formatMessage({id:"action__unwrap"})},"baseError"):null},ki=function(){var e=(0,b.default)(),t=(0,qa.useCheckInputBalance)();return t&&t.insufficient?(0,G.jsx)(K.default,{size:"xl",type:"primary",isDisabled:!0,children:e.formatMessage({id:"form__amount_invalid"},{0:t.token.symbol})},"insufficient_balance_error"):(0,G.jsx)(wi,{})},_i=function(){return(0,Qr.useAppSelector)((function(e){var t;return null==(t=e.swap.quote)?void 0:t.wrapperTxInfo}))?(0,G.jsx)(ki,{}):(0,G.jsx)(ji,{})},Oi=function(){var e=(0,b.default)();return(0,Qr.useAppSelector)((function(e){return e.swapTransactions.swapMaintain}))?(0,G.jsx)(K.default,{size:"xl",type:"primary",isDisabled:!0,children:e.formatMessage({id:"action__under_maintaince"})},"swapMaintain"):(0,G.jsx)(_i,{})},Ii=function(){return(0,G.jsx)(di,{children:(0,G.jsx)(Oi,{})})},Si=function(e){var t=e.children,n=(0,p.default)();return(0,G.jsx)(D.default,{px:n?"4":0,children:t})},Ti=n(259924),Ci=n(34035),Mi=function(){var e,t=(0,b.default)(),n=(0,a.useRef)(!1),r=(0,B.useActiveWalletAccount)().wallet,o=(0,B.useAppSelector)((function(e){return e.runtime.accounts})),i=(0,B.useAppSelector)((function(e){return e.swap.outputToken})),l=(0,B.useNetworkSimple)(null==i?void 0:i.networkId),s=(0,ft.useCreateAccountInWallet)({networkId:null==i?void 0:i.networkId,walletId:null==r?void 0:r.id}).createAccount,u=(0,a.useMemo)((function(){return!!i&&(0===(null==r?void 0:r.accounts.length)||(null==r?void 0:r.accounts.every((function(e){return!(0,Ra.isAccountCompatibleWithNetwork)(e,i.networkId)}))))}),[r,i]);return(0,a.useEffect)((function(){function e(){return e=(0,Pt.default)((function*(){if(n.current){var e=(0,Bt.appSelector)((function(e){return e.swap.outputToken}));if(e){var t=yield E.default.engine.getNetwork(e.networkId);E.default.serviceSwap.setRecipientByNetwork(t)}n.current||(n.current=!0)}})),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[o]),u?(0,G.jsx)(D.default,{mt:"6",children:(0,G.jsx)(Ti.default,{title:t.formatMessage({id:"content__you_don_t_have_a_str_account"},{0:null!=(e=null==l?void 0:l.symbol)?e:""}),alertType:"info",action:t.formatMessage({id:"action__create"}),onAction:s,dismiss:!1})}):null},Pi=function(){return(0,qa.useSwapRecipient)()?null:(0,G.jsx)(Mi,{})},Ai=function(){var e=(0,qa.useInputLimitsError)(),t=(0,b.default)(),n=(0,a.useCallback)((function(){null!=e&&e.value&&E.default.serviceSwap.userInput("INPUT",e.value)}),[e]);return e?(0,G.jsx)(D.default,{mt:"6",children:(0,G.jsx)(Ti.default,{title:e.message,alertType:"warn",dismiss:!1,onAction:n,action:t.formatMessage({id:"action__fill_in"})})}):null},Di=function(){var e=(0,b.default)(),t=(0,a.useCallback)((function(){Ea.appUIEventBus.emit(Ea.AppUIEventBusNames.SwapRefresh)}),[]);return(0,G.jsx)(D.default,{mt:"6",children:(0,G.jsx)(Ti.default,{title:e.formatMessage({id:"msg__failed_to_fetch_quotes"}),alertType:"warn",action:e.formatMessage({id:"action__retry"}),onAction:t,dismiss:!1})})},Ri=function(){var e=(0,b.default)();return(0,G.jsx)(D.default,{mt:"6",children:(0,G.jsx)(Ti.default,{title:e.formatMessage({id:"msg__this_transaction_is_not_supported"}),alertType:"warn",dismiss:!1})})},Ei=function(){var e=(0,B.useAppSelector)((function(e){return e.swap.error}));return e===Fa.SwapError.NotSupport?(0,G.jsx)(Ri,{}):e===Fa.SwapError.QuoteFailed?(0,G.jsx)(Di,{}):null},Bi=function(){var e=(0,b.default)();return(0,G.jsx)(D.default,{flexDirection:"row",mt:"6",w:"full",children:(0,G.jsx)(Ti.default,{alertType:"warn",dismiss:!1,containerProps:{width:"full"},title:e.formatMessage({id:"content__do_not_swap_directly_to_the_exchange"}),description:e.formatMessage({id:"content__do_not_swap_directly_to_the_exchange_desc"})})})},Ni=function(){var e=(0,a.useState)(!1),t=(0,h.default)(e,2),n=t[0],r=t[1],o=(0,qa.useSwapRecipient)();return(0,a.useEffect)((function(){E.default.serviceSwap.recipientIsUnknown(o).then(r)}),[o]),n?(0,G.jsx)(Bi,{}):null},Li=function(e){var t=e.value,n=(0,b.default)();return(0,a.useEffect)((function(){function e(){return(e=(0,Pt.default)((function*(){(yield E.default.serviceSwap.getSwapPriceImpactShown())||(E.default.serviceSwap.setSwapPriceImpactShown(!0),(0,pr.showOverlay)((function(e){return(0,G.jsx)(fr.default,{title:n.formatMessage({id:"modal__attention"}),closeOverlay:e,children:(0,G.jsxs)(T.default,{w:"full",children:[(0,G.jsx)(Y.default.Body1,{textAlign:"center",color:"text-subdued",children:n.formatMessage({id:"msg__you_will_swap_tokens_for_10%_less_than_coingecko_s_rate_which_may_result_in_a_loss"},{0:t.toFixed(2)})}),(0,G.jsx)(T.default,{w:"full",mt:"5",children:(0,G.jsx)(K.default,{size:"lg",w:"full",type:"primary",onPress:e,children:n.formatMessage({id:"action__i_got_it"})})})]})})})))}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n,t]),(0,G.jsx)(D.default,{flexDirection:"row",mt:"6",children:(0,G.jsx)(Ti.default,{alertType:"warn",dismiss:!1,containerProps:{width:"full"},title:n.formatMessage({id:"msg__you_will_swap_tokens_for_10%_less_than_coingecko_s_rate_which_may_result_in_a_loss"},{0:t.toFixed(2)})})})},Wi=function(){var e=(0,Ci.usePriceImpact)();return e&&e>10?(0,G.jsx)(Li,{value:e}):null},Fi=function(e){var t=e.value,n=(0,b.default)();return(0,G.jsx)(D.default,{flexDirection:"row",mt:"6",w:"full",children:(0,G.jsx)(Ti.default,{containerProps:{width:"full"},alertType:"warn",dismiss:!1,title:n.formatMessage({id:"msg__current_slippage_str_is_high"},{0:`${t}%`}),description:n.formatMessage({id:"msg__your_trade_may_be_front_run_due_to_the_larger_slippage"})})})},Hi=function(){var e=(0,B.useAppSelector)((function(e){return e.swap.quote})),t=(0,Ci.useSwapSlippage)();if(e&&"custom"===t.mode){var n=Number(t.value);if(!Number.isNaN(n)&&n>=5&&n<50)return(0,G.jsx)(Fi,{value:t.value})}return null},zi=function(){return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(Ni,{}),(0,G.jsx)(Ai,{}),(0,G.jsx)(Pi,{}),(0,G.jsx)(Ei,{}),(0,G.jsx)(Wi,{}),(0,G.jsx)(Hi,{})]})},Ui=(0,a.createContext)((function(){})),Vi=n(503310),$i=n(986514),Gi=["value","onChange","onChangeEnd"];function qi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qi(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Yi=function(e){var t=e.value,n=e.onChange,r=e.onChangeEnd,i=(0,m.default)(e,Gi),l=(0,a.useState)(!1),s=(0,h.default)(l,2),u=s[0],d=s[1],c=(0,o.default)("surface-neutral-subdued"),f=(0,a.useMemo)((function(){return[`${t>=25?100:Math.floor(t/25*100)}%`,`${t>=50?100:Math.floor((t-25)/25*100)}%`,`${t>=75?100:Math.floor((t-50)/25*100)}%`,`${t>=100?100:Math.floor((t-75)/25*100)}%`]}),[t]),p=(0,a.useCallback)((function(e){(0,$i.doHapticsWhenEnabled)(),d(!0),null==n||n(e)}),[n]),x=(0,a.useCallback)((function(e){(0,$i.doHapticsWhenEnabled)(),d(!1),null==n||n(e),null==r||r(e)}),[n,r]),g=Math.min(t,100),b=`${t}%`;return(0,G.jsxs)(Vi.default,Xi(Xi({maxW:"300",value:g,minValue:0,maxValue:100,step:1,onChangeEnd:x,onChange:p,_interactionBox:{borderWidth:0,children:(0,G.jsxs)(D.default,{position:"relative",children:[(0,G.jsx)(D.default,{w:"4",h:"4",bg:"icon-subdued",justifyContent:"center",alignItems:"center",borderRadius:"full",children:(0,G.jsx)(D.default,{w:"3",h:"3",bg:"surface-neutral-default",borderRadius:"full"})}),u?(0,G.jsxs)(D.default,{position:"absolute",zIndex:1,right:0,bottom:8,bg:"surface-neutral-subdued",borderRadius:4,style:{transform:[{translateX:17}]},children:[(0,G.jsx)(D.default,{style:{width:0,height:0,backgroundColor:"transparent",borderStyle:"solid",borderLeftWidth:5,borderRightWidth:5,borderTopWidth:10,borderLeftColor:"transparent",borderRightColor:"transparent",borderTopColor:c,position:"absolute",bottom:-8,right:20}}),(0,G.jsx)(T.default,{p:"1",flexDirection:"row",w:"12",children:(0,G.jsx)(Y.default.CaptionStrong,{color:"text-default",children:b})})]}):null]})}},i),{},{children:[(0,G.jsx)(Vi.default.Track,{position:"relative",children:(0,G.jsxs)(Ot.default,{space:1,w:"full",h:"full",bg:"background-default",children:[(0,G.jsx)(D.default,{flex:"1",bg:"surface-neutral-default",position:"relative",children:(0,G.jsx)(D.default,{position:"absolute",h:"full",bg:"interactive-default",w:f[0]})}),(0,G.jsx)(D.default,{flex:"1",bg:"surface-neutral-default",children:(0,G.jsx)(D.default,{position:"absolute",h:"full",bg:"interactive-default",w:f[1]})}),(0,G.jsx)(D.default,{flex:"1",bg:"surface-neutral-default",children:(0,G.jsx)(D.default,{position:"absolute",h:"full",bg:"interactive-default",w:f[2]})}),(0,G.jsx)(D.default,{flex:"1",bg:"surface-neutral-default",children:(0,G.jsx)(D.default,{position:"absolute",h:"full",bg:"interactive-default",w:f[3]})})]})}),(0,G.jsx)(Vi.default.Thumb,{_pressed:{borderWidth:0,outlineStyle:"none"},_focus:{borderWidth:0,outlineStyle:"none"},_hover:{borderWidth:0,outlineStyle:"none"}})]}))};var Qi=n(103722),Ki=n(307061),Zi=n(174915),Ji=function(e){var t=e.token,n=(0,B.useNetwork)({networkId:t.networkId}).network,r=(null==n?void 0:n.id)===So.OnekeyNetwork.goerli?"Ethereum Testnet":null==n?void 0:n.name;return(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",children:[(0,G.jsxs)(D.default,{position:"relative",children:[(0,G.jsx)(D.default,{mr:"2",w:"8",h:"8",borderRadius:"full",overflow:"hidden",bgColor:"surface-neutral-default",children:(0,G.jsx)(Rt.default,{token:t,size:8,bgColor:"surface-neutral-default"})}),(0,G.jsx)(D.default,{position:"absolute",bottom:0,right:"4px",w:"18px",h:"18px",bgColor:"border-default",justifyContent:"center",alignItems:"center",borderRadius:"full",overflow:"hidden",children:(0,G.jsx)(Wo.default,{size:"4",src:null==n?void 0:n.logoURI})})]}),(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",children:[(0,G.jsxs)(D.default,{children:[(0,G.jsx)(Y.default.DisplayLarge,{color:"text-default",fontSize:24,children:(0,Ha.truncate)(t.symbol,8)}),(0,G.jsx)(Y.default.Body2,{color:"text-subdued",children:null!=r?r:"-"})]}),(0,G.jsx)(D.default,{ml:"1",children:(0,G.jsx)(J.default,{size:16,name:"ChevronDownSolid"})})]})]})};function el(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?el(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):el(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nl=function(){var e,t=(0,b.default)(),n=(0,B.useNavigation)(),r=(0,B.useAppSelector)((function(e){return e.swap.outputTokenNetwork})),i=(0,B.useAppSelector)((function(e){return e.swap.sendingAccount})),l=(0,qa.useSwapRecipient)(),s=(0,a.useState)(),u=(0,h.default)(s,2),d=u[0],c=u[1],p=(0,a.useState)(!1),m=(0,h.default)(p,2),x=m[0],g=m[1],y=(0,o.default)("surface-neutral-default"),j=(0,a.useCallback)((function(){c(void 0),n.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Swap,params:{screen:Fa.SwapRoutes.SelectRecipient,params:{networkId:null==r?void 0:r.id,onSelected:function(e){var t=e.address,n=e.name,o=e.accountId;E.default.dispatch((0,Na.setRecipient)({address:t,name:n,networkId:null==r?void 0:r.id,networkImpl:null==r?void 0:r.impl,accountId:o}))}}}})}),[n,null==r?void 0:r.id,null==r?void 0:r.impl]);(0,a.useEffect)((function(){function e(){return e=(0,Pt.default)((function*(){var e=!1;function n(){return(n=(0,Pt.default)((function*(){var n=yield E.default.serviceSwap.recipientIsUnknown(l);if(g(n),n){if(yield E.default.serviceSwap.getSwapReceivingUnknownShown())return;yield E.default.serviceSwap.setSwapReceivingUnknownShown(!0),c(t.formatMessage({id:"msg__you_are_swapping_asset_to_an_address_that_may_not_be_yours_please_verify"})),e=!0}}))).apply(this,arguments)}function r(){return(r=(0,Pt.default)((function*(){if(null!=i&&i.address&&null!=l&&l.address&&(null==i?void 0:i.address)!==(null==l?void 0:l.address)){if(yield E.default.serviceSwap.getSwapReceivingIsNotSendingAccountShown())return;yield E.default.serviceSwap.setSwapReceivingIsNotSendingAccountShown(!0),c(t.formatMessage({id:"msg__you_have_selected_another_account_to_receive_tokens"}))}}))).apply(this,arguments)}yield function(){return n.apply(this,arguments)}(),e||(yield function(){return r.apply(this,arguments)}())})),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i,l,t]),(0,a.useEffect)((function(){if(d){var e=setTimeout((function(){return c(void 0)}),8e3);return function(){clearTimeout(e)}}}),[d]),(0,v.useFocusEffect)((0,a.useCallback)((function(){return function(){return c(void 0)}}),[]));var w=null!=l?l:{},k=w.address,_=w.name;return k&&_?e=(0,G.jsxs)(D.default,{mr:"1",flexDirection:"row",children:[(0,G.jsx)(Y.default.Body2Strong,{mr:"1",color:x?"text-warning":"text-default",maxW:"120",isTruncated:!0,children:_}),(0,G.jsx)(Y.default.Body2,{color:x?"text-warning":"text-subdued",children:k.slice(-4)})]}):k&&(e=(0,G.jsx)(D.default,{mr:"1",children:(0,G.jsxs)(Y.default.Body2,{color:x?"text-warning":"text-subdued",children:[t.formatMessage({id:"form__unknown"})," ",(0,wo.shortenAddress)(k)]})})),k?(0,G.jsxs)(D.default,{position:"relative",children:[d?(0,G.jsxs)(D.default,{position:"relative",children:[(0,G.jsx)(Le.default,{style:{height:S.default.hairlineWidth,width:210}}),(0,G.jsxs)(D.default,{position:"absolute",zIndex:1,bottom:"2",left:"1",bg:"surface-neutral-default",borderRadius:12,width:"56",children:[(0,G.jsx)(D.default,{style:{width:0,height:0,backgroundColor:"transparent",borderStyle:"solid",borderLeftWidth:5,borderRightWidth:5,borderTopWidth:10,borderLeftColor:"transparent",borderRightColor:"transparent",borderTopColor:y,position:"absolute",bottom:-10,left:14}}),(0,G.jsx)(D.default,{p:"3",children:(0,G.jsx)(Y.default.Body2,{children:d})})]})]}):null,(0,G.jsx)(D.default,{flexDirection:"row",children:(0,G.jsx)(Z.default,{flexDirection:"row",borderRadius:12,alignItems:"center",onPress:j,_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},position:"relative",children:(0,G.jsxs)(D.default,{py:"1",px:"2",flexDirection:"row",alignItems:"center",children:[e,(0,G.jsx)(J.default,{size:16,name:"ChevronDownSolid"})]})})})]}):(0,G.jsx)(Z.default,{flexDirection:"row",alignItems:"center",onPress:j,children:(0,G.jsx)(D.default,{flexDirection:"row",py:"1",px:"2",borderRadius:"12",children:(0,G.jsx)(Y.default.Caption,{color:"text-default",mr:"1",numberOfLines:1,children:t.formatMessage({id:"title__choose_an_account"})})})})},rl=function(){var e=(0,B.useAppSelector)((function(e){return e.swap.outputToken})),t=(0,qa.useSwapRecipient)(),n=(0,Zi.useTokenBalance)(e,null==t?void 0:t.accountId),r=null!=n?n:"0",o=(0,Ha.formatAmount)(r,6);return r&&0!==Number(r)&&!Number.isNaN(+r)||(o="0"),(0,G.jsxs)(D.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",zIndex:1,children:[(0,G.jsx)(nl,{}),(0,G.jsx)(Z.default,{rounded:"xl",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},p:"2",children:(0,G.jsx)(D.default,{flexDirection:"row",alignItems:"center",children:(0,G.jsx)(Y.default.Caption,{color:"text-subdued",fontWeight:500,children:e?`${o} ${e.symbol.toUpperCase()}`:"-"})})})]})},ol=function(){var e=(0,B.useAppSelector)((function(e){return e.swap.inputToken})),t=(0,B.useAppSelector)((function(e){return e.swap.outputToken})),n=(0,B.useAppSelector)((function(e){return e.swap.allowAnotherRecipientAddress}));if(e&&t&&!(0,Ha.recipientMustBeSendingAccount)(e,t,n))return(0,G.jsx)(rl,{});return null},al=function(){var e=(0,b.default)(),t=(0,B.useNavigation)(),n=(0,B.useAppSelector)((function(e){return e.swap.inputToken})),r=(0,B.useAppSelector)((function(e){return e.swap.outputToken})),o=(0,B.useAppSelector)((function(e){return e.swap.allowAnotherRecipientAddress})),i=(0,a.useCallback)((function(){var e=!o;e?t.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Swap,params:{screen:Fa.SwapRoutes.SelectRecipient,params:{networkId:null==r?void 0:r.networkId,onSelected:function(t){var n=t.address,o=t.name,a=t.accountId;E.default.dispatch((0,Na.setRecipient)({address:n,name:o,networkId:null==r?void 0:r.networkId,networkImpl:(0,Ha.getNetworkIdImpl)(null==r?void 0:r.networkId),accountId:a})),E.default.dispatch((0,Na.setAllowAnotherRecipientAddress)(e))}}}}):E.default.dispatch((0,Na.setAllowAnotherRecipientAddress)(e))}),[o,r,t]);if(n&&r&&(0,Ha.shouldShowAllowRecipientAddressInput)(n,r))return(0,G.jsxs)(D.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",p:"2",children:[(0,G.jsx)(Y.default.Body2,{color:"text-subdued",children:e.formatMessage({id:"form__swap_to_another_address"})}),(0,G.jsx)(D.default,{children:(0,G.jsx)(Ki.default,{labelType:"false",size:"mini",onToggle:i,isChecked:o})})]});return null};const il=function(e){var t=e.inputValue,n=e.onPress,r=e.onChange,o=e.containerProps,a=e.isDisabled,i=(0,b.default)(),l=(0,B.useAppSelector)((function(e){return e.swap.outputToken})),s=(0,Zi.useTokenPrice)(l),u=(0,B.useAppSelector)((function(e){return e.swap.loading})),d=(0,B.useAppSelector)((function(e){return e.swap.independentField}));return(0,G.jsx)(D.default,tl(tl({},o),{},{position:"relative",children:(0,G.jsxs)(D.default,{position:"relative",children:[(0,G.jsxs)(D.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",children:[(0,G.jsx)(Z.default,{onPress:function(){a||null==n||n()},flexDirection:"row",alignItems:"center",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},borderRadius:12,p:"2",children:l?(0,G.jsx)(Ji,{token:l}):(0,G.jsx)(D.default,{children:(0,G.jsx)(Y.default.DisplayMedium,{fontWeight:600,children:i.formatMessage({id:"title__select_a_token"})})})}),(0,G.jsx)(D.default,{flex:"1",flexDirection:"row",h:"full",justifyContent:"flex-end",position:"relative",children:"INPUT"===d&&u?(0,G.jsx)(D.default,{minH:"12",h:"full",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",children:(0,G.jsx)(D.default,{h:"4",width:"24",borderRadius:"2px",overflow:"hidden",children:(0,G.jsx)(Tr.default,{})})}):(0,G.jsx)(D.default,{position:"absolute",w:"full",top:"0",right:"0",children:(0,G.jsxs)(D.default,{w:"full",position:"relative",children:[(0,G.jsx)(D.default,{position:"absolute",bottom:"26px",right:2,children:(0,G.jsx)(D.default,{pointerEvents:"none",children:(0,G.jsx)(Y.default.Body2,{color:"text-subdued",numberOfLines:2,children:(0,G.jsx)(ca.FormatCurrency,{numbers:[null!=s?s:0,null!=t?t:0],render:function(e){return(0,G.jsx)(Y.default.Body2,{ml:3,color:"text-subdued",children:s?e:"-"})}})})})}),(0,G.jsx)(Qi.default,{w:"full",h:"auto",borderWidth:0,placeholder:"0.00",fontSize:24,fontWeight:"600",bg:"transparent",_disabled:{bg:"transparent"},_hover:{bg:"transparent"},_focus:{bg:"transparent"},value:t,borderRadius:0,onChangeText:r,pr:"2",pb:"12",textAlign:"right",isReadOnly:!0,rightCustomElement:null,focusOutlineColor:"transparent"})]})})})]}),(0,G.jsx)(al,{}),(0,G.jsx)(ol,{})]})}))};function ll(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ll(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ll(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ul=function(e){var t=e.account,n=e.token,r=(0,b.default)(),o=(0,B.useNavigation)(),i=(0,a.useCallback)((function(){o.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Swap,params:{screen:Fa.SwapRoutes.SelectSendingAccount,params:{networkId:null==n?void 0:n.networkId,accountId:(0,Bt.appSelector)((function(e){var t;return null==(t=e.swap.sendingAccount)?void 0:t.id})),onSelected:function(e){E.default.dispatch((0,Na.setSendingAccount)(e))}}}})}),[n,o]);return(0,G.jsx)(Z.default,{borderRadius:"12",overflow:"hidden",onPress:i,_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},children:t?(0,G.jsxs)(D.default,{py:"1",px:"2",flexDirection:"row",borderRadius:"12",alignItems:"center",children:[(0,G.jsxs)(D.default,{flexDirection:"row",mr:"1",children:[(0,G.jsx)(Y.default.Body2Strong,{mr:"1",maxW:"120",isTruncated:!0,children:t.name}),(0,G.jsx)(Y.default.Body2,{color:"text-subdued",children:t.address.slice(-4)})]}),(0,G.jsx)(J.default,{size:16,name:"ChevronDownSolid"})]}):(0,G.jsx)(D.default,{py:"1",px:"2",borderRadius:"12",children:(0,G.jsx)(Y.default.CaptionStrong,{color:"text-default",children:r.formatMessage({id:"title__choose_an_account"})})})})};const dl=function(e){var t=e.inputValue,n=e.onPress,r=e.onChange,o=e.containerProps,i=e.type,l=e.isDisabled,s=(0,b.default)(),u=(0,B.useAppSelector)((function(e){return e.swap.inputToken})),d=(0,B.useAppSelector)((function(e){return e.swap.sendingAccount})),c=(0,Zi.useTokenBalance)(u,null==d?void 0:d.id),f=(0,B.useAppSelector)((function(e){return e.swap.loading})),p=(0,B.useAppSelector)((function(e){return e.swap.independentField})),m=(0,Zi.useTokenPrice)(u),h=null!=c?c:"0",x=(0,a.useCallback)((0,Pt.default)((function*(){var e;if(u&&h)if(u.tokenIdOnNetwork)E.default.serviceSwap.userInput(i,h);else{var t=yield E.default.serviceSwap.getBasicGasFeeWithTimeout(u.networkId),n="0";if(d)try{n=yield(e={accountId:d.id,networkId:u.networkId},new Promise((function(t){E.default.servicePassword.getPassword().then((function(t){return E.default.engine.getFrozenBalance({accountId:e.accountId,networkId:e.networkId,password:t})})).then((function(e){var n,r="number"===typeof e?e:null!=(n=null==e?void 0:e[u.id])?n:0;t(String(r))})),setTimeout((function(){return t("0")}),500)})))}catch(Mg){V.default.swap.info("failed to get frozen balanace",Mg.message)}var r=Dt().max(0,new(Dt())(h).minus(t).minus(n));r.gt(0)?E.default.serviceSwap.userInput(i,r.toFixed()):Number(h)>0&&(dt.default.show({title:s.formatMessage({id:"msg__suggest_reserving_str_as_gas_fee"},{0:`${t} ${u.symbol.toUpperCase()}`})},{type:"error"}),E.default.serviceSwap.userInput(i,h))}})),[u,h,i,s,d]),g=(0,Ha.formatAmount)(h,6);return h&&0!==Number(h)&&!Number.isNaN(+h)||(g="0"),(0,G.jsx)(D.default,sl(sl({},o),{},{position:"relative",children:(0,G.jsxs)(D.default,{position:"relative",children:[(0,G.jsxs)(D.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[(0,G.jsx)(ul,{account:d,token:u}),(0,G.jsx)(Z.default,{onPress:function(){l||x()},rounded:"xl",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},p:"2",children:(0,G.jsx)(D.default,{flexDirection:"row",alignItems:"center",children:(0,G.jsx)(Y.default.Caption,{color:"text-subdued",fontWeight:500,children:u?`${g} ${(0,Ha.truncate)(u.symbol.toUpperCase(),8)}`:"-"})})})]}),(0,G.jsxs)(D.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",mt:"1",children:[(0,G.jsx)(Z.default,{onPress:n,flexDirection:"row",alignItems:"center",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},borderRadius:12,p:"2",children:u?(0,G.jsx)(Ji,{token:u}):(0,G.jsx)(D.default,{children:(0,G.jsx)(Y.default.DisplayMedium,{fontWeight:600,children:s.formatMessage({id:"title__select_a_token"})})})}),(0,G.jsx)(D.default,{flex:"1",flexDirection:"row",h:"full",justifyContent:"flex-end",position:"relative",children:"OUTPUT"===p&&f?(0,G.jsx)(D.default,{h:"full",minH:"12",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",children:(0,G.jsx)(D.default,{h:"4",width:"24",borderRadius:"2px",overflow:"hidden",children:(0,G.jsx)(Tr.default,{})})}):(0,G.jsx)(D.default,{position:"absolute",w:"full",top:"0",right:"0",children:(0,G.jsxs)(D.default,{w:"full",position:"relative",children:[(0,G.jsx)(D.default,{position:"absolute",bottom:"26px",right:2,children:(0,G.jsx)(D.default,{pointerEvents:"none",children:(0,G.jsx)(Y.default.Body2,{color:"text-subdued",numberOfLines:2,children:(0,G.jsx)(ca.FormatCurrency,{numbers:[null!=m?m:0,null!=t?t:0],render:function(e){return(0,G.jsx)(Y.default.Body2,{ml:3,color:"text-subdued",children:m?e:"-"})}})})})}),(0,G.jsx)(Qi.default,{w:"full",h:"auto",borderWidth:0,placeholder:"0.00",fontSize:24,fontWeight:"600",bg:"transparent",_disabled:{bg:"transparent"},_hover:{bg:"transparent"},_focus:{bg:"transparent"},value:t,borderRadius:0,onChangeText:r,pb:"12",focusOutlineColor:"transparent",pr:"2",textAlign:"right",isDisabled:l,rightCustomElement:null})]})})})]})]})}))};var cl=function(){var e=(0,B.useAppSelector)((function(e){return e.swap.inputToken})),t=(0,B.useAppSelector)((function(e){return e.swap.sendingAccount})),n=(0,Zi.useTokenBalance)(e,null==t?void 0:t.id),r=(0,B.useAppSelector)((function(e){return e.swap.typedValue})),o=(0,a.useMemo)((function(){if(n&&r){var e=new(Dt())(n),t=new(Dt())(r);if(e.gt(0)&&t.gt(0)){var o=t.div(e).multipliedBy(100).toNumber();return Math.ceil(o)}}return 0}),[n,r]),i=(0,a.useCallback)((function(e){if(n){var t=(0,Ha.div)((0,Ha.multiply)(n,e),100);e<100&&(t=(0,Ha.formatAmountExact)(t)),E.default.serviceSwap.userInput("INPUT",t)}}),[n]),l=(0,a.useContext)(Ui),s=(0,a.useCallback)((function(){0}),[l]),u=(0,a.useCallback)((function(){0}),[l]);return(0,G.jsx)(T.default,{h:"10",w:"48",children:(0,G.jsx)(D.default,{style:{transform:[{translateY:2}]},w:"full",children:(0,G.jsx)(Yi,{onTouchStart:s,onChangeEnd:u,value:o,onChange:i})})})},fl=function(){return(0,G.jsx)(et.LazyDisplayView,{delay:100,children:(0,G.jsx)(cl,{})})},pl=function(){var e=(0,a.useState)(!1),t=(0,h.default)(e,2),n=t[0],r=t[1],o=(0,B.useAppSelector)((function(e){return e.swap.loading})),i=(0,a.useCallback)((0,Pt.default)((function*(){try{r(!0),yield E.default.serviceSwap.switchTokens()}finally{r(!1)}})),[]);return(0,G.jsx)(T.default,{w:"10",h:"10",bg:"background-default",borderRadius:"full",overflow:"hidden",children:(0,G.jsx)(It.default,{w:35,h:35,borderColor:"background-default",isDisabled:o||n,name:"ArrowDownOutline",borderRadius:"full",_disabled:{borderColor:"background-default"},onPress:i,size:"lg",bgColor:"surface-neutral-subdued"})})},ml=function(){var e=(0,b.default)(),t=(0,p.default)(),n=(0,B.useNavigation)(),r=(0,B.useAppSelector)((function(e){return e.swap.independentField})),o=(0,B.useAppSelector)((function(e){return e.swap.loading})),i=(0,B.useActiveWalletAccount)(),l=i.wallet,s=i.network,u=(0,B.useAppSelector)((function(e){return e.swapTransactions.swapMaintain})),d=(0,qa.useDerivedSwapState)().formattedAmounts,c=!l||!s||u,m=(0,a.useCallback)((function(){n.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Swap,params:{screen:Fa.SwapRoutes.Input}})}),[n]),h=(0,a.useCallback)((function(){n.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Swap,params:{screen:Fa.SwapRoutes.OutputCrosschain}})}),[n]),x=(0,a.useCallback)((function(e){E.default.serviceSwap.userInput("INPUT",e)}),[]),g=(0,a.useCallback)((function(e){E.default.serviceSwap.userInput("OUTPUT",e)}),[]),v=(0,a.useMemo)((function(){return{upper:{pb:"0"},lower:{pt:"0"}}}),[]);return(0,G.jsx)(D.default,{w:"full",children:(0,G.jsxs)(D.default,{position:"relative",borderRadius:t?void 0:"12",overflow:"hidden",children:[(0,G.jsx)(D.default,{px:2,pt:"3",pb:"5",bg:"surface-subdued",overflow:"hidden",children:(0,G.jsx)(dl,{type:"INPUT",label:e.formatMessage({id:"form__pay"}),inputValue:d.INPUT,onChange:x,onPress:m,containerProps:v.upper,isDisabled:o&&"OUTPUT"===r})}),(0,G.jsx)(D.default,{w:"full",position:"relative",h:"1",bg:"background-default",zIndex:1,children:(0,G.jsxs)(D.default,{position:"absolute",w:"full",h:"10",top:-20,left:0,children:[(0,G.jsx)(D.default,{position:"absolute",top:"0",left:"4",children:(0,G.jsx)(pl,{})}),(0,G.jsx)(D.default,{position:"absolute",top:"0",right:"4",children:(0,G.jsx)(fl,{})})]})}),(0,G.jsx)(D.default,{px:2,pb:"3",pt:"5",bg:"action-secondary-default",overflow:"hidden",children:(0,G.jsx)(il,{type:"OUTPUT",label:e.formatMessage({id:"action__receive"}),inputValue:d.OUTPUT,onChange:g,onPress:h,containerProps:v.lower})}),c?(0,G.jsx)(D.default,{w:"full",h:"full",position:"absolute",zIndex:1}):null]})})},hl=n(527984),xl=n(821919),gl=n(277170),bl=n(465760),vl=n(785358),yl=n(79694);const jl=function(){var e=(0,Fo.default)().themeVariant,t=(0,v.useIsFocused)(),r=15e3,o=(0,a.useRef)(new vl.default.Value(0)).current,i=(0,a.useRef)(new vl.default.Value(0)).current,l=(0,B.useAppSelector)((function(e){return e.swap.loading})),s=(0,a.useCallback)((function(){var e=(0,Bt.appSelector)((function(e){return e.swap.quoteLimited}));Wa.submited||e||!t||(o.setValue(0),vl.default.timing(o,{toValue:-1,duration:1e3,useNativeDriver:!0}).start((function(){Ea.appUIEventBus.emit(Ea.AppUIEventBusNames.SwapRefresh)})))}),[o,t]);return(0,a.useEffect)((function(){var e=i.addListener((function(e){e.value===r&&s()}));return function(){return i.removeListener(e)}}),[s,i]),(0,a.useEffect)((function(){vl.default.timing(i,{toValue:r,duration:r,useNativeDriver:!0}).start()}),[i]),(0,a.useEffect)((function(){t&&(Number(i._value)===r&&setTimeout((function(){return Ea.appUIEventBus.emit(Ea.AppUIEventBusNames.SwapRefresh)}),100))}),[t,i]),(0,G.jsx)(yl.default,{onPress:s,isDisabled:l,children:(0,G.jsx)(vl.default.View,{style:{transform:[{rotate:o.interpolate({inputRange:[0,1],outputRange:["0deg","360deg"]})}]},children:(0,G.jsx)(T.default,{w:"5",h:"5",children:(0,G.jsx)(bl.default,{autoPlay:!0,width:20,source:n("light"===e?889037:89170)})})})})};var wl=["children"];function kl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kl(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ol=function(e){var t=e.children,n=(0,m.default)(e,wl);return(0,B.useAppSelector)((function(e){return e.swap.loading}))?(0,G.jsx)(D.default,_l(_l({overflow:"hidden"},n),{},{children:(0,G.jsx)(Tr.default,{})})):(0,G.jsx)(D.default,{children:t})},Il=n(695662);const Sl=function(e){var t=e.label;return(0,G.jsx)(C.Tooltip,{hasArrow:!0,_text:{maxW:"80"},label:t,placement:"top",children:(0,G.jsx)(Z.default,{borderRadius:"full",p:"2px",position:"relative",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},children:(0,G.jsx)(J.default,{color:"text-subdued",name:"QuestionMarkCircleOutline",size:16})})})};var Tl=n(204230),Cl=n(799126),Ml=function(e){var t=e.onClose,n=(0,b.default)(),r=(0,B.useAppSelector)((function(e){return e.settings.disableSwapExactApproveAmount})),o=(0,a.useState)(!!r),i=(0,h.default)(o,2),l=i[0],s=i[1];return(0,G.jsxs)(hl.default,{direction:"column",space:"2",children:[(0,G.jsxs)(Z.default,{_hover:{bg:"surface-hovered"},px:4,py:2,borderRadius:12,_pressed:{bg:"surface-pressed"},w:"full",onPress:function(){return s(!1)},children:[(0,G.jsx)(Y.default.Body1Strong,{children:n.formatMessage({id:"form__exact_amount"})}),(0,G.jsxs)(D.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[(0,G.jsx)(Y.default.Body1Strong,{color:"text-subdued",children:n.formatMessage({id:"content__approve_the_amount_to_tokens_to_be_sent"})}),(0,G.jsx)(T.default,{w:"5",children:l?null:(0,G.jsx)(J.default,{name:"CheckMini",size:20,color:"text-success"})})]})]}),(0,G.jsxs)(Z.default,{_hover:{bg:"surface-hovered"},px:4,py:2,borderRadius:12,_pressed:{bg:"surface-pressed"},w:"full",onPress:function(){return s(!0)},children:[(0,G.jsx)(Y.default.Body1Strong,{children:n.formatMessage({id:"form__unlimited"})}),(0,G.jsxs)(D.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[(0,G.jsx)(Y.default.Body1Strong,{color:"text-subdued",children:n.formatMessage({id:"content__you_dont_need _to_approve_again_in_the_future"})}),(0,G.jsx)(T.default,{w:"5",children:l?(0,G.jsx)(J.default,{name:"CheckMini",size:20,color:"text-success"}):null})]})]}),(0,G.jsx)(K.default,{size:"xl",type:"primary",onPress:function(){E.default.dispatch((0,xl.setDisableSwapExactApproveAmount)(l)),t()},children:n.formatMessage({id:"action__done"})})]})},Pl=function(){var e=(0,b.default)(),t=(0,B.useAppSelector)((function(e){return e.swap.quote})),n=(0,B.useAppSelector)((function(e){return e.settings.disableSwapExactApproveAmount})),r=(0,a.useCallback)((function(){(0,pr.showOverlay)((function(t){return(0,G.jsx)(fr.default,{title:e.formatMessage({id:"form__approval"}),closeOverlay:t,children:(0,G.jsx)(Ml,{onClose:t})})}))}),[e]);return t&&t.needApproved?(0,G.jsxs)(D.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"9",children:[(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",children:[(0,G.jsx)(Y.default.Body2,{color:"text-subdued",mr:"1",children:e.formatMessage({id:"form__approval"})}),(0,G.jsx)(Sl,{label:e.formatMessage({id:"form__exact_amount_allowance_desc"})})]}),(0,G.jsx)(D.default,{flex:"1",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",children:(0,G.jsxs)(Z.default,{flexDirection:"row",alignItems:"center",onPress:r,children:[(0,G.jsx)(Y.default.Body2,{mr:"1",color:"text-default",children:n?e.formatMessage({id:"form__unlimited"}):e.formatMessage({id:"form__exact_amount"})}),(0,G.jsx)(J.default,{size:16,name:"ChevronRightOutline"})]})})]}):null},Al=function(){var e=(0,b.default)(),t=(0,a.useMemo)((function(){return[{text:`\ud83d\ude85 ${e.formatMessage({id:"form__high"})}`,value:"2"},{text:`\ud83d\ude95 ${e.formatMessage({id:"form__normal"})}`,value:"1"},{text:`\ud83d\udeb4\ud83c\udffb ${e.formatMessage({id:"form__low"})}`,value:"0"}]}),[e]),n=(0,B.useAppSelector)((function(e){return e.swapTransactions.swapFeePresetIndex})),r=(0,a.useCallback)((function(){(0,pr.showOverlay)((function(n){return(0,G.jsx)(fr.default,{title:e.formatMessage({id:"form__gas_fee_settings"}),closeOverlay:n,children:(0,G.jsx)(hl.default,{direction:"column",space:"2",children:t.map((function(e){return(0,G.jsx)(Z.default,{_hover:{bg:"surface-hovered"},px:4,py:2,borderRadius:12,_pressed:{bg:"surface-pressed"},w:"full",onPress:function(){E.default.serviceSwap.setSwapFeePresetIndex(e.value),n()},children:(0,G.jsx)(Y.default.DisplayMedium,{children:e.text})},e.value)}))})})}))}),[t,e]),o=(0,a.useMemo)((function(){var e=t.findIndex((function(e){return e.value===n}));return-1===e&&(e=1),t[e].text}),[t,n]);return(0,G.jsxs)(D.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"9",children:[(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",children:[(0,G.jsx)(Y.default.Body2,{color:"text-subdued",mr:"1",children:e.formatMessage({id:"form__network_fee"})}),(0,G.jsx)(Sl,{label:e.formatMessage({id:"form__network_fee_desc"})})]}),(0,G.jsx)(D.default,{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",children:(0,G.jsxs)(Z.default,{flexDirection:"row",alignItems:"center",onPress:r,children:[(0,G.jsx)(Y.default.Body2,{mr:"1",color:"text-default",children:o}),(0,G.jsx)(J.default,{size:16,name:"ChevronRightOutline"})]})})]})},Dl=function(){var e,t=(0,B.useAppSelector)((function(e){return e.swap.inputToken})),n=(0,B.useNetwork)({networkId:null==t?void 0:t.networkId}).network;return null!=n&&null!=(e=n.settings)&&e.feeInfoEditable?(0,G.jsx)(Al,{}):null},Rl=function(){var e=(0,b.default)(),t=(0,Ci.useSwapMinimumReceivedAmount)(),n=(0,B.useAppSelector)((function(e){return e.swap.outputToken}));if(n&&t){var r=(0,Ha.getTokenAmountValue)(n,String(t));return(0,G.jsxs)(D.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"9",children:[(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",children:[(0,G.jsx)(Y.default.Body2,{color:"text-subdued",mr:"1",children:e.formatMessage({id:"form__minimum_received"})}),(0,G.jsx)(Sl,{label:e.formatMessage({id:"form__minimum_received_desc"})})]}),(0,G.jsx)(D.default,{flex:"1",flexDirection:"row",justifyContent:"flex-end",children:(0,G.jsx)(Ol,{h:"5",width:"24",borderRadius:"4px",children:(0,G.jsxs)(Y.default.Body2,{color:"text-default",children:[r.toFixed(4)," ",n.symbol.toUpperCase()]})})})]})}return null},El=function(){var e=(0,b.default)(),t=(0,B.useAppSelector)((function(e){return e.swap.quote}));if(!t)return null;var n=Number(t.estimatedPriceImpact);if(0===n||Number.isNaN(n))return null;var r=`${(0,Ha.formatAmount)(null==t?void 0:t.estimatedPriceImpact,4)}%`;return(0,G.jsxs)(D.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"9",children:[(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",children:[(0,G.jsx)(Y.default.Body2,{color:"text-subdued",mr:"1",children:e.formatMessage({id:"title__price_impact"})}),(0,G.jsx)(Sl,{label:e.formatMessage({id:"form__price_impact_desc"})})]}),(0,G.jsx)(D.default,{flex:"1",flexDirection:"row",justifyContent:"flex-end",children:(0,G.jsx)(Y.default.Body2,{color:"text-default",children:r})})]})},Bl=function(){var e=(0,b.default)(),t=(0,B.useAppSelector)((function(e){var t;return null==(t=e.swap.quote)?void 0:t.protocolFees}));if(t){var n=(0,Ha.calculateProtocalsFee)(t);if(Number(n.value)>0)return(0,G.jsxs)(D.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"9",children:[(0,G.jsx)(D.default,{flexDirection:"row",alignItems:"center",children:(0,G.jsx)(Y.default.Body2,{color:"text-subdued",mr:"2",children:e.formatMessage({id:"form__bridge_fee"})})}),(0,G.jsx)(D.default,{flex:"1",flexDirection:"row",justifyContent:"flex-end",children:(0,G.jsx)(Y.default.Body2,{color:"text-default",children:`${(0,Ha.formatAmount)(n.value,8)} ${n.symbol.toUpperCase()}`})})]})}return null},Nl=function(){var e=(0,b.default)(),t=(0,B.useNavigation)(),n=(0,B.useAppSelector)((function(e){return e.swap.quote})),r=(0,B.useAppSelector)((function(e){return e.swap.quoteLimited})),o=(0,B.useAppSelector)((function(e){return e.swap.responses})),i=(0,a.useCallback)((function(){t.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Swap,params:{screen:Fa.SwapRoutes.SelectRoutes}})}),[t]);return n?(0,G.jsxs)(D.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"9",children:[(0,G.jsx)(Y.default.Body2,{color:"text-subdued",mr:"2",children:e.formatMessage({id:"form__smart_router"})}),(0,G.jsx)(D.default,{flex:"1",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",children:(0,G.jsx)(Ol,{h:"5",width:"24",borderRadius:"4px",children:(0,G.jsxs)(Z.default,{onPress:i,disabled:!!r,flexDirection:"row",justifyContent:"flex-end",alignItems:"center",children:[(0,G.jsx)(Il.default,{providers:n.providers,typography:"Body2",color:"text-default"}),r||o&&1===(null==o?void 0:o.length)?null:(0,G.jsx)(J.default,{size:16,name:"ChevronRightOutline"})]})})})]}):null},Ll=function(){var e=(0,b.default)(),t=(0,B.useNavigation)(),n=(0,Ci.useSwapSlippage)(),r=n.mode,o=n.value,i=(0,a.useCallback)((function(){t.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Swap,params:{screen:Fa.SwapRoutes.Slippage}})}),[t]);return(0,G.jsxs)(D.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"9",children:[(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",children:[(0,G.jsx)(Y.default.Body2,{color:"text-subdued",mr:"1",children:e.formatMessage({id:"title__slippage"})}),(0,G.jsx)(Sl,{label:e.formatMessage({id:"form__slippage_desc"})})]}),(0,G.jsx)(D.default,{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",children:(0,G.jsxs)(Z.default,{flexDirection:"row",onPress:i,children:[(0,G.jsxs)(Y.default.Body2,{mr:"1",color:"text-default",children:["auto"===r?e.formatMessage({id:"form__auto"}):null,"(",o,"%)"]}),(0,G.jsx)(J.default,{size:16,name:"ChevronRightOutline"})]})})]})},Wl=function(){var e=(0,B.useAppSelector)((function(e){return e.swap.quote}));return!e||e.notImpactBySlippage?null:(0,G.jsx)(Ll,{})},Fl=function(){var e=(0,b.default)(),t=(0,B.useAppSelector)((function(e){return e.swap.quote}));return t?(0,G.jsxs)(D.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"9",children:[(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",children:[(0,G.jsx)(Y.default.Body2,{color:"text-subdued",mr:"1",children:e.formatMessage({id:"form__included_onekey_fee"})}),(0,G.jsx)(Sl,{label:e.formatMessage({id:"form__included_onekey_fee_desc"})})]}),(0,G.jsx)(D.default,{flex:"1",flexDirection:"row",justifyContent:"flex-end",children:(0,G.jsx)(Tl.default,{type:t.type,percentageFee:t.percentageFee,typography:"Body2",color:"text-default"})})]}):null},Hl=function(){var e=(0,b.default)(),t=(0,B.useAppSelector)((function(e){var t;return null==(t=e.swap.quote)?void 0:t.arrivalTime}));return(0,G.jsxs)(D.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",h:"9",children:[(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",children:[(0,G.jsx)(Y.default.Body2,{color:"text-subdued",mr:"1",children:e.formatMessage({id:"title__arrival_time"})}),(0,G.jsx)(Sl,{label:e.formatMessage({id:"form__arrival_time_desc"})})]}),(0,G.jsx)(D.default,{flex:"1",flexDirection:"row",justifyContent:"flex-end",children:(0,G.jsx)(gl.ArrivalTime,{value:t,typography:"Body2",color:"text-default"})})]})},zl=function(){var e=(0,b.default)(),t=(0,B.useAppSelector)((function(e){return e.swap.quote}));return t?(0,G.jsxs)(D.default,{mt:"2",children:[(0,G.jsx)(kn.default,{}),(0,G.jsx)(D.default,{py:"4",children:(0,G.jsx)(Y.default.Body2,{color:"text-subdued",children:e.formatMessage({id:"content__by_submitting_this_order_you_are_confirming_a_swap_powered_by_str_api"},{0:(0,Ha.normalizeProviderName)(t.type)})})})]}):null},Ul=function(){var e=(0,B.useAppSelector)((function(e){return e.swap.quote})),t=(0,B.useAppSelector)((function(e){return e.swap.inputToken})),n=(0,B.useAppSelector)((function(e){return e.swap.outputToken}));return e?(0,G.jsx)(T.default,{py:"3",children:(0,G.jsx)(Ol,{h:"5",width:"24",borderRadius:"4px",children:(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",children:[(0,G.jsx)(D.default,{mr:"1",children:(0,G.jsx)(jl,{})}),(0,G.jsx)(Cl.default,{tokenA:t,tokenB:n,rate:null==e?void 0:e.instantRate,typography:"Body2",color:"text-default"})]})})}):null},Vl=function(){var e=(0,b.default)(),t=(0,B.useAppSelector)((function(e){return e.swap.showMoreQuoteDetail})),n=(0,a.useCallback)((function(){E.default.serviceSwap.setShowMoreQuoteDetail(!0)}),[]),r=(0,a.useCallback)((function(){E.default.serviceSwap.setShowMoreQuoteDetail(!1)}),[]);return t?(0,G.jsxs)(D.default,{children:[(0,G.jsxs)(D.default,{children:[(0,G.jsx)(D.default,{py:"4",children:(0,G.jsx)(kn.default,{})}),(0,G.jsx)(Pl,{}),(0,G.jsx)(Wl,{}),(0,G.jsx)(El,{}),(0,G.jsx)(Bl,{}),(0,G.jsx)(Fl,{}),(0,G.jsx)(Hl,{})]}),(0,G.jsx)(T.default,{h:"9",children:(0,G.jsx)(K.default,{iconColor:"text-subdued",rightIconName:"ChevronUpMini",_text:{color:"text-subdued"},type:"plain",onPress:r,children:e.formatMessage({id:"action__collapse"})},"collapse")})]}):(0,G.jsx)(T.default,{h:"9",children:(0,G.jsx)(K.default,{iconColor:"text-subdued",rightIconName:"ChevronDownMini",_text:{color:"text-subdued"},type:"plain",onPress:n,children:e.formatMessage({id:"action__expand"})},"expand")})},$l=function(){return(0,G.jsxs)(D.default,{children:[(0,G.jsx)(Ul,{}),(0,G.jsx)(Dl,{}),(0,G.jsx)(Nl,{}),(0,G.jsx)(Rl,{}),(0,G.jsx)(Vl,{}),(0,G.jsx)(zl,{})]})},Gl=function(){return(0,G.jsx)(D.default,{children:(0,G.jsx)(Dl,{})})},ql=function(){var e=(0,B.useAppSelector)((function(e){return e.swap.quote}));return e?e.wrapperTxInfo?(0,G.jsx)(Gl,{}):(0,G.jsx)($l,{}):null};function Xl(){return(0,a.useEffect)((function(){var e=function(){var e=(0,Pt.default)((function*(){(yield ri())&&(yield(0,Pn.wait)(2e3),oi())}));return function(){return e.apply(this,arguments)}}();return Ea.appUIEventBus.on(Ea.AppUIEventBusNames.SwapAddTransaction,e),function(){Ea.appUIEventBus.off(Ea.AppUIEventBusNames.SwapAddTransaction,e)}}),[]),(0,G.jsxs)(D.default,{children:[(0,G.jsx)(ml,{}),(0,G.jsxs)(Si,{children:[(0,G.jsx)(zi,{}),(0,G.jsx)(D.default,{mt:"6",mb:"3",children:(0,G.jsx)(Ii,{})}),(0,G.jsx)(ql,{})]})]})}var Yl=function(e){var t=e.tokenId,n=e.networkId;return(0,a.useEffect)((function(){function e(){return e=(0,Pt.default)((function*(){if(!(0,da.isAllNetworks)(n)){var e=yield E.default.engine.ensureTokenInDB(n,t),r=(0,Bt.appSelector)((function(e){return e.swap.inputToken}));if(!(!e||r&&(0,Ha.tokenEqual)(r,e))){yield E.default.serviceSwap.buyToken(e);var o=setTimeout((function(){var e=(0,Bt.appSelector)((function(e){return e.swap.sendingAccount})),t=(0,Bt.appSelector)((function(e){return e.swap.inputToken})),n=(0,B.getActiveWalletAccount)(),r=n.account,o=n.wallet;"watching"===(null==o?void 0:o.type)?E.default.serviceSwap.setSendingAccountSimple(null):r&&r.id!==(null==e?void 0:e.id)&&t&&(0,Ra.isAccountCompatibleWithNetwork)(r.id,t.networkId)&&E.default.serviceSwap.setSendingAccountSimple(r)}),200);return function(){return clearTimeout(o)}}}})),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,n]),(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(Xl,{}),(0,G.jsx)(ti,{})]})},Ql=n(465022),Kl=n(805679),Zl=n(398514),Jl=n(929483),es=n(609850),ts=n.n(es),ns=n(317534),rs=n(963958),os=n(680537),as=n.n(os),is=n(150796);function ls(e){return ss.apply(this,arguments)}function ss(){return(ss=(0,Pt.default)((function*(e){var t,n,r,o,a=e.historyTx,i=e.actionType,l=e.navigation,s=null!=(t=null==(n=a.decodedTx)?void 0:n.encodedTx)?t:{},u=null==a||null==(r=a.decodedTx)?void 0:r.encodedTxEncrypted;if(u)try{o=JSON.parse(yield E.default.servicePassword.decryptByInstanceId(u))}catch(g){console.error(g),o={from:"-",to:"-",value:"-",data:"-"}}var d=a.decodedTx,c=d.nonce,p=d.accountId,m=d.networkId;if(Tn()(c)||!as()(c)||c<0)console.error("speedUpOrCancelTx ERROR: nonce is missing!");else{var h={from:s.from,to:s.to,value:s.value,data:s.data,nonce:c,gas:s.gas,gasLimit:s.gasLimit,gasPrice:s.gasPrice,maxFeePerGas:s.maxFeePerGas,maxPriorityFeePerGas:s.maxPriorityFeePerGas};if("cancel"===i&&(h.to=h.from,h.value="0x0",h.data="0x"),"speedUp"===i&&o&&(o.from!==h.from||o.to!==h.to||o.value!==h.value||o.data!==h.data||!new(Dt())(h.nonce||"0").eq(o.nonce||"0")))return dt.default.show({title:"Speedup failed. History transaction data not matched"},{type:"error"}),void V.default.sendTx.info("Speedup failed. History transaction data not matched",{encodedTxOrigin:o,encodedTxEvm:h});var x={accountId:p,networkId:m,actionType:i,resendActionInfo:{type:i,replaceHistoryId:a.id},encodedTx:h,feeInfoEditable:!0,feeInfoUseFeeInTx:!0,ignoreFetchFeeCalling:!0};l.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Send,params:{screen:is.SendModalRoutes.SendConfirm,params:ts()(x)}})}}))).apply(this,arguments)}function us(e){var t=e.historyTx,n=(0,B.useNavigation)(),r=(0,b.default)(),o="cancel"===t.replacedType;return(0,G.jsxs)(G.Fragment,{children:[o?null:(0,G.jsx)(K.default,{size:"sm",ml:2,onPress:function(){ls({historyTx:t,actionType:"cancel",navigation:n})},children:r.formatMessage({id:"action__cancel"})}),(0,G.jsx)(K.default,{type:"primary",size:"sm",ml:2,onPress:function(){ls(o?{historyTx:t,actionType:"cancel",navigation:n}:{historyTx:t,actionType:"speedUp",navigation:n})},children:r.formatMessage({id:"action__speed_up"})})]})}var ds=n(158870),cs=n(800736),fs=n(89382);var ps=(0,rs.withDebugRenderTracker)((function(e){var t,n,r,o=e.historyTx,a=e.isFirst,i=e.isLast,l=o.decodedTx,s=l.status,u=(0,b.default)(),d=(0,B.useActiveWalletAccount)().network,c=(0,Fo.default)().isLight,p=(0,B.useNavigation)(),m=(0,fs.getTxStatusInfo)({decodedTx:l});s!==Zl.IDecodedTxStatus.Pending&&(0,G.jsx)(ns.default,{typography:"Body2",color:"text-subdued",text:null!=(t=l.txid)?t:"",short:!0,prefix:"Hash: "}),s!==Zl.IDecodedTxStatus.Confirmed&&s!==Zl.IDecodedTxStatus.Offline&&(0,G.jsx)(xe.default,{typography:"Body2",color:m.textColor,children:u.formatMessage({id:m.text})}),"cancel"===o.replacedType&&(0,G.jsx)(xe.default,{typography:"Body2",color:"text-subdued",children:"TxCancel"}),"speedUp"===o.replacedType&&(0,G.jsx)(xe.default,{typography:"Body2",color:"text-subdued",children:"TxSpeedUp"});var h=null!=d&&null!=(n=d.settings)&&n.txCanBeReplaced?(0,G.jsx)(us,{historyTx:o}):void 0;return(0,G.jsx)(ds.TxActionElementTime,{typography:"Body2",color:"text-subdued",isShort:!0,timestamp:null!=(r=l.updatedAt)?r:l.createdAt}),(0,G.jsx)(Z.default.Item,{borderTopRadius:a?12:0,borderBottomRadius:i?12:0,borderWidth:c?1:0,borderBottomWidth:i&&c?1:0,borderTopWidth:a&&c?1:0,borderColor:"border-subdued",px:{base:"4",lg:"6"},py:"16px",onPress:function(){p.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.TransactionDetail,params:{screen:f.TransactionDetailModalRoutes.HistoryDetailModal,params:ts()({decodedTx:l,historyTx:o})}})},children:(0,G.jsxs)(ce.default,{children:[(0,G.jsx)(cs.TxActionsListView,{historyTx:o,decodedTx:l,transformType:"T0",space:"31px",showDivider:!0,showConnectionLine:!0}),l.status===Zl.IDecodedTxStatus.Pending?(0,G.jsxs)(Ot.default,{space:2,mt:2,children:[(0,G.jsx)(D.default,{flex:1}),h]}):null]})})})),ms=n(336782),hs=(0,a.createContext)(null);function xs(e){var t=e.children,n=e.isLoading,r=void 0!==n&&n,o=e.isTab,i=e.headerView,l=e.refresh,s=(0,a.useState)({isLoading:r,isTab:o,headerView:i,refresh:l}),u=(0,h.default)(s,2),d=u[0],c=u[1],f=(0,a.useMemo)((function(){return{context:d,setContext:c}}),[d]);return(0,G.jsx)(hs.Provider,{value:f,children:t})}function gs(){return(0,a.useContext)(hs)}function bs(e){var t,n=e.isLoading,r=e.refresh,o=(0,b.default)(),a=gs();return(0,G.jsx)(D.default,{py:4,flexDirection:"column",alignItems:"center",children:(0,G.jsx)(ct.default,{emoji:"\ud83d\udd50",title:o.formatMessage({id:"transaction__history_empty_title"}),subTitle:o.formatMessage({id:"transaction__history_empty_desc"}),actionTitle:o.formatMessage({id:"action__refresh"}),handleAction:null!=(t=null==a?void 0:a.context.refresh)?t:r,isLoading:Boolean((null==a?void 0:a.context.isLoading)||n)})})}var vs=n(480601);function ys(e){var t,n=e.closeOverlay,r=(0,b.default)(),o=null==(t=(0,B.useAppSelector)((function(e){return e.settings.hideScamHistory})))||t;return(0,G.jsx)(fr.default,{modalLizeProps:{tapGestureEnabled:!1},title:r.formatMessage({id:"title__settings"}),closeOverlay:n,children:(0,G.jsxs)(D.default,{pb:4,pr:2,children:[(0,G.jsx)(xe.default,{typography:"Subheading",color:"text-subdued",children:r.formatMessage({id:"form__anti_scam"})}),(0,G.jsx)(xe.default,{typography:"Body1Strong",mt:3,children:r.formatMessage({id:"form__hide_0_amount_transfers"})}),(0,G.jsxs)(Ot.default,{mt:1,alignItems:"flex-start",space:3,children:[(0,G.jsx)(xe.default,{typography:"Body2",color:"text-subdued",flex:1,children:r.formatMessage({id:"form__hide_0_amount_transfers_desc"})}),(0,G.jsx)(Ki.default,{labelType:"false",isChecked:o,onToggle:function(){return E.default.dispatch((0,xl.setHideScamHistory)(!o),(0,vs.refreshHistory)())}})]})]})})}var js=function(){(0,pr.showOverlay)((function(e){return(0,G.jsx)(ys,{closeOverlay:e})}))},ws=n(238902);function ks(e){var t=e.isLoading,n=e.refresh,r=(0,b.default)();return(0,G.jsx)(ws.HomeTabActionHeader,{title:r.formatMessage({id:"transaction__history"}),loading:t,onClickRefresh:n,onClickSettings:js})}function _s(e){var t,n,r=e.refresh,o=e.networkId,a=gs();return(0,G.jsxs)(D.default,{children:[null==a||null==(t=a.context)?void 0:t.headerView,(0,G.jsx)(ks,{networkId:o,refresh:null!=(n=null==a?void 0:a.context.refresh)?n:r,isLoading:null==a?void 0:a.context.isLoading})]},"header")}function Os(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Is(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Os(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Os(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ss(e){var t=e.title,n=e.titleKey,r=e.data,o=(0,b.default)(),a=t||o.formatMessage({id:n})||"";return(0,G.jsx)(D.default,{py:2,flexDirection:"row",children:(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",children:[(0,G.jsx)(Y.default.Subheading,{color:"text-subdued",children:a}),r[0]&&r[0].decodedTx.status===Zl.IDecodedTxStatus.Pending&&(0,G.jsx)(D.default,{ml:3,children:(0,G.jsx)(Hn.default,{title:r.length.toString(),type:"default",size:"sm"})})]})},"section-header")}var Ts=(0,a.memo)((function(e){var t=e.networkId,n=e.data,r=e.SectionListComponent,o=(0,ge.default)().size,i=(0,Kr.default)(),l=(0,a.useMemo)((function(){return["NORMAL","LARGE"].includes(o)?32:16}),[o]),s=(0,a.useMemo)((function(){return function(e){var t,n=e.items,r=e.formatDate,o={titleKey:"transaction__pending",data:[]},a=[];return n.forEach((function(e){if(e.decodedTx.status===Zl.IDecodedTxStatus.Pending){var n;null==(n=o)||n.data.push(e)}else{var i=r(e.decodedTx.updatedAt||e.decodedTx.createdAt||0);t&&t.title===i||(t&&a.push(t),t={title:i,data:[]}),t.data.push(e)}})),t&&a.push(t),o.data.length||(o=void 0),o?[o].concat(a).filter(Boolean):[].concat(a).filter(Boolean)}({items:n,formatDate:function(e){return i.formatDate(new Date(e),{hideTheYear:!0,hideTimeForever:!0})}})}),[n,i]),u=!s||!s.length,d=(0,a.useCallback)((function(e){var t,n=e.item,r=e.index,o=e.section;return(0,G.jsx)(ps,{historyTx:n,isFirst:0===r,isLast:r===(null==o||null==(t=o.data)?void 0:t.length)-1})}),[]),c=(0,a.useCallback)((function(e){var t=e.section,n=t.title,r=t.titleKey,o=t.data;return(0,G.jsx)(Ss,{title:n,titleKey:r,data:o})}),[]),f=(0,a.useCallback)((function(){return(0,G.jsx)(kn.default,{},"separator")}),[]),p={renderItem:d,renderSectionHeader:c,contentContainerStyle:{paddingHorizontal:l,marginTop:16},sections:s,ListHeaderComponent:(0,G.jsx)(_s,{isEmpty:u,networkId:t},"header"),ListEmptyComponent:(0,G.jsx)(bs,{},"empty"),ListFooterComponent:(0,G.jsx)(D.default,{h:"20px"},"footer"),ItemSeparatorComponent:f,keyExtractor:function(e,t){return e.id||t.toString(10)},showsVerticalScrollIndicator:!1,stickySectionHeadersEnabled:!1};return(0,G.jsx)(r,Is({},p))}));function Cs(e){var t=e.accountId,n=e.networkId,r=e.tokenId,o=e.headerView,i=e.isHomeTab,l=e.tabComponent,s=(0,a.useState)([]),u=(0,h.default)(s,2),d=u[0],c=u[1],f=gs(),p=(0,ot.useIsAtHomeTab)(ms.WalletHomeTabEnum.History),m=E.default.serviceHistory,g=(0,B.useAppSelector)((function(e){return e.refresher.refreshHistoryTs})),b=(0,B.useAppSelector)((function(e){var n,r;return null!=(n=null==(r=e.overview.allNetworksAccountsMap)?void 0:r[t||""])?n:{}})),v=(0,Jl.useIsFocusedAllInOne)().isFocused,y=(0,fa.usePromiseResult)((function(){return E.default.serviceOverview.buildAccountTokens({networkId:null!=n?n:"",accountId:null!=t?t:""})}),[n,t]).result,j=(0,a.useMemo)((function(){var e;return null!=(e=null==y?void 0:y.tokens)?e:ea.freezedEmptyArray}),[y]),w=(0,a.useCallback)(function(){var e=(0,Pt.default)((function*(e){var t=e.networkId,n=e.accountId,r=e.refresh,o=e.tokenAddress;if(!n||!t)return Promise.resolve([]);if(r){try{yield m.refreshHistory({networkId:t,accountId:n,tokenIdOnNetwork:o})}catch(a){V.default.common.error(a)}yield(0,Pn.wait)(1e3)}return yield m.getLocalHistory({networkId:t,accountId:n,tokenIdOnNetwork:""===o?o:o||void 0,limit:Et.HISTORY_CONSTS.DISPLAY_TX_LIMIT})}));return function(t){return e.apply(this,arguments)}}(),[m]),k=(0,a.useCallback)(function(){var e=(0,Pt.default)((function*(e){var t,n,r=e.refresh,o=e.coingeckoId,a=[],i=null!=(t=null==(n=j.find((function(e){return e.coingeckoId===o})))?void 0:n.tokens)?t:[],l=function*(){if(!s)return"continue";var e=s.networkId,t=s.address,n=s.accountAddress;if(!e||!n)return"continue";var o=b[e].find((function(e){return e.address===n}));if(!o)return"continue";var i=yield w({networkId:e,accountId:o.id,tokenAddress:t,refresh:r});a.push.apply(a,(0,x.default)(i))};for(var s of i)yield*l();return a}));return function(t){return e.apply(this,arguments)}}(),[j,w,b]),_=(0,a.useCallback)((0,Pt.default)((function*(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).refresh,o=void 0===e||e;return n&&t?(0,da.isAllNetworks)(n)?k({accountId:t,coingeckoId:r,refresh:o}):w({networkId:n,accountId:t,tokenAddress:r,refresh:o}):[]})),[t,n,r,w,k]),O=(0,a.useCallback)((function(){return _({refresh:!1})}),[_]),I=(0,a.useMemo)((function(){return!(!t||!n)&&(!!(0,Ra.isAccountCompatibleWithNetwork)(t,n)&&(!!v&&(!i||p)))}),[t,p,v,i,n]),S=i?"fetchHistoryTx-homeTab":"fetchHistoryTx",T=(0,Kl.default)(S,_,{refreshInterval:3e4,revalidateOnMount:!1,revalidateOnFocus:!1,shouldRetryOnError:!1,isPaused:function(){return!I},onSuccess:function(e){((0,da.isAllNetworks)(n)||function(e){var t=e.oldTxList,n=e.newTxList;if(t.length!==n.length)return!0;for(var r=0;r<5;r+=1){var o=t[r],a=n[r];if(!a&&!o)return!1;if(!a||!o)return!0;if(a.id!==o.id||a.decodedTx.createdAt!==o.decodedTx.createdAt||a.decodedTx.updatedAt!==o.decodedTx.updatedAt||a.decodedTx.status!==o.decodedTx.status||a.decodedTx.totalFeeInNative!==o.decodedTx.totalFeeInNative)return!0}return!1}({oldTxList:d||[],newTxList:e||[]}))&&c(e)}}),C=T.mutate,M=T.isValidating,P=(0,a.useCallback)((function(){return m.refreshHistoryUi()}),[m]);(0,a.useEffect)((function(){null==f||f.setContext((function(e){return e.isLoading!==M||e.refresh!==P||e.headerView!==o?Is(Is({},e),{},{refresh:P,isLoading:M,headerView:o}):e}))}),[P,M,f,o]);var A=(0,a.useMemo)((function(){var e=d[0];return e&&(null==e?void 0:e.decodedTx.networkId)===n&&(null==e?void 0:e.decodedTx.accountId)===t}),[t,d,n]);if((0,a.useEffect)((function(){I&&!A&&O()}),[t,n,O,I,A]),(0,a.useEffect)((function(){I&&C()}),[g,t,n,C,I]),!t||!n)return null;var D=i||l?Mr.Tabs.SectionList:Ql.SectionList;return(0,G.jsx)(Ts,{accountId:t,networkId:n,data:d.sort((function(e,t){var n=e.decodedTx.updatedAt||e.decodedTx.createdAt||0;return(t.decodedTx.updatedAt||t.decodedTx.createdAt||0)-n})),SectionListComponent:D})}function Ms(e){var t=e.headerView,n=e.isHomeTab;return(0,G.jsx)(xs,{headerView:t,isTab:n,children:(0,G.jsx)(Cs,Is({},e))})}var Ps=n(703440),As=n.n(Ps),Ds=n(538732),Rs=n(195980);const Es=n.p+"static/media/dapp_colour.5dd0344d6a8c2ebbfae8.png";var Bs=(0,a.createContext)(void 0),Ns=function(e){var t=e.networks,n=e.onChange,r=e.value,o=[Object.assign(Rs.FAKE_ALL_NETWORK,{name:"All"})].concat((0,x.default)(t)).filter(Boolean),i=(0,a.useMemo)((function(){return o.findIndex((function(e){return(null==e?void 0:e.id)===r}))}),[o,r]),l=(0,a.useCallback)((function(e){var t,r=o[e];n(null!=(t=null==r?void 0:r.id)?t:"")}),[o,n]);return t.length<=1?null:(0,G.jsx)(Ds.default,{mt:"6",size:"sm",buttons:o.filter(Boolean).map((function(e){var t;return{text:null!=(t=e.name)?t:"",id:e.id,leftComponentRender:function(){return(0,G.jsx)(D.default,{mr:"1",children:(0,G.jsx)(Wo.default,{width:"20px",height:"20px",borderRadius:"full",source:(0,da.isAllNetworks)(e.id)?Es:{uri:e.logoURI}})})}}})),selectedIndex:i,onButtonPress:l,bg:"background-default"})};const Ls=function(){var e,t,n=(0,B.useManageNetworks)(void 0).allNetworks,r=(0,a.useContext)(Bs),o=(0,b.default)(),i=(0,a.useState)(Rs.FAKE_ALL_NETWORK.id),l=(0,h.default)(i,2),s=l[0],u=l[1],d=null!=(e=null==r?void 0:r.routeParams)?e:{},c=d.accountId,f=d.networkId,m=d.price,x=(0,B.useAccount)({networkId:null!=f?f:"",accountId:null!=c?c:""}).account,g=(null!=(t=null==r?void 0:r.detailInfo)?t:{}).symbol,v=(0,p.default)(),y=r||ea.freezedEmptyObject,j=y.items,w=y.balance,k=(0,a.useMemo)((function(){return Object.entries(As()(j,"networkId")).map((function(e){var t=(0,h.default)(e,2),r=t[0],o=t[1];return{network:null==n?void 0:n.find((function(e){return e.id===r})),data:o}}))}),[j,n]),_=(0,a.useMemo)((function(){return(0,G.jsx)(ct.default,{mt:"56px",emoji:"\ud83e\udd11",title:o.formatMessage({id:"empty__no_tokens"}),subTitle:o.formatMessage({id:"empty__no_tokens_desc"},{0:null!=g?g:""})})}),[g,o]),O=(0,a.useCallback)((function(e){var t,n=e.section.network;return n?(0,G.jsx)(Y.default.Subheading,{mt:"6",mb:"2",color:"text-subdued",children:null==n||null==(t=n.name)?void 0:t.toUpperCase()}):null}),[]),I=(0,a.useCallback)((function(e){var t,n,r=e.item,a=e.index,i={name:r.name,logoURI:r.logoURI},l=new(Dt())(null!=(t=r.balance)?t:0).multipliedBy(null!=m?m:0),s=new(Dt())(null!=w?w:0),u=`${(s.isNaN()||s.isEqualTo(0)?new(Dt())(100):new(Dt())(null!=(n=r.balance)?n:0).dividedBy(s).multipliedBy(100)).toFixed(2)}%`,d=(0,G.jsx)(ca.FormatBalance,{balance:r.balance,suffix:null==r?void 0:r.symbol,formatOptions:{fixed:6}}),c=(0,G.jsxs)(Ot.default,{alignItems:"center",flex:1,children:["Token"===r.type?(0,G.jsx)(D.default,{size:"8",borderRadius:"999px",bg:"action-primary-default",justifyContent:"center",alignItems:"center",children:(0,G.jsx)(J.default,{size:20,color:"icon-on-primary",name:"WalletOutline"})}):(0,G.jsx)(Wo.default,{size:8,borderRadius:"full",source:"number"===typeof i.logoURI?i.logoURI:{uri:i.logoURI}}),(0,G.jsxs)(ce.default,{ml:"3",alignItems:"flex-start",children:[(0,G.jsx)(Y.default.Body1Strong,{isTruncated:!0,maxW:56,numberOfLines:1,children:"Token"===r.type&&(r.accountName||(null==x?void 0:x.name))||r.name}),v?(0,G.jsx)(C.Tooltip,{label:o.formatMessage({id:"msg__asset_ratio"}),placement:"top",children:(0,G.jsx)(D.default,{children:(0,G.jsx)(Hn.default,{size:"sm",type:"info",title:u,mt:"1"})})}):null]})]});return v?(0,G.jsxs)(Xr.default,{mx:"-8px",onPress:r.onPress,children:[(0,G.jsx)(Xr.default.Column,{flex:"1",children:c}),(0,G.jsx)(Xr.default.Column,{flex:1,alignItems:"flex-end",text:{label:(0,G.jsx)(Y.default.Body1Strong,{children:(0,G.jsx)(ca.FormatCurrencyNumber,{value:0,convertValue:l})}),description:(0,G.jsx)(Y.default.Body2,{color:"text-subdued",children:d})}})]}):(0,G.jsxs)(G.Fragment,{children:[0!==a?(0,G.jsx)(D.default,{borderBottomWidth:1,borderColor:"divider"}):null,(0,G.jsxs)(Xr.default,{mx:"-8px",py:4,onPress:r.onPress,children:[c,(0,G.jsx)(D.default,{flex:1,flexDirection:"row",justifyContent:"flex-end",children:(0,G.jsx)(C.Tooltip,{label:o.formatMessage({id:"msg__asset_ratio"}),placement:"top",children:(0,G.jsx)(D.default,{children:(0,G.jsx)(Hn.default,{size:"sm",type:"info",title:u})})})}),(0,G.jsx)(Xr.default.Column,{flex:1,text:{label:(0,G.jsx)(Y.default.Body1Strong,{textAlign:"right",children:d})}}),(0,G.jsx)(Xr.default.Column,{flex:1,text:{label:(0,G.jsx)(Y.default.Body1Strong,{textAlign:"right",children:(0,G.jsx)(ca.FormatCurrencyNumber,{value:0,convertValue:l})})}})]})]})}),[v,m,w,null==x?void 0:x.name,o]);return(0,G.jsx)(Mr.Tabs.SectionList,{contentContainerStyle:{width:"100%",alignSelf:"center",paddingHorizontal:v?16:32},renderSectionHeader:O,sections:k.filter((function(e){var t;return s===Rs.FAKE_ALL_NETWORK.id||(null==(t=e.network)?void 0:t.id)===s})),renderItem:I,stickySectionHeadersEnabled:!1,keyExtractor:function(e){var t;return`${e.networkId}__${e.name}__${e.balance}__${null!=(t=e.address)?t:""}`},ListFooterComponent:null!=j&&j.length?null:_,ListHeaderComponent:(0,G.jsx)(Ns,{networks:k.map((function(e){return e.network})),value:s,onChange:function(e){return u(e)}})})};var Ws=n(16280),Fs=n(814817),Hs=n(439174),zs=n(90184),Us=n(15304);function Vs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vs(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gs(e){var t,n=(0,b.default)(),r=e.style,o=e.inscriptions,i=e.onPress,l=e.isLoadingInscriptions,s=(0,a.useMemo)((function(){return!(null!=o&&o.length)||l}),[null==o?void 0:o.length,l]);return(0,G.jsx)(D.default,$s($s({},r),{},{children:(0,G.jsx)(Z.default.Item,{borderRadius:"18px",isDisabled:s,onPress:i,borderWidth:1,borderColor:"border-default",children:(0,G.jsxs)(Ot.default,{space:2,alignItems:"center",children:[(0,G.jsx)(Us.default,{width:40,height:40}),(0,G.jsxs)(ce.default,{flex:1,children:[(0,G.jsx)(xe.default,{typography:"Body1Strong",children:n.formatMessage({id:"title__manage_inscriptions"})}),l?(0,G.jsx)(Q.default,{shape:"Body2"}):(0,G.jsx)(xe.default,{typography:"Body2",color:"text-subdued",children:n.formatMessage({id:"content__int_items"},{0:null!=(t=null==o?void 0:o.length)?t:"0"})})]}),!s&&(0,G.jsx)(J.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})})}))}var qs=n(527646),Xs=n(331639);function Ys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ys(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ks(e){var t=e.onPressSend,n=e.onPressReceive,r=e.onPressTransfer,o=e.style,i=e.balanceWithoutRecycle,l=e.isWatching,s=e.isTaproot,u=(0,b.default)(),d=(0,p.default)(),c=(0,a.useMemo)((function(){var e;return new(Dt())(null!=(e=i.transferBalance)?e:0).isLessThanOrEqualTo(0)}),[i.transferBalance]),f=(0,a.useMemo)((function(){var e;return new(Dt())(null!=(e=i.availableBalance)?e:0).isLessThanOrEqualTo(0)}),[i.availableBalance]),m=(0,a.useMemo)((function(){return[{id:"action__send",onPress:t,icon:"PaperAirplaneOutline",isDisabled:c||l},{id:"action__receive",onPress:n,icon:"QrCodeMini",isDisabled:l},{id:"action__transfer_brc20",onPress:r,icon:"ArrowUturnDownMini",isDisabled:f||l||!s}]}),[f,c,s,l,n,t,r]);return d?(0,G.jsxs)(Ot.default,Qs(Qs({space:2},o),{},{children:[(0,G.jsx)(K.default,{size:"lg",onPress:t,flex:1,isDisabled:c||l,children:u.formatMessage({id:"action__send"})}),(0,G.jsx)(K.default,{size:"lg",onPress:n,flex:1,isDisabled:l,children:u.formatMessage({id:"action__receive"})}),(0,G.jsx)(Xs.default,{options:[{id:"action__transfer_brc20",onPress:r,icon:"ArrowUturnDownMini",isDisabled:f||l}],children:(0,G.jsx)(It.default,{name:"DotsHorizontalMini",size:"lg"})})]})):(0,G.jsx)(Ot.default,Qs(Qs({space:4},o),{},{children:m.map((function(e){return(0,G.jsx)(qs.default,{children:(0,G.jsx)(It.default,{circle:!0,size:"base",name:e.icon,type:"basic",onPress:e.onPress,isDisabled:e.isDisabled})},e.id)}))}))}var Zs=["style"];function Js(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Js(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Js(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tu(e){var t=(0,a.useContext)(Bs),n=e.style,r=(0,m.default)(e,Zs),o=null==t?void 0:t.detailInfo;return(0,G.jsxs)(Ot.default,eu(eu({},n),{},{justifyContent:"space-between",children:[(0,G.jsx)(Rt.default,{size:8,showInfo:!0,token:{symbol:null==o?void 0:o.symbol,logoURI:null==o?void 0:o.logoURI}}),(0,G.jsx)(Ks,eu({},r))]}))}var nu=3e4,ru=null;function ou(){var e,t,n,r,o,i=(0,b.default)(),l=(0,a.useContext)(Bs),s=null!=(e=null==l?void 0:l.routeParams)?e:{},u=s.symbol,d=s.networkId,c=s.tokenAddress,m=s.accountId,x=s.balance,g=s.transferBalance,y=s.availableBalance,j=null==l?void 0:l.detailInfo,w=(0,p.default)(),k=(0,Ma.default)(),_=(0,v.useIsFocused)(),O=(0,a.useState)({balance:null!=x?x:"0",availableBalance:null!=y?y:"0",transferBalance:null!=g?g:"0"}),I=(0,h.default)(O,2),S=I[0],T=I[1],C=(0,a.useState)("0"),M=(0,h.default)(C,2),P=M[0],A=M[1],R=(0,a.useState)(!1),N=(0,h.default)(R,2),L=N[0],W=N[1],F=(0,a.useState)([]),H=(0,h.default)(F,2),z=H[0],U=H[1],V=null==j||null==(t=j.tokens)?void 0:t[0],$=(0,B.useActiveSideAccount)({accountId:null!=m?m:"",networkId:null!=d?d:""}),q=$.wallet,X=$.account,Q=$.network,K=(0,a.useMemo)((function(){return(0,Fs.isWatchingAccount)({accountId:null!=m?m:""})}),[m]),Z=(0,a.useMemo)((function(){var e;return(0,Ws.isTaprootAddress)(null!=(e=null==X?void 0:X.address)?e:"")}),[null==X?void 0:X.address]),J=(0,a.useMemo)((function(){var e=S.balance,t=S.availableBalance,n=S.transferBalance,r=new At.BigNumber(null!=e?e:"0").minus(P),o=new At.BigNumber(null!=n?n:"0").minus(P);return{balance:r.isLessThan(0)?"0":r.toFixed(),availableBalance:t,transferBalance:o.isLessThan(0)?"0":o.toFixed()}}),[S,P]),ee=(0,a.useCallback)((function(){m&&d&&V&&k.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Send,params:{screen:f.SendModalRoutes.PreSendBRC20TokenAmount,params:{networkId:d,accountId:m,token:V}}})}),[m,k,d,V]),te=(0,a.useCallback)((function(){k.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Receive,params:{screen:f.ReceiveTokenModalRoutes.ReceiveToken,params:{address:null==X?void 0:X.address,displayAddress:null==X?void 0:X.displayAddress,wallet:q,network:Q,account:X,template:null==X?void 0:X.template}}})}),[X,k,Q,q]),ne=(0,a.useCallback)((function(){m&&d&&V&&k.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Inscribe,params:{screen:f.InscribeModalRoutes.BRC20Amount,params:{networkId:d,accountId:m,token:V}}})}),[m,k,d,V]),re=(0,a.useCallback)((function(){d&&m&&V&&k.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.InscriptionControl,params:{screen:f.InscriptionControlModalRoutes.InscriptionControlModal,params:{networkId:d,accountId:m,token:V}}})}),[m,k,d,V]),oe=(0,a.useCallback)((0,Pt.default)((function*(){if(d&&X&&V){var e,t,n,r,o,a,i=yield E.default.serviceBRC20.getBRC20AmountList({networkId:d,address:X.address,xpub:null!=(e=X.xpub)?e:"",tokenAddress:null!=(t=V.tokenIdOnNetwork)?t:V.address}),l=yield E.default.serviceBRC20.getBRC20RecycleBalance({networkId:d,address:X.address,xpub:null!=(n=X.xpub)?n:"",tokenAddress:null!=(r=V.tokenIdOnNetwork)?r:V.address,transferBalanceList:i.transferBalanceList});A(l),T({balance:i.balance,availableBalance:i.availableBalance,transferBalance:i.transferBalance}),E.default.dispatch((0,zs.setAccountTokensBalances)({accountId:m,networkId:d,tokensBalance:(a={},a[null!=(o=V.tokenIdOnNetwork)?o:V.address]={balance:i.balance,availableBalance:i.availableBalance,transferBalance:i.transferBalance},a)}))}})),[X,m,d,V]),ae=(0,a.useCallback)((0,Pt.default)((function*(){if(d&&X&&V){var e,t;W(!0);var n=yield E.default.serviceBRC20.getBRC20Inscriptions({networkId:d,address:X.address,xpub:null!=(e=X.xpub)?e:"",tokenAddress:null!=(t=V.tokenIdOnNetwork)?t:V.address});U(n.availableInscriptions),W(!1)}})),[X,d,V]);return(0,Hs.useOnUIEventBus)(Ea.AppUIEventBusNames.InscriptionRecycleChanged,oe),(0,a.useEffect)((function(){return ru&&clearInterval(ru),oe(),ae(),ru=setInterval((function(){_&&(oe(),ae())}),nu),function(){ru&&(clearInterval(ru),ru=null)}}),[ae,oe,_]),(0,G.jsxs)(de.ScrollView,{paddingY:8,paddingX:w?4:8,children:[w?null:(0,G.jsx)(tu,{onPressSend:ee,onPressReceive:te,onPressTransfer:ne,balanceWithoutRecycle:J,isWatching:K,isTaproot:Z,style:{mb:8}}),(0,G.jsxs)(ce.default,{mb:6,space:1,children:[(0,G.jsx)(ca.FormatBalance,{balance:null!=(n=null==J?void 0:J.balance)?n:0,suffix:u,formatOptions:{fixed:6},render:function(e){return(0,G.jsx)(Y.default.DisplayXLarge,{children:e})}}),(0,G.jsx)(Y.default.Body2,{color:"text-subdued",children:`${i.formatMessage({id:"form__available_colon"})} ${null!=(r=null==J?void 0:J.availableBalance)?r:"0"}`}),(0,G.jsx)(Y.default.Body2,{color:"text-subdued",children:`${i.formatMessage({id:"form__transferable_colon"})} ${null!=(o=null==J?void 0:J.transferBalance)?o:"0"}`})]}),w?(0,G.jsx)(Ks,{onPressSend:ee,onPressReceive:te,onPressTransfer:ne,balanceWithoutRecycle:J,style:{mb:6},isWatching:K,isTaproot:Z}):null,K?null:(0,G.jsx)(Gs,{inscriptions:z,isLoadingInscriptions:L,onPress:re,style:{mb:6}}),(0,G.jsx)(D.default,{pb:10,children:(0,G.jsx)(Ms,{accountId:m,networkId:d,tokenId:c,tabComponent:!0})})]})}var au=n(134662),iu=n(284405),lu=n(765119),su=n(438341),uu=n(445198),du=n(925743),cu=n(629397),fu=n(516535);function pu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pu(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hu=function(e){var t,n=e.height,r=void 0===n?"48px":n,o=e.onPress,i=e.explorer,l=e.index,s=e.triggerProps,u=(0,cu.useGridBoxStyle)({index:l,maxW:uu.SCREEN_SIZE.LARGE,outPadding:32}),d=(0,B.useNetwork)({networkId:null==i?void 0:i.networkId}).network,c=Boolean(null==i?void 0:i.url),f=(0,a.useRef)(),p=(0,a.useMemo)((function(){return null!=d&&d.logoURI?(0,G.jsx)(Wo.default,{borderRadius:"12px",src:d.logoURI,alt:d.logoURI,size:"25px",ml:2}):null}),[d]);return(0,G.jsx)(Z.default,mu(mu(mu({height:r,borderWidth:1,borderRadius:"12px",borderColor:"border-default",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},u),{},{onPress:function(){null==o||o(c,f)}},s),{},{children:(0,G.jsxs)(D.default,{flex:1,ref:f,flexDirection:"row",alignItems:"center",children:[c?null:p,(0,G.jsxs)(D.default,{ml:"2",flex:1,children:[(0,G.jsx)(Y.default.Body2Strong,{numberOfLines:1,children:null==i?void 0:i.name}),null!=i&&i.contractAddress?(0,G.jsx)(Y.default.Caption,{color:"text-subdued",children:(0,wo.shortenAddress)(null!=(t=null==i?void 0:i.contractAddress)?t:"")}):null]}),(0,G.jsx)(D.default,{mr:"2",children:(0,G.jsx)(J.default,{name:c?"ArrowTopRightOnSquareMini":"EllipsisHorizontalMini",color:"icon-subdued",size:20})})]})}))},xu=function(e){var t,n,r,o,i=e.links,l=(0,b.default)(),s=(0,a.useCallback)((function(e,t){(0,nn.openUrl)(null!=e?e:"",t,{modalMode:!0})}),[]);return(0,a.useMemo)((function(){return Object.values(i).filter((function(e){return e.length})).length}),[i])?(0,G.jsxs)(de.ScrollView,{mx:-4,horizontal:!0,flexDirection:"row",children:[null!=i&&null!=(t=i.homePageUrl)&&t.length?(0,G.jsx)(K.default,{type:"basic",size:"base",leftIconName:"GlobeAltOutline",mx:4,borderColor:"border-default",borderRadius:"12px",onPress:function(){s(null==i?void 0:i.homePageUrl,l.formatMessage({id:"form__website"}))},children:l.formatMessage({id:"form__website"})}):null,null!=i&&null!=(n=i.twitterUrl)&&n.length?(0,G.jsx)(K.default,{type:"basic",size:"base",leftIconName:"TwitterOutline",mr:4,borderColor:"border-default",borderRadius:"12px",onPress:function(){s(null==i?void 0:i.twitterUrl,"Twitter")},children:"Twitter"}):null,null!=i&&null!=(r=i.telegramUrl)&&r.length?(0,G.jsx)(K.default,{type:"basic",size:"base",leftIconName:"GlobeAltOutline",mr:4,borderColor:"border-default",borderRadius:"12px",onPress:function(){s(null==i?void 0:i.telegramUrl,"Telegram")},children:"Telegram"}):null,null!=i&&null!=(o=i.discordUrl)&&o.length?(0,G.jsx)(K.default,{type:"basic",size:"base",leftIconName:"DiscordOutline",mr:4,borderColor:"border-default",borderRadius:"12px",onPress:function(){s(null==i?void 0:i.discordUrl,"Discord")},children:"Discord"}):null]}):null};function gu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gu(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vu=function(e){var t,n=e.explorer,r=e.index,o=(0,b.default)(),i=(0,cu.useGridBoxStyle)({index:r,maxW:uu.SCREEN_SIZE.LARGE,outPadding:32}).width,l=(0,a.useCallback)((function(){setTimeout((function(){n.contractAddress&&(0,ko.copyToClipboard)(n.contractAddress)}),200),dt.default.show({title:o.formatMessage({id:"msg__copied"})})}),[n.contractAddress,o]),s=(0,B.useNetwork)({networkId:n.networkId}).network,u=(0,Yr.default)(s).openAddressDetails,d=(0,a.useCallback)((function(e){return(0,G.jsx)(hu,{index:r,explorer:n,triggerProps:e},r)}),[n,r]);return(0,G.jsxs)(iu.default,{offset:Xs.defaultMenuOffset,width:i,minWidth:220,trigger:d,children:[(0,G.jsx)(iu.default.CustomItem,{onPress:l,icon:"DocumentDuplicateMini",children:o.formatMessage({id:"action__copy_address"})}),null==n||!n.networkId||null!=s&&null!=(t=s.settings)&&t.hiddenBlockBrowserTokenDetailLink?null:(0,G.jsx)(iu.default.CustomItem,{onPress:function(){var e;u(null!=(e=n.contractAddress)?e:"",o.formatMessage({id:"form__explorers"}))},icon:"ArrowTopRightOnSquareMini",children:o.formatMessage({id:"action__view_in_browser"})})]})},yu=function(e){var t=e.title,n=e.value,r=e.subValue,o=e.valueColor,a=e.index,i=e.isFetching,l=(0,cu.useGridBoxStyle)({index:a,outPadding:32,maxW:uu.SCREEN_SIZE.LARGE});return(0,G.jsxs)(D.default,bu(bu({},l),{},{children:[(0,G.jsxs)(D.default,{alignItems:"flex-start",justifyContent:"space-between",mb:2,flex:1,children:[(0,G.jsx)(Y.default.Body2Strong,{color:"text-subdued",children:t}),(0,G.jsxs)(D.default,{flex:1,alignItems:"flex-start",children:[i?(0,G.jsx)(Q.default,{shape:"Body2"}):(0,G.jsx)(Y.default.Body2Strong,{textAlign:"right",numberOfLines:2,color:null!=o?o:"text-default",children:n}),r?(0,G.jsx)(Y.default.Caption,{color:"text-subdued",children:r}):null]})]}),(0,G.jsx)(kn.default,{})]}))},ju=function(e){var t=e.low24h,n=e.high24h,r=e.volume24h,o=e.marketCapRank,i=e.marketCap,l=e.expolorers,s=e.about,u=e.links,d=e.px,c=e.atl,f=e.ath,p=(0,b.default)(),m=(0,B.useSettings)().selectedFiatMoneySymbol,h=(0,du.useCurrencyUnit)(m),x=(0,a.useMemo)((function(){var e,t,n=new Date(null!=(e=null==f?void 0:f.time)?e:""),r=new Date(null!=(t=null==c?void 0:c.time)?t:"");return{athTime:(0,lu.default)(n)?(0,su.default)(n,"yyyy-MM-dd"):void 0,atlTime:(0,lu.default)(r)?(0,su.default)(r,"yyyy-MM-dd"):void 0}}),[f,c]),g=x.athTime,v=x.atlTime;return(0,G.jsx)(D.default,{px:d,children:(0,G.jsxs)(ce.default,{space:6,my:2,children:[(0,G.jsxs)(D.default,{children:[(0,G.jsx)(Y.default.Heading,{mb:2,children:p.formatMessage({id:"content__stats"})}),(0,G.jsx)(cu.GridLayout,{children:(0,G.jsxs)(D.default,{flexDirection:"row",alignContent:"flex-start",flexWrap:"wrap",children:[(0,G.jsx)(yu,{index:0,isFetching:void 0===i,title:p.formatMessage({id:"form__market_cap"}),value:(0,fu.formatMarketUnitPosition)(h,(0,fu.formatMarketValueForInfo)(i))}),(0,G.jsx)(yu,{index:1,isFetching:void 0===o,title:p.formatMessage({id:"form__market_cap_rank"}),value:`#${null!=o?o:0}`}),(0,G.jsx)(yu,{index:2,isFetching:void 0===r,title:p.formatMessage({id:"form__24h_volume"}),value:(0,fu.formatMarketUnitPosition)(h,(0,fu.formatMarketValueForInfo)(r))}),(0,G.jsx)(yu,{index:3,isFetching:void 0===t,title:p.formatMessage({id:"form__24h_low"}),value:(0,fu.formatMarketUnitPosition)(h,(0,fu.formatMarketValueForInfo)(t))}),(0,G.jsx)(yu,{index:4,isFetching:void 0===n,title:p.formatMessage({id:"form__24h_high"}),value:(0,fu.formatMarketUnitPosition)(h,(0,fu.formatMarketValueForInfo)(n))}),(0,G.jsx)(yu,{index:5,isFetching:void 0===(null==c?void 0:c.value),title:p.formatMessage({id:"form__all_time_low"}),value:(0,fu.formatMarketUnitPosition)(h,(0,fu.formatMarketValueForInfo)(null==c?void 0:c.value)),subValue:v}),(0,G.jsx)(yu,{index:6,isFetching:void 0===(null==f?void 0:f.value),title:p.formatMessage({id:"form__all_time_high"}),value:(0,fu.formatMarketUnitPosition)(h,(0,fu.formatMarketValueForInfo)(null==f?void 0:f.value)),subValue:g})]})})]}),null!=l&&l.length?(0,G.jsxs)(D.default,{children:[(0,G.jsx)(Y.default.Heading,{mb:2,children:p.formatMessage({id:"form__explorers"})}),(0,G.jsx)(cu.GridLayout,{children:(0,G.jsx)(D.default,{flexDirection:"row",alignContent:"flex-start",flexWrap:"wrap",children:null==l?void 0:l.map((function(e,t){return e.url?(0,G.jsx)(hu,{index:t,explorer:e,onPress:function(){var t;(0,nn.openUrl)(null!=(t=e.url)?t:"",p.formatMessage({id:"form__explorers"}),{modalMode:!0})}},t):(0,G.jsx)(vu,{explorer:e,index:t})}))})})]}):null,null!=s&&s.length?(0,G.jsxs)(D.default,{children:[(0,G.jsx)(Y.default.Heading,{mb:2,children:p.formatMessage({id:"title__about"})}),(0,G.jsx)(Y.default.Body2,{noOfLines:5,children:s})]}):null,u?(0,G.jsx)(xu,{links:u}):null]})})},wu=n(929377),ku=function(e){var t=e.coingeckoId,n=(0,B.useAppSelector)((function(e){return e.market.details})),r=(0,B.useAppSelector)((function(e){return e.settings.locale})),o=(0,a.useMemo)((function(){return n[t]}),[t,n]);return(0,a.useEffect)((function(){E.default.serviceMarket.fetchMarketDetail({coingeckoId:t,locale:"system"===r?(0,wu.getDefaultLocale)():r})}),[t,r]),{tokenDetail:o}},_u=function(e){var t,n,r,o,a,i,l,s=e.coingeckoId,u=ku({coingeckoId:s}).tokenDetail,d=(0,ue.useSafeAreaInsets)().bottom;return(0,G.jsx)(D.default,{mt:"20px",mb:d,children:(0,G.jsx)(ju,{low24h:null==u||null==(t=u.stats)?void 0:t.low24h,high24h:null==u||null==(n=u.stats)?void 0:n.high24h,marketCapRank:null==u||null==(r=u.stats)?void 0:r.marketCapRank,marketCap:null==u||null==(o=u.stats)?void 0:o.marketCap,volume24h:null==u||null==(a=u.stats)?void 0:a.volume24h,expolorers:null==u?void 0:u.explorers,about:null==u?void 0:u.about,links:null==u?void 0:u.links,atl:null==u||null==(i=u.stats)?void 0:i.atl,ath:null==u||null==(l=u.stats)?void 0:l.ath})})},Ou=function(e){var t=e.coingeckoId,n=(0,b.default)();return t&&(0,au.isValidCoingeckoId)(t)?(0,G.jsx)(_u,{coingeckoId:t}):(0,G.jsx)(D.default,{py:"24px",flexDirection:"column",alignItems:"center",children:(0,G.jsx)(ct.default,{emoji:"\ud83e\udd37\u200d\u2640\ufe0f",title:n.formatMessage({id:"empty__no_info"}),subTitle:n.formatMessage({id:"empty__no_info_desc"})})})};const Iu=function(e){var t=e.coingeckoId,n=(0,p.default)(),r=(0,a.useCallback)((function(){return(0,G.jsx)(Ou,{coingeckoId:t})}),[t]);return(0,G.jsx)(Mr.Tabs.FlatList,{contentContainerStyle:{width:"100%",alignSelf:"center",paddingHorizontal:n?16:32},ListHeaderComponent:r,data:[],renderItem:function(){return null}})};var Su=n(744128),Tu=n(840248),Cu=n(288471),Mu=n(556855),Pu=function(e){var t=e.stakingType,r=(0,b.default)(),o=(0,B.useNavigation)(),i=(0,B.useActiveWalletAccount)(),l=i.accountId,s=i.networkId,u=(0,Su.useAllNetworksSelectNetworkAccount)({accountId:l,networkId:s,filter:(0,Da.getStakeSelectNetworkAccountFilter)(t)});(0,a.useEffect)((function(){E.default.serviceStaking.fetchEthAprSma()}),[]);var d=(0,B.useAppSelector)((function(e){return e.staking.ethStakingApr})),c=(0,a.useMemo)((function(){if(d){var e=s===So.OnekeyNetwork.eth?d.mainnet:d.testnet;return e.kele>e.lido?{name:"Kele \u2022 Ethereum",value:`${(0,Tu.formatAmount)(e.kele,2)}%`,logo:n(746760)}:{name:"Lido \u2022 Ethereum",value:`${(0,Tu.formatAmount)(e.lido,2)}%`,logo:n(345075)}}}),[d,s]),p=(0,a.useCallback)(function(){var e=(0,Pt.default)((function*(e){var t=yield u(),n=t.account,r=t.network;e===Cu.EthStakingSource.Kele?o.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Staking,params:{screen:Cu.StakingRoutes.StakedETHOnKele,params:{accountId:n.id,networkId:r.id}}}):o.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Staking,params:{screen:Cu.StakingRoutes.StakedETHOnLido,params:{accountId:n.id,networkId:r.id}}})}));return function(t){return e.apply(this,arguments)}}(),[o,u]),m=(0,a.useCallback)((function(){o.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Staking,params:{screen:Cu.StakingRoutes.ETHPoolSelector,params:{networkId:s,accountId:l,onSelector:p}}})}),[o,s,l,p]);return c?(0,G.jsx)(Z.default,{onPress:m,children:(0,G.jsxs)(D.default,{w:"full",flexDirection:"row",justifyContent:"space-between",alignItems:"center",bg:"surface-default",py:"3",px:"4",borderRadius:12,borderWidth:"1",borderColor:"border-subdued",children:[(0,G.jsx)(Y.default.Body2Strong,{children:r.formatMessage({id:"title__stake_str"},{0:"ETH"})}),(0,G.jsx)(Y.default.Body2,{color:"text-subdued",children:r.formatMessage({id:"content__up_to_apy"},{0:c.value})})]})}):null},Au=function(e){var t=e.token,n=(0,Da.isSupportStakingType)({networkId:null==t?void 0:t.networkId,tokenIdOnNetwork:null==t?void 0:t.tokenIdOnNetwork});return n===Da.StakingTypes.eth?(0,G.jsx)(Mu.WidgetContainer,{stakingType:n,children:(0,G.jsx)(Pu,{stakingType:n})}):null},Du=function(e){var t=e.stakingType,r=(0,b.default)(),o=(0,B.useNavigation)(),i=(0,B.useActiveWalletAccount)(),l=i.accountId,s=i.networkId,u=(0,Su.useAllNetworksSelectNetworkAccount)({accountId:l,networkId:s,filter:(0,Da.getStakeSelectNetworkAccountFilter)(t)}),d={name:"Lido \u2022 Matic",value:"4.3 %",logo:n(345075)},c=(0,a.useCallback)((0,Pt.default)((function*(){var e=yield u(),t=e.account,n=e.network;o.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Staking,params:{screen:Cu.StakingRoutes.StakedMaticOnLido,params:{accountId:t.id,networkId:n.id}}})})),[o,u]);return(0,G.jsx)(Z.default,{onPress:c,children:(0,G.jsxs)(D.default,{w:"full",flexDirection:"row",justifyContent:"space-between",alignItems:"center",bg:"surface-default",py:"3",px:"4",borderRadius:12,borderWidth:"1",borderColor:"border-subdued",children:[(0,G.jsx)(Y.default.Body2Strong,{children:r.formatMessage({id:"title__stake_str"},{0:"MATIC"})}),(0,G.jsx)(Y.default.Body2,{color:"text-subdued",children:r.formatMessage({id:"content__up_to_apy"},{0:d.value})})]})})},Ru=function(e){var t=e.token,n=(0,Da.isSupportStakingType)({networkId:null==t?void 0:t.networkId,tokenIdOnNetwork:null==t?void 0:t.tokenIdOnNetwork});return n===Da.StakingTypes.matic?(0,G.jsx)(Mu.WidgetContainer,{stakingType:n,children:(0,G.jsx)(Du,{stakingType:n})}):null},Eu=function(e){var t=e.stakingType,n=(0,b.default)(),r=(0,B.useNavigation)(),o=(0,B.useActiveWalletAccount)(),i=o.accountId,l=o.networkId,s=(0,B.useAppSelector)((function(e){return e.staking.ethStakingApr})),u=(0,Su.useAllNetworksSelectNetworkAccount)({accountId:i,networkId:l,filter:(0,Da.getStakeSelectNetworkAccountFilter)(t)}),d=(0,a.useMemo)((function(){if(s){var e=l===So.OnekeyNetwork.eth?s.mainnet:s.testnet;return`${(0,Tu.formatAmount)(e.lido,2)}%`}}),[s,l]),c=(0,a.useCallback)((0,Pt.default)((function*(){var e=yield u(),t=e.account,n=e.network;r.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Staking,params:{screen:Cu.StakingRoutes.LidoEthStakeShouldUnderstand,params:{networkId:n.id,accountId:t.id}}})})),[r,u]);return(0,G.jsx)(yl.default,{onPress:c,children:(0,G.jsxs)(D.default,{w:"full",flexDirection:"row",justifyContent:"space-between",alignItems:"center",bg:"surface-default",py:"3",px:"4",borderRadius:12,borderWidth:"1",borderColor:"border-subdued",children:[(0,G.jsx)(Y.default.Body2Strong,{children:n.formatMessage({id:"title__stake_str"},{0:"ETH"})}),(0,G.jsx)(Y.default.Body2,{color:"text-subdued",children:n.formatMessage({id:"content__up_to_apy"},{0:d})})]})})},Bu=function(e){var t=e.token;return(0,Da.isSTETH)(null==t?void 0:t.networkId,null==t?void 0:t.tokenIdOnNetwork)?(0,G.jsx)(Mu.WidgetContainer,{stakingType:Da.StakingTypes.eth,children:(0,G.jsx)(Eu,{stakingType:Da.StakingTypes.eth})}):null},Nu=function(e){var t=e.token;return(0,G.jsxs)(D.default,{children:[(0,G.jsx)(Au,{token:t}),(0,G.jsx)(Ru,{token:t}),(0,G.jsx)(Bu,{token:t})]})},Lu=function(){var e,t=(0,b.default)(),n=(0,a.useContext)(Bs),r=null!=n?n:ea.freezedEmptyObject,o=r.balance,i=r.detailInfo,l=r.routeParams;return(0,G.jsxs)(D.default,{children:[(0,G.jsx)(Y.default.Heading,{children:t.formatMessage({id:"content__balance"})}),(0,G.jsx)(ca.FormatBalance,{balance:null!=o?o:0,suffix:null==i?void 0:i.symbol,formatOptions:{fixed:6},render:function(e){return(0,G.jsx)(Y.default.DisplayXLarge,{children:e})}}),(0,G.jsx)(Y.default.Body2,{mt:"4px",color:"text-subdued",children:(0,G.jsx)(ca.FormatCurrencyNumber,{value:0,convertValue:new(Dt())(null!=o?o:0).times(null!=(e=l.price)?e:0)})})]})},Wu=n(850893),Fu=n(444092),Hu=n(354703),zu=n(164122),Uu=n(49864);var Vu=function(){var e=(0,Pt.default)((function*(e){var t=e.networkId,n=e.contract,r=void 0===n?"main":n,o=e.vs_currency,a=void 0===o?"usd":o,i=e.points,l=e.days;return(yield E.default.engine.getChart({networkId:t,addresses:[r],days:l,vs_currency:a,points:i}))[r]}));return function(t){return e.apply(this,arguments)}}(),$u=function(e){var t=e.data,n=e.onHover,r=e.lineColor,o=e.topColor,i=e.bottomColor,l=e.height,s=(0,a.useRef)(null);return(0,a.useEffect)((function(){if(s.current){var e=function(e,t,n,r){var o=e(t,{height:r,layout:{background:{color:"transparent"}},crosshair:{vertLine:{visible:!1},horzLine:{visible:!1}},grid:{vertLines:{visible:!1},horzLines:{visible:!1}},timeScale:{visible:!1,fixLeftEdge:!0,fixRightEdge:!0,lockVisibleTimeRangeOnResize:!0},rightPriceScale:{visible:!1},handleScale:{pinch:!1,mouseWheel:!1}}),a=function(){o.applyOptions({width:t.clientWidth})};return o.subscribeCrosshairMove((function(e){var t=e.time,r=e.seriesPrices;n({time:t,price:r.values().next().value})})),o.timeScale().fitContent(),window.addEventListener("resize",a),window._onekey_chart=o,{chart:o,handleResize:a}}(Uu.createChart,s.current,n,l),t=e.chart,r=e.handleResize;return function(){window.removeEventListener("resize",r),t.remove()}}}),[]),(0,a.useEffect)((function(){!function(e){var t=e.lineColor,n=e.topColor,r=e.bottomColor,o=e.data,a=o.map((function(e){var t=(0,h.default)(e,2);return{time:t[0],value:t[1]}})),i=window._onekey_chart;if(!i._onekey_series){var l=i.addAreaSeries({lineColor:t,topColor:n,bottomColor:r,lineWidth:2,crosshairMarkerBorderColor:"#fff",crosshairMarkerRadius:5});return l.setData(a),void(i._onekey_series=l)}var s=i._onekey_series;s.applyOptions({lineColor:t,topColor:n,bottomColor:r}),s.setData(a),o.length>2&&i.timeScale().setVisibleLogicalRange({from:.4,to:o.length-1.4})}({bottomColor:i,topColor:o,lineColor:r,data:t})}),[i,o,t,r]),(0,G.jsx)("div",{style:{width:"100%",height:l},ref:s})};$u.displayName="ChartViewAdapter";const Gu=$u;var qu=function(e){var t=e.data,n=e.onHover,r=e.height,a=e.isFetching,i=(0,o.default)("interactive-default"),l=(0,o.default)("action-primary-focus");return(0,G.jsx)(Gu,{isFetching:a,height:r,data:t,lineColor:i,topColor:l,bottomColor:"#00FF1900",onHover:n})};qu.displayName="ChartView";const Xu=(0,a.memo)(qu);const Yu=function(e){var t,n=e.price,r=e.basePrice,o=e.time,a=e.onPriceSubscribe;if(null!==n){var i=(0,Tu.calculateGains)({basePrice:r,price:n}),l=i.gainText,s=i.percentageGain,u=i.gainTextColor;t=(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(Y.default.Body2Strong,{color:u,children:[l,"(",s,")"]}),(0,G.jsx)(Y.default.Body2Strong,{color:"text-subdued",ml:"8px",children:o})]})}else t=(0,G.jsx)(Y.default.Body2Strong,{color:"text-subdued",ml:"8px",children:"+0.00(+0.00%)"});return(0,G.jsxs)(D.default,{flexDirection:"column",children:[(0,G.jsxs)(Z.default,{disabled:Boolean(!a),flexDirection:"row",alignItems:"center",onPress:function(){a&&a(n||0)},children:[(0,G.jsx)(Y.default.DisplayXLarge,{mr:2,children:(0,G.jsx)(ca.FormatCurrencyNumber,{value:n||0})}),a?(0,G.jsx)(J.default,{name:"BellSolid",size:20}):null]}),(0,G.jsx)(D.default,{mt:"4px",flexDirection:"row",alignItems:"center",children:t})]})};var Qu=function(e){var t=e.data,n=e.isFetching,r=e.timeDefaultLabel,o=e.children,i=e.onPriceSubscribe,l=(0,Kr.default)().formatDate,s=(0,b.default)(),u=(0,a.useState)(),d=(0,h.default)(u,2),c=d[0],f=d[1],m=(0,a.useState)(""),x=(0,h.default)(m,2),g=x[0],v=x[1],y=(0,p.default)(),j=null!=t&&t.length?t[0][1]:0,w=null!=t&&t.length?t[t.length-1][1]:0,k=(0,a.useMemo)((function(){return t?"undefined"===c||void 0===c?w:"string"===typeof c?+c:c:null}),[t,w,c]),_=(0,a.useCallback)((function(e){var t;""===e.price&&""===e.time||(t=e.time instanceof Date?l(e.time):"number"===typeof e.time?l(new Date(e.time)):"string"===typeof e.time?l(new Date(+e.time)):"",v(t),f(e.price))}),[l]),O=(0,G.jsx)(Yu,{onPriceSubscribe:i,price:k,time:g||r,basePrice:j}),I=(0,a.useMemo)((function(){return n?(0,G.jsx)(Ht.default,{}):(0,G.jsx)(ct.default,{emoji:"\ud83d\udcca",title:s.formatMessage({id:"empty__no_data"}),subTitle:s.formatMessage({id:"content__data_for_this_token_is_not_included_yet"})})}),[s,n]),S=t&&t.length>0?(0,G.jsx)(Xu,{isFetching:n,height:y?190:240,data:t,onHover:_}):I,T=n?(0,G.jsx)(Ht.default,{}):S;return y?(0,G.jsxs)(G.Fragment,{children:[O,(0,G.jsx)(D.default,{h:"190px",mt:"24px",justifyContent:"center",alignItems:"center",children:T}),(0,G.jsx)(D.default,{mt:"8px",children:o})]}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(D.default,{flexDirection:"row",justifyContent:"space-between",children:[O,(0,G.jsx)(D.default,{w:"280px",children:t?o:null})]}),(0,G.jsx)(D.default,{h:"240px",mt:"32px",justifyContent:"center",alignItems:"center",children:T})]})};Qu.displayName="ChartWithLabel";const Ku=Qu;var Zu=n(231846),Ju=["1D","1W","1M","1Y","All"],ed=["1","7","30","365","max"],td=["content__past_24_hours","content__past_7_days","content__past_month","content__past_year","content__since_str"],nd=function(e){var t=e.selectedIndex,n=e.onTimeChange,r=e.enabled,a=(0,o.default)("background-default");return(0,G.jsx)(Zu.default,{enabled:r,style:{marginTop:5},values:Ju,onValueChange:n,selectedIndex:t,backgroundColor:a})};nd.displayName="TimeControl";const rd=nd;var od=function(e,t){var n=(0,b.default)(),r=(0,Kr.default)().formatDate;return(0,a.useMemo)((function(){var o;return e===td.length-1?n.formatMessage({id:td[e]},{0:t?null==(o=r(new Date(t)).split(","))?void 0:o[0]:""}):n.formatMessage({id:td[e]})}),[r,n,e,t])},ad=function(e){var t,n,r=e.coingeckoId,o=e.style,i=(0,v.useNavigation)(),l=(0,a.useState)(0),s=(0,h.default)(l,2),u=s[0],c=s[1];(0,p.default)()?n="100":d.default.isNativeIOSPad&&(n="300");var m=(0,Fu.useMarketTokenChart)({coingeckoId:r,days:ed[u],points:n}).chart,x=od(u,null==m||null==(t=m[0])?void 0:t[0]),g=(0,Fu.useMarketTokenItem)({coingeckoId:r}),b=(0,a.useCallback)((function(e){i.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.ManageToken,params:{screen:f.ManageTokenModalRoutes.PriceAlertList,params:{price:e,token:{coingeckoId:r,symbol:null==g?void 0:g.symbol,logoURI:null==g?void 0:g.logoURI}}}})}),[r,i,null==g?void 0:g.logoURI,null==g?void 0:g.symbol]),y=(0,a.useCallback)((function(e){var t=Ju.indexOf(e);c(t)}),[]),j=(0,a.useMemo)((function(){return!(m&&m.length>0)}),[m]);return(0,G.jsx)(D.default,{style:o,children:(0,G.jsx)(Ku,{onPriceSubscribe:(0,au.isValidCoingeckoId)(r)?b:void 0,timeDefaultLabel:x,isFetching:j,data:m||[],children:(0,G.jsx)(rd,{enabled:!j,selectedIndex:u,onTimeChange:y})})})};ad.displayName="MarketPriceChart";const id=ad;var ld=function(e){var t=e.marketTokenId,n=(0,b.default)(),r=(0,Fu.useMarketTokenItem)({coingeckoId:t}),o=(0,v.useNavigation)(),i=((0,a.useCallback)((function(){null!=o&&null!=o.canGoBack&&o.canGoBack()&&(null==o||o.goBack())}),[o]),(0,a.useMemo)((function(){var e;return!(null!=r&&null!=(e=r.tokens)&&e.length)}),[r]));return(0,G.jsxs)(D.default,{testID:"MarketDetailActionButton",flexDirection:"row",alignItems:"center",pt:"24px",children:[(0,G.jsx)(K.default,{flex:1,type:"basic",size:"lg",onPress:function(){var e;null!=r&&null!=(e=r.tokens)&&e.length&&(E.default.serviceSwap.buyToken(r.tokens[0]),o.pop(),o.navigate(f.TabRoutes.Swap))},isDisabled:i,children:n.formatMessage({id:"Market__buy"})}),(0,G.jsx)(K.default,{flex:1,ml:2,type:"basic",size:"lg",onPress:function(){var e;null!=r&&null!=(e=r.tokens)&&e.length&&(E.default.serviceSwap.sellToken(r.tokens[0]),o.pop(),o.navigate(f.TabRoutes.Swap))},isDisabled:i,children:n.formatMessage({id:"Market__sell"})})]})};const sd=(0,a.memo)((function(e){var t,n,r,o,i,l,s,u=e.marketTokenId,d=e.tokenDetail,c=(0,ue.useSafeAreaInsets)().bottom,f=(0,p.default)(),m=(0,a.useState)(!1),x=(0,h.default)(m,2),g=x[0],b=x[1],v=f?"16px":"0px",y=(0,B.useAppSelector)((function(e){return e.settings.locale})),j=(0,a.useCallback)((0,Pt.default)((function*(){b(!0),yield E.default.serviceMarket.fetchMarketDetail({coingeckoId:u,locale:"system"===y?(0,wu.getDefaultLocale)():y}),b(!1)})),[y,u]);return(0,G.jsxs)(de.ScrollView,{contentContainerStyle:{paddingBottom:c},refreshControl:(0,G.jsx)(zu.default,{refreshing:g,onRefresh:j}),children:[(0,G.jsx)(D.default,{w:"100%",p:v,flexDirection:"column",bg:"background-default",children:f?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(id,{coingeckoId:u}),(0,G.jsx)(ld,{marketTokenId:u})]}):(0,G.jsx)(id,{coingeckoId:u})}),(0,G.jsx)(ju,{low24h:null==d||null==(t=d.stats)?void 0:t.low24h,high24h:null==d||null==(n=d.stats)?void 0:n.high24h,marketCapRank:null==d||null==(r=d.stats)?void 0:r.marketCapRank,marketCap:null==d||null==(o=d.stats)?void 0:o.marketCap,volume24h:null==d||null==(i=d.stats)?void 0:i.volume24h,expolorers:null==d?void 0:d.explorers,about:null==d?void 0:d.about,links:null==d?void 0:d.links,atl:null==d||null==(l=d.stats)?void 0:l.atl,ath:null==d||null==(s=d.stats)?void 0:s.ath,px:v})]})}));var ud=function(e){var t=e.tokenItem,n=(0,b.default)(),r=(0,p.default)(),o=(0,a.useCallback)((function(){t&&(t.favorited?(E.default.serviceMarket.cancelMarketFavoriteToken(t.coingeckoId),dt.default.show({title:n.formatMessage({id:"msg__removed"})})):(E.default.serviceMarket.saveMarketFavoriteTokens([{coingeckoId:t.coingeckoId,symbol:t.symbol}]),dt.default.show({title:n.formatMessage({id:"msg__added_to_favorites"})})))}),[n,t]);return r?(0,G.jsx)(D.default,{children:(0,G.jsx)(It.default,{ml:4,mr:2,type:r?"plain":"basic",name:null!=t&&t.favorited?"StarSolid":"StarOutline",size:r?"xl":"base",circle:!0,iconColor:null!=t&&t.favorited?"icon-warning":"icon-default",onPress:o})}):(0,G.jsx)(Wu.ButtonItem,{icon:null!=t&&t.favorited?"StarSolid":"StarOutline",text:null!=t&&t.favorited?n.formatMessage({id:"action__unlike"}):n.formatMessage({id:"action__like"}),color:null!=t&&t.favorited?"icon-warning":"icon-default",onPress:o})},dd=function(e){var t=e.onPress,n=(0,b.default)();return(0,G.jsx)(Wu.ButtonItem,{icon:"ArrowsRightLeftMini",text:n.formatMessage({id:"title__swap"}),onPress:t})},cd=function(e){var t=e.onPress,n=(0,b.default)();return(0,G.jsx)(Wu.ButtonItem,{icon:"PlusMini",text:n.formatMessage({id:"Market__buy"}),onPress:t})},fd=function(e){var t=e.tokenItem,n=(0,p.default)();return(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",children:[(0,G.jsx)(Rt.default,{size:n?6:8,token:{logoURI:null==t?void 0:t.logoURI,symbol:null==t?void 0:t.symbol,name:null==t?void 0:t.name}}),(0,G.jsx)(Y.default.Heading,{ml:"2",children:null==t?void 0:t.symbol})]})},pd=function(e){var t,n=e.marketTokenId,r=e.children,o=(0,v.useNavigation)(),i=(0,p.default)(),l=(0,a.useState)(!1),s=(0,h.default)(l,2),u=s[0],c=s[1],m=(0,Fu.useMarketTokenItem)({coingeckoId:n}),x=(0,a.useCallback)((function(){o.goBack()}),[o]);(0,a.useLayoutEffect)((function(){i?o.setOptions({headerRight:function(){return(0,G.jsx)(ud,{tokenItem:m})},headerTitle:function(){return(0,G.jsx)(fd,{tokenItem:m})}}):o.setOptions({headerShown:!1})}));var g=null==m||null==(t=m.tokens)?void 0:t[0],b=(0,a.useState)(""),y=(0,h.default)(b,2),j=y[0],w=y[1];(0,a.useEffect)((function(){void 0!==(null==g?void 0:g.address)&&void 0!==(null==g?void 0:g.networkId)&&E.default.serviceFiatPay.getFiatPayUrl({type:"buy",tokenAddress:null==g?void 0:g.address,networkId:null==g?void 0:g.networkId}).then((function(e){return w(e)}))}),[null==g?void 0:g.address,null==g?void 0:g.networkId]);var k=(0,a.useCallback)((function(e){var t=e.nativeEvent.layout.width;c(t>1280)}),[]),_=Da.coingeckoId2StakingTypes[n];return i?null!=r?r:null:(0,G.jsxs)(D.default,{bg:"background-default",w:"full",h:"full",p:"4",children:[(0,G.jsx)(D.default,{w:"full",flexDirection:"row",alignItems:"center",py:"5",children:(0,G.jsx)(It.default,{onPress:x,type:"plain",name:"ArrowLeftOutline"})}),(0,G.jsxs)(D.default,{flex:1,flexDirection:"row",justifyContent:"center",onLayout:k,children:[(0,G.jsxs)(D.default,{flex:1,maxW:uu.SCREEN_SIZE.LARGE,children:[(0,G.jsxs)(D.default,{display:"flex",justifyContent:"space-between",flexDirection:"row",mb:"8",children:[(0,G.jsx)(fd,{tokenItem:m}),(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",justifyContent:"space-around",children:[g?(0,G.jsx)(dd,{onPress:function(){g&&(E.default.serviceSwap.setOutputToken(g),o.navigate(f.TabRoutes.Swap))}}):null,_?(0,G.jsx)(Hu.MarketStakeButton,{stakingType:_}):null,j.length>0&&!d.default.isAppleStoreEnv?(0,G.jsx)(cd,{onPress:function(){o.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.FiatPay,params:{screen:f.FiatPayModalRoutes.MoonpayWebViewModal,params:{url:j}}})}}):null,(0,G.jsx)(ud,{tokenItem:m})]})]}),r]}),g&&u?(0,G.jsx)(D.default,{width:"360px",ml:"4",children:(0,G.jsx)(Yl,{networkId:g.networkId,tokenId:g.tokenIdOnNetwork})}):null]})]})};const md=function(){var e=(0,v.useRoute)().params.marketTokenId,t=ku({coingeckoId:e}).tokenDetail;return(0,G.jsx)(pd,{marketTokenId:e,children:(0,G.jsx)(sd,{tokenDetail:t,marketTokenId:e})})};var hd=function(e){var t=e.coingeckoId,n=(0,Fu.useMarketTokenItem)({coingeckoId:t});return n?(0,G.jsx)(ud,{tokenItem:n}):null};function xd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xd(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bd=function(){var e,t,n=(0,b.default)(),r=(0,p.default)(),o=(0,B.useNavigation)(),i=(0,a.useContext)(Bs),l=null!=(e=null==i?void 0:i.routeParams)?e:{},s=l.walletId,u=void 0===s?"":s,c=l.accountId,m=void 0===c?"":c,h=l.networkId,x=void 0===h?"":h,g=l.sendAddress,v=l.coingeckoId,y=null!=(t=null==i?void 0:i.detailInfo)?t:{},j=y.symbol,w=y.logoURI,k=y.fiatUrls,_=null!=i?i:ea.freezedEmptyObject,O=_.isLoading,I=_.detailInfo,S=(0,B.useWallet)({walletId:u}).wallet,T=(0,a.useMemo)((function(){return(0,da.isAllNetworks)(x)&&O}),[O,x]),C=(0,B.useNetwork)({networkId:x}).network,M=(0,a.useCallback)((function(e){var t,n=e.network;return!(null==n||!n.id)&&!(null==I||null==(t=I.tokens)||!t.some((function(e){return e.networkId===(null==n?void 0:n.id)})))}),[null==I?void 0:I.tokens]),P=(0,Su.useAllNetworksSelectNetworkAccount)({networkId:x,accountId:m,filter:M}),A=(0,a.useCallback)((function(e){var t=e.network,n=e.account,r=e.token;o.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Send,params:{screen:is.SendModalRoutes.PreSendAddress,params:{accountId:n.id,networkId:t.id,from:"",to:"",amount:"",token:null==r?void 0:r.address,tokenSendAddress:null==r?void 0:r.sendAddress}}})}),[o]),R=(0,a.useCallback)((function(e){var t=e.network,n=e.account;S&&((0,Et.isLightningNetworkByImpl)(t.impl)?o.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Receive,params:{screen:f.ReceiveTokenModalRoutes.CreateInvoice,params:{networkId:t.id,accountId:n.id}}}):o.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Receive,params:{screen:f.ReceiveTokenModalRoutes.ReceiveToken,params:{address:n.address,displayAddress:n.displayAddress,wallet:S,network:t,account:n,template:n.template}}}))}),[o,S]),N=(0,a.useCallback)(function(){var e=(0,Pt.default)((function*(e){var t=e.token,n=e.account,r=e.network;if(t){var a=(0,Et.isLightningNetworkByNetworkId)(r.id);a?E.default.serviceSwap.sellToken(t,!a).then((function(){a&&setTimeout((function(){E.default.serviceSwap.switchToNativeOutputToken(r.id===So.OnekeyNetwork.lightning?So.OnekeyNetwork.btc:So.OnekeyNetwork.tbtc)}),50)})):yield E.default.serviceSwap.buyToken(t),n&&r&&E.default.serviceSwap.setRecipientToAccount(n,r),o.navigate(f.RootRoutes.Main,{screen:f.MainRoutes.Tab,params:{screen:f.TabRoutes.Swap}})}}));return function(t){return e.apply(this,arguments)}}(),[o]),L=(0,a.useCallback)((function(e){o.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.FiatPay,params:{screen:f.FiatPayModalRoutes.MoonpayWebViewModal,params:{url:e}}})}),[o]),W=(0,a.useCallback)(function(){var e=(0,Pt.default)((function*(e){var t=e.token,n=e.account,r=e.network,o=yield E.default.serviceFiatPay.getFiatPayUrl({type:"buy",address:null==n?void 0:n.address,tokenAddress:null==t?void 0:t.address,networkId:null==r?void 0:r.id});L(o)}));return function(t){return e.apply(this,arguments)}}(),[L]),F=(0,a.useCallback)(function(){var e=(0,Pt.default)((function*(e){var t=e.account,n=e.network,r=e.token,o=yield E.default.serviceFiatPay.getFiatPayUrl({type:"sell",address:null==t?void 0:t.address,tokenAddress:null==r?void 0:r.address,networkId:null==n?void 0:n.id});L(o)}));return function(t){return e.apply(this,arguments)}}(),[L]),H=(0,a.useCallback)((function(e){P().then((function(t){var n,r=t.network,o=t.account,a=null==I||null==(n=I.tokens)?void 0:n.find((function(e){var t,n,o;return(null==r?void 0:r.id)===(null!=(t=e.networkId)?t:`${null!=(n=e.impl)?n:""}--${null!=(o=e.chainId)?o:""}`)}));a&&(null==e.onPress||e.onPress({network:r,account:o,token:gd(gd({},a),{},{sendAddress:g})}))}))}),[P,null==I?void 0:I.tokens,g]),z=(0,a.useMemo)((function(){return!(null!=C&&C.settings.hiddenAccountInfoMoreOption)}),[C]),U=(0,a.useMemo)((function(){return"watching"===(null==S?void 0:S.type)}),[S]),V=(0,a.useMemo)((function(){var e=[{id:"action__send",onPress:A,icon:"PaperAirplaneOutline",isDisabled:U},{id:"action__receive",onPress:R,icon:"QrCodeMini",isDisabled:U},{id:"title__swap",onPress:N,icon:"ArrowsRightLeftSolid",isDisabled:U},{id:"action__buy",onPress:W,icon:"PlusMini",visible:function(){var e;return!d.default.isAppleStoreEnv&&z&&!(null==k||null==(e=k[x])||!e.buy)},isDisabled:U},{id:"action__sell",onPress:F,icon:"BanknotesMini",visible:function(){var e;return!d.default.isAppleStoreEnv&&z&&!(null==k||null==(e=k[x])||!e.sell)},isDisabled:U}].filter((function(e){return!e.visible||(null==e||null==e.visible?void 0:e.visible())})),t=r?4:3;return{buttons:e.slice(0,t),options:e.slice(t).map((function(e){return gd(gd({},e),{},{onPress:function(){H(e)}})}))}}),[x,k,H,r,W,F,N,R,A,z,U]),$=V.buttons,q=V.options;return(0,G.jsx)(D.default,{children:(0,G.jsxs)(Ot.default,{justifyContent:"space-between",children:[!r&&(0,G.jsxs)(Ot.default,{flex:"1",alignItems:"center",children:[(0,G.jsx)(Rt.default,{showInfo:!1,size:8,token:{logoURI:w}}),(0,G.jsx)(Y.default.Heading,{ml:"2",children:j})]}),(0,G.jsxs)(Ot.default,{justifyContent:"space-between",w:r?"100%":void 0,children:[$.map((function(e){return(0,G.jsx)(Wu.ButtonItem,{onPress:function(){H(e)},icon:e.icon,text:n.formatMessage({id:e.id}),isDisabled:e.isDisabled},e.id)})),(0,au.isValidCoingeckoId)(v)&&!r?(0,G.jsx)(hd,{coingeckoId:v}):null,z&&null!=q&&q.length?(0,G.jsx)(Xs.default,{ml:"26px",options:q,children:(0,G.jsx)(Z.default,{flex:r?1:void 0,children:(0,G.jsx)(Wu.ButtonItem,{icon:"EllipsisVerticalOutline",text:n.formatMessage({id:"action__more"}),isDisabled:T})})}):null]})]})})},vd=n(920453),yd=function(e){var t,n,r,o,i,l=e.coingeckoId,s=e.contract,u=e.networkId,c=e.style,m=e.symbol,x=(0,a.useState)(!0),g=(0,h.default)(x,2),b=g[0],y=g[1],j=(0,v.useNavigation)(),w=(0,a.useState)(0),k=(0,h.default)(w,2),_=k[0],O=k[1],I=(0,vd.useSimpleTokenPriceValue)({networkId:u,contractAdress:s}),S=(0,a.useRef)([]),T=od(_,null==(t=S.current)||null==(n=t[_])||null==(r=n[0])?void 0:r[0]),C=(0,B.useSettings)().selectedFiatMoneySymbol,M=void 0===I||null===I;(0,p.default)()?i="100":d.default.isNativeIOSPad&&(i="300");var P=(0,Fu.useMarketTokenItem)({coingeckoId:l}),A=(0,a.useCallback)((function(e){j.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.ManageToken,params:{screen:f.ManageTokenModalRoutes.PriceAlertList,params:{price:e,token:{coingeckoId:l,symbol:null!=m?m:null==P?void 0:P.symbol,logoURI:null==P?void 0:P.logoURI}}}})}),[l,j,null==P?void 0:P.logoURI,null==P?void 0:P.symbol,m]),R=(0,a.useCallback)(function(){var e=(0,Pt.default)((function*(e){var t=Ju.indexOf(e);if(!S.current[t]){y(!0);var n=yield Vu({contract:s,networkId:u,days:ed[t],points:i,vs_currency:C});null!=n&&n.length&&(S.current[t]=n)}O(t),y(!1)}));return function(t){return e.apply(this,arguments)}}(),[s,u,i,C]);return(0,a.useEffect)((function(){R(Ju[0])}),[R]),(0,G.jsx)(D.default,{style:c,children:(0,G.jsx)(Ku,{onPriceSubscribe:(0,au.isValidCoingeckoId)(l)?A:void 0,isFetching:b,timeDefaultLabel:T,data:M?null:(null==(o=S.current)?void 0:o[_])||[],children:(0,G.jsx)(rd,{enabled:!b&&!M,selectedIndex:_,onTimeChange:R})})})};yd.displayName="PriceChart";const jd=yd;var wd=function(e){var t=e.networkId,n=void 0===t?"":t,r=e.coingeckoId,o=e.tokenAddress,i=e.symbol;return(0,a.useMemo)((function(){return(0,da.isAllNetworks)(n)?(0,G.jsx)(id,{coingeckoId:null!=r?r:""}):(0,G.jsx)(jd,{networkId:n,contract:o,coingeckoId:r,symbol:i},`${n}--${null!=o?o:""}`)}),[r,i,n,o])};function kd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kd(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Od=function(){var e=(0,ge.default)().size,t=(0,B.useAppSelector)((function(e){return e.settings.showTokenDetailPriceChart})),n=(0,a.useContext)(Bs),r=(0,a.useMemo)((function(){return"SMALL"===e?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(Lu,{}),(0,G.jsx)(bd,{}),(0,G.jsx)(Nu,{token:null==n?void 0:n.detailInfo.defaultToken})]}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(bd,{}),t&&null!=n&&n.routeParams?(0,G.jsx)(wd,_d({},null==n?void 0:n.routeParams)):null,(0,G.jsx)(Lu,{}),(0,G.jsx)(Nu,{token:null==n?void 0:n.detailInfo.defaultToken})]})}),[e,t,null==n?void 0:n.routeParams,null==n?void 0:n.detailInfo.defaultToken]);return(0,G.jsx)(ce.default,{px:["NORMAL","LARGE"].includes(e)?8:4,space:"6",bg:"background-default",children:r})};var Id=n(896953),Sd=function(){var e=(0,b.default)(),t=(0,B.useAppSelector)((function(e){return e.settings.showTokenDetailPriceChart})),n=(0,a.useCallback)((function(){(0,E.default.dispatch)((0,xl.setShowTokenDetailPriceChart)(!t))}),[t]),r=(0,a.useMemo)((function(){return[function(){return(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:"10px",px:3,onPress:n,children:[(0,G.jsx)(Y.default.Body2,{flex:"1",children:e.formatMessage({id:t?"action__hide_chart":"action__show_chart"})}),(0,G.jsx)(Id.default,{isChecked:!!t,mr:"-12px",pointerEvents:"none"})]})}]}),[e,t,n]);return(0,G.jsx)(Xs.default,{ml:"26px",options:r,children:(0,G.jsx)(It.default,{circle:!0,size:"sm",name:"EllipsisVerticalOutline",w:"34px",h:"34px",type:"plain"})})},Td=n(433423);function Cd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Md(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cd(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Pd=(0,a.memo)((function(){var e,t=(0,a.useRef)(null),n=(0,b.default)(),r=(0,ue.useSafeAreaInsets)().bottom,o=(0,a.useContext)(Bs),i=null!=(e=null==o?void 0:o.routeParams)?e:{},l=i.price,s=i.price24h,u=(0,Tu.calculateGains)({price:l,basePrice:new(Dt())(null!=l?l:0).multipliedBy(1-(null!=s?s:0)/100).toNumber()}),d=u.percentageGain,c=u.gainTextColor,f=(0,a.useCallback)((function(){null!=o&&o.routeParams&&(null!=t&&t.current&&(null==t||null==t.current||t.current()),t.current=(0,pr.showOverlay)((function(e){return(0,G.jsx)(Td.BottomSheetSettings,{closeOverlay:e,children:(0,G.jsx)(wd,Md({},null==o?void 0:o.routeParams))})})))}),[null==o?void 0:o.routeParams]);return(0,v.useFocusEffect)((0,a.useCallback)((function(){return function(){null==t||null==t.current||t.current()}}),[])),l&&s?(0,G.jsxs)(Z.default,{pb:`${Math.max(r,32)}px`,position:"absolute",bottom:"0",left:"0",w:"full",alignItems:"center",display:"flex",justifyContent:"space-between",flexDirection:"row",px:"3",pt:"2",borderTopRadius:"12px",borderTopWidth:"1px",borderTopColor:"border-subdued",onPress:f,bg:"background-default",children:[(0,G.jsx)(Y.default.Body2Strong,{flex:"1",display:"flex",children:n.formatMessage({id:"form__current_price"})}),(0,G.jsx)(Y.default.Body2,{mx:"1",children:(0,G.jsx)(ca.FormatCurrencyNumber,{value:0,convertValue:+(l||0)})}),(0,G.jsx)(Y.default.Body2,{color:c,children:d}),(0,G.jsx)(J.default,{name:"ChevronUpMini",size:20})]}):null}));function Ad(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Dd;!function(e){e.Assets="Assets",e.History="History",e.Info="Info"}(Dd||(Dd={}));var Rd=(0,a.memo)((function(){return(0,G.jsx)(T.default,{children:(0,G.jsx)(Ht.default,{mt:18,size:"lg"})})}));var Ed=(0,a.memo)((function(){var e=(0,b.default)(),t=(0,a.useState)(!1),n=(0,h.default)(t,2),o=n[0],i=n[1],l=(0,p.default)(),s=(0,v.useRoute)(),u=(0,v.useNavigation)(),d=s.params,c=d.coingeckoId,f=d.networkId,m=d.tokenAddress,x=d.sendAddress,g=d.accountId,y=d.price,j=d.price24h,w=d.logoURI,k=d.name,_=d.symbol,O=(0,a.useMemo)((function(){return{price:y||void 0,price24h:j||void 0,logoURI:w,name:k,symbol:_}}),[y,j,w,k,_]),I=(0,B.useTokenPositionInfo)({networkId:f,accountId:g,tokenAddress:m,sendAddress:x,coingeckoId:c,defaultInfo:O}),S=(0,B.useAppSelector)((function(e){return e.settings.showTokenDetailPriceChart})),T=(0,a.useMemo)((function(){return(0,Et.isLightningNetworkByNetworkId)(f)}),[f]),C=(0,a.useMemo)((function(){return(0,Aa.isBRC20Token)(m)}),[m]),M=(0,a.useMemo)((function(){var e=l?210:194;return!(0,Da.isSupportStakingType)({networkId:f,tokenIdOnNetwork:m})&&!(0,Da.isSTETH)(f,m)||(0,da.isAllNetworks)(f)||(e+=60),S&&!l&&(e+=332),e}),[f,l,S,m]),P=(0,a.useCallback)((function(){return l?(0,G.jsxs)(Ot.default,{space:"8px",alignItems:"center",children:[(0,G.jsx)(Rt.default,{size:"24px",showTokenVerifiedIcon:!0,token:{name:O.name,symbol:O.symbol,logoURI:O.logoURI}}),(0,G.jsx)(Y.default.Heading,{children:O.symbol})]}):null}),[l,O]),A=(0,a.useCallback)((function(){return C?null:l?(0,G.jsx)(hd,{coingeckoId:c}):(0,G.jsx)(Sd,{})}),[l,C,c]);(0,a.useLayoutEffect)((function(){u.setOptions({title:"",headerTitle:P,headerRight:A})}),[A,P,u]);var R=(0,a.useCallback)((function(e){var t=e.nativeEvent.layout.width;i(t>1280)}),[]),E=(0,a.useMemo)((function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ad(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ad(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({routeParams:s.params},I)}),[s.params,I]),N=(0,a.useMemo)((function(){return(0,G.jsx)(D.default,{h:M,children:(0,G.jsx)(Od,{})})}),[M]);return C?(0,G.jsx)(Bs.Provider,{value:E,children:(0,G.jsx)(ou,{})}):(0,G.jsx)(Bs.Provider,{value:E,children:(0,G.jsxs)(Ot.default,{onLayout:R,position:"relative",maxWidth:"2155px",mx:"auto",w:"full",flex:"1",justifyContent:"center",pb:l?"60px":0,children:[(0,G.jsxs)(Mr.Tabs.Container,{headerHeight:M,disableRefresh:!0,headerView:N,containerStyle:{maxWidth:1088,flex:1},children:[(0,G.jsx)(Mr.Tabs.Tab,{name:Dd.Assets,label:e.formatMessage({id:"content__asset"}),children:(0,G.jsx)(Ls,{})}),(0,G.jsx)(Mr.Tabs.Tab,{name:Dd.History,label:e.formatMessage({id:"transaction__history"}),children:(0,G.jsx)(Ms,{accountId:g,networkId:f,tokenId:(0,da.isAllNetworks)(f)?c:m,tabComponent:!0})}),(0,G.jsx)(Mr.Tabs.Tab,{name:Dd.Info,label:e.formatMessage({id:"content__info"}),children:(0,G.jsx)(Iu,{coingeckoId:c})})]},String(M)),l||!o||(0,da.isAllNetworks)(f)||T?null:(0,G.jsx)(D.default,{width:"360px",mr:"4",children:(0,G.jsx)(Yl,{tokenId:null!=m?m:"main",networkId:f})}),l?(0,G.jsx)(Pd,{}):null]})})}));const Bd=(0,a.memo)((function(){var e=(0,v.useRoute)().params.tokenAddress;return(0,a.useMemo)((function(){return(0,Aa.isBRC20Token)(e)}),[e])?(0,G.jsx)(Ed,{}):(0,G.jsx)(et.LazyDisplayView,{delay:100,defaultView:(0,G.jsx)(Rd,{}),children:(0,G.jsx)(Ed,{})})}));var Nd=n(670165),Ld=n(733950);function Wd(e){var t=e.children,n=e.homeTabName,r=e.freezeType,o=(0,a.useRef)(!1),i=n===(0,Ld.useHomeTabName)();(0,a.useEffect)((function(){i&&(o.current=!0)}),[i]);var l=!i,s=Mr.Tabs.FlatList,u=(0,a.useMemo)((function(){return(0,G.jsx)(s,{data:[],renderItem:function(){return(0,G.jsx)(D.default,{})}})}),[s]),d=(0,a.useMemo)((function(){return l&&"unmount"===r?u:o.current||i?t:u}),[t,u,r,i,l]);return l&&"freeze"===r?(0,G.jsx)(at.default,{freeze:!0,children:d}):d}function Fd(e){var t=e.name;e.once,(0,a.useCallback)((function(){var e;null==(e=n.g.$$onekeyPerfTrace)||e.log({name:t})}),[t]);return null}var Hd=n(239014),zd=n(33809),Ud=n(830631),Vd=n(930822),$d=n(785695),Gd=n.n($d),qd=n(450870),Xd=n(850167),Yd=n(135463),Qd=n(709303),Kd=function(){var e,t=(0,b.default)(),n=null==(e=(0,B.useAppSelector)((function(e){return e.settings.includeNFTsInTotal})))||e,r=(0,B.useActiveWalletAccount)(),o=r.accountId,a=r.networkId,i=(0,Qd.useAccountBalanceDetailsInfo)({networkId:a,accountId:o,useRecycleBalance:!0}),l=(0,Yd.useShouldHideInscriptions)({accountId:o,networkId:a});return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(Qd.AccountBalanceDetailsPanel,{info:i}),i.enabled?(0,G.jsx)(D.default,{h:4}):null,l?null:(0,G.jsxs)(Td.BottomSheetSettingRow,{children:[(0,G.jsx)(Y.default.Body1Strong,{children:t.formatMessage({id:"form__include_nfts_in_totals"})}),(0,G.jsx)(Ki.default,{labelType:"false",isChecked:n,onToggle:function(){return E.default.dispatch((0,xl.setIncludeNFTsInTotal)(!n))}})]})]})},Zd=function(){return(0,pr.showOverlay)((function(e){return(0,G.jsx)(Td.BottomSheetSettings,{closeOverlay:e,children:(0,G.jsx)(Kd,{})})}))};const Jd=function(e){var t=e.isSmallView,n=e.networkId,r=e.accountId,o=(0,b.default)(),i=(0,B.useNavigation)(),l=(0,B.useAccount)({accountId:r,networkId:n}).account,s=(0,B.useNetwork)({networkId:n}).network,u=(0,a.useCallback)(function(){var e=(0,Pt.default)((function*(e){var t,r=e.isWithdraw;if(!(0,Et.isLightningNetworkByNetworkId)(n))throw new Error("should be lightning network");var o,a,u=n===So.OnekeyNetwork.tlightning;r?(o=u?So.OnekeyNetwork.tlightning:So.OnekeyNetwork.lightning,a=u?So.OnekeyNetwork.tbtc:So.OnekeyNetwork.btc):(o=u?So.OnekeyNetwork.tbtc:So.OnekeyNetwork.btc,a=u?So.OnekeyNetwork.tlightning:So.OnekeyNetwork.lightning),yield E.default.serviceSwap.setNativInputAndOutputToken(o,a),l&&(r?E.default.serviceSwap.setSendingAccountSimple(l):E.default.serviceSwap.setRecipientToAccount(l,s)),null==(t=i.getParent())||t.navigate(f.TabRoutes.Swap)}));return function(t){return e.apply(this,arguments)}}(),[n,i,l,s]),d=(0,a.useMemo)((function(){return[{id:"action__top_up_btc",onPress:function(){u({isWithdraw:!1})},icon:"ArrowDownSolid"},{id:"action__withdraw_to_btc_account",onPress:function(){u({isWithdraw:!0})},icon:"ArrowUpSolid"}]}),[u]);return(0,G.jsxs)(D.default,{flex:1,mx:3,minW:"56px",alignItems:"center",children:[(0,G.jsx)(Xs.default,{options:d,menuWidth:280,children:(0,G.jsx)(It.default,{circle:!0,size:t?"xl":"lg",name:"ArrowsRightLeftOutline",type:"basic"})}),(0,G.jsx)(Y.default.CaptionStrong,{textAlign:"center",mt:"8px",color:"text-default",children:o.formatMessage({id:"title__swap"})})]})};var ec=n(911929),tc=n(278489),nc=n(420454);function rc(){return(0,nc.useAppSelector)((function(e){var t,n;return null==e||null==(t=e.settings)||null==(n=t.devMode)?void 0:n.enable}))}var oc=n(733456),ac=n(352605),ic=function(e){var t=e.networkId,n=e.accountId,r=e.type,o=(0,B.useActiveSideAccount)({networkId:t,accountId:n}).wallet,i=(0,B.useNavigation)(),l=(0,Su.useActionForAllNetworks)({accountId:n,networkId:t,action:(0,a.useCallback)((function(e){var t=e.network,n=e.account;i.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.FiatPay,params:{screen:f.FiatPayModalRoutes.SupportTokenListModal,params:{type:r,networkId:t.id,accountId:n.id}}})}),[i,r]),filter:function(e){return!d.default.isAppleStoreEnv&&"watching"!==(null==o?void 0:o.type)&&!!e.network&&!!e.account}}),s=l.visible;return{visible:s,process:l.process,isDisabled:!s,icon:"PlusMini",text:"action__buy_crypto"}},lc=[Et.IMPL_APTOS,Et.IMPL_SUI];const sc=function(e){var t,n=e.iconBoxFlex,r=e.isSmallView,o=(0,b.default)(),i=(0,B.useNavigation)(),l=(0,B.useActiveWalletAccount)(),s=l.network,u=l.account,d=l.wallet,c=l.accountId,p=l.networkId,m=(0,Yr.default)(s).openAddressDetails,x=(0,Xd.useCopyAddress)({wallet:d}).copyAddress,g=E.default.serviceNotification,v=E.default.dispatch,y=(0,ac.useEnabledAccountDynamicAccounts)(!1),j=y.enabledAccounts,w=y.loading,k=y.refresh,_=(0,a.useState)(!1),O=(0,h.default)(_,2),I=O[0],S=O[1],T=(0,Ar.useIsMounted)(),C=rc(),M=(0,a.useMemo)((function(){return j.find((function(e){var t;return e.address.toLowerCase()===(null==u||null==(t=u.address)||null==t.toLowerCase?void 0:t.toLowerCase())}))}),[j,u]),P=(0,ec.useAsync)((0,Pt.default)((function*(){var e;return(0,ac.checkAccountCanSubscribe)(u,null!=(e=null==s?void 0:s.id)?e:"")})),[u],{executeOnMount:!1,executeOnUpdate:!1}),A=P.result,R=void 0!==A&&A,N=P.execute;(0,a.useEffect)((function(){(0,Pt.default)((function*(){if(!s)return!1;if((0,da.isAllNetworks)(null==s?void 0:s.id))return!1;var e=yield E.default.engine.getVaultSettings(s.id);if(lc.includes(s.impl)&&!s.isTestnet)return!1;T.current&&S(!(null==e||!e.activateAccountRequired)&&"watching"!==(null==d?void 0:d.type))}))()}),[T,s,null==d?void 0:d.type]);var L=!!u&&!w&&R&&Et.enabledAccountDynamicNetworkIds.includes((null==s?void 0:s.id)||"")&&(0,tc.isCoinTypeCompatibleWithImpl)(u.coinType,Et.IMPL_EVM),W=(null==s?void 0:s.settings.isBtcForkChain)&&!(null==u||!u.xpub),F=(0,a.useMemo)((function(){return M?"BellSlashMini":"BellMini"}),[M]),H=(0,a.useCallback)((0,Pt.default)((function*(){if(u){var e=null;M?e=yield g.removeAccountDynamic({address:u.address}):(v((0,xl.setPushNotificationConfig)({pushEnable:!0,accountActivityPushEnable:!0})),e=yield g.addAccountDynamic({accountId:u.id,address:u.address,name:u.name,passphrase:!!d&&(0,Fs.isPassphraseWallet)(d)})),e&&dt.default.show({title:o.formatMessage({id:M?"msg__unsubscription_succeeded":"msg__subscription_succeeded"})})}})),[d,u,o,v,M,g]),z=(0,a.useCallback)((function(){var e;i.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.CoinControl,params:{screen:f.CoinControlModalRoutes.CoinControlModal,params:{networkId:null!=(e=null==s?void 0:s.id)?e:"",accountId:c,isSelectMode:!1}}})}),[i,null==s?void 0:s.id,c]),U=ic({accountId:c,networkId:p,type:"buy"}),V=ic({accountId:c,networkId:p,type:"sell"}),$=(0,a.useMemo)((function(){return[!!I&&{id:"action__get_faucet",onPress:function(){u&&s&&E.default.engine.activateAccount(u.id,s.id).catch((function(){}))},icon:"LightBulbMini"},U.visible&&{id:"action__buy_crypto",onPress:U.process,icon:"PlusMini"},V.visible&&{id:"action__sell_crypto",onPress:V.process,icon:"BanknotesMini"},!(null==u||!u.address)&&{id:"action__view_in_explorer",icon:"GlobeAltMini",onPress:function(){m(null==u?void 0:u.address)}},!(0,da.isAllNetworks)(null==s?void 0:s.id)&&{id:"action__copy_address",onPress:function(){setTimeout((function(){x({address:null==u?void 0:u.address,displayAddress:null==u?void 0:u.displayAddress})}),150)},icon:"Square2StackMini"},L&&{id:M?"action__unsubscribe":"action__subscribe",onPress:H,icon:F},W&&{id:"title__manage_utxos",onPress:z,icon:"CircleStackOutline"},C&&{id:"content__gas_fee",onPress:function(){var e;i.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.GasPanel,params:{screen:oc.GasPanelRoutes.GasPanelModal,params:{networkId:null!=(e=null==s?void 0:s.id)?e:""}}})},icon:"GasIllus"}]}),[U,V,I,L,M,H,F,W,z,C,u,s,i,x,m]);return null!=(t=$.filter(Boolean))&&t.length?(0,G.jsxs)(D.default,{flex:n,mx:3,minW:"56px",alignItems:"center",children:[(0,G.jsx)(Xs.default,{w:220,options:$,onOpen:function(){k(),N()},children:(0,G.jsx)(It.default,{circle:!0,size:r?"xl":"lg",name:"EllipsisVerticalOutline",type:"basic"})}),(0,G.jsx)(Y.default.CaptionStrong,{textAlign:"center",mt:"8px",color:"text-default",children:o.formatMessage({id:"action__more"})})]}):null};var uc=n(249915),dc=(0,a.memo)((function(e){var t=e.isSmallView,n=(0,b.default)(),r=(0,B.useNavigation)(),o=(0,B.useActiveWalletAccount)(),i=o.wallet,l=o.account,s=o.networkId,u=o.accountId,d=(0,p.default)(),c=(0,B.useNavigationActions)().sendToken,m=d?1:0,h=(0,B.useNetwork)({networkId:s}).network,x=(0,Su.useAllNetworksSelectNetworkAccount)({networkId:s,accountId:u,filter:function(e){var t=e.network,n=e.account;return!!t&&!!n}}),g=(0,a.useCallback)((function(){x().then((function(e){var t=e.network,n=e.account;t&&n&&c({accountId:null==n?void 0:n.id,networkId:null==t?void 0:t.id})}))}),[c,x]),v=(0,a.useCallback)((function(){x().then((function(e){var t=e.network,n=e.account;t&&n&&((0,Et.isLightningNetworkByImpl)(null==t?void 0:t.impl)?r.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Receive,params:{screen:uc.ReceiveTokenModalRoutes.CreateInvoice,params:{networkId:t.id,accountId:null==n?void 0:n.id}}}):r.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Receive,params:{screen:uc.ReceiveTokenModalRoutes.ReceiveToken,params:{address:n.address,displayAddress:n.displayAddress,wallet:i,network:t,account:n,template:n.template}}}))}))}),[r,i,x]),y=(0,a.useCallback)((function(){x().then(function(){var e=(0,Pt.default)((function*(e){var t,o,a=e.network,i=e.account;if(a&&i){var l=yield E.default.engine.getNativeTokenInfo(null!=(t=null==a?void 0:a.id)?t:"");if(l)(yield E.default.serviceSwap.tokenIsSupported(l))||(dt.default.show({title:n.formatMessage({id:"msg__wrong_network_desc"})},{type:"default"}),l=yield E.default.engine.getNativeTokenInfo(So.OnekeyNetwork.eth));if(l){var s=(0,Et.isLightningNetworkByNetworkId)(a.id);if(E.default.serviceSwap.sellToken(l,!s).then((function(){s&&E.default.serviceSwap.switchToNativeOutputToken(a.id===So.OnekeyNetwork.lightning?So.OnekeyNetwork.btc:So.OnekeyNetwork.tbtc)})),i){E.default.serviceSwap.setSendingAccountSimple(i);var u=yield E.default.serviceSwap.getPaymentToken(l);(null==u?void 0:u.networkId)===(null==a?void 0:a.id)&&E.default.serviceSwap.setRecipientToAccount(i,a)}}null==(o=r.getParent())||o.navigate(f.TabRoutes.Swap)}}));return function(t){return e.apply(this,arguments)}}())}),[r,n,x]);return(0,G.jsxs)(D.default,{flexDirection:"row",px:d?1:0,mx:-3,children:[(0,G.jsxs)(Z.default,{flex:m,mx:3,minW:"56px",alignItems:"center",isDisabled:"watching"===(null==i?void 0:i.type)||!l,onPress:g,children:[(0,G.jsx)(qs.default,{children:(0,G.jsx)(It.default,{circle:!0,size:t?"xl":"lg",name:"PaperAirplaneOutline",type:"basic",isDisabled:"watching"===(null==i?void 0:i.type)||!l,onPress:g})}),(0,G.jsx)(Y.default.CaptionStrong,{textAlign:"center",mt:"8px",color:"watching"!==(null==i?void 0:i.type)&&l?"text-default":"text-disabled",children:n.formatMessage({id:"action__send"})})]}),(0,G.jsxs)(Z.default,{flex:m,mx:3,minW:"56px",alignItems:"center",isDisabled:"watching"===(null==i?void 0:i.type)||!l,onPress:v,children:[(0,G.jsx)(qs.default,{children:(0,G.jsx)(It.default,{circle:!0,size:t?"xl":"lg",name:"QrCodeOutline",type:"basic",isDisabled:"watching"===(null==i?void 0:i.type)||!l,onPress:v})}),(0,G.jsx)(Y.default.CaptionStrong,{textAlign:"center",mt:"8px",color:"watching"!==(null==i?void 0:i.type)&&l?"text-default":"text-disabled",children:n.formatMessage({id:"action__receive"})})]}),null!=h&&h.settings.customAccountInfoSwapOption?(0,G.jsx)(Jd,{isSmallView:t,networkId:s,accountId:u}):(0,G.jsxs)(Z.default,{flex:m,mx:3,minW:"56px",alignItems:"center",isDisabled:"watching"===(null==i?void 0:i.type)||!l,onPress:y,children:[(0,G.jsx)(qs.default,{children:(0,G.jsx)(It.default,{circle:!0,size:t?"xl":"lg",name:"ArrowsRightLeftOutline",type:"basic",isDisabled:"watching"===(null==i?void 0:i.type)||!l,onPress:y})}),(0,G.jsx)(Y.default.CaptionStrong,{textAlign:"center",mt:"8px",color:"watching"!==(null==i?void 0:i.type)&&l?"text-default":"text-disabled",children:n.formatMessage({id:"title__swap"})})]}),null!=h&&h.settings.hiddenAccountInfoMoreOption?null:(0,G.jsx)(sc,{isSmallView:t,iconBoxFlex:m})]})}));dc.displayName="AccountOption";const cc=dc;var fc=(0,a.memo)((function(e){var t=e.networkIds,n=(0,a.useMemo)((function(){if(null==t||!t.length)return[];var e=t.slice(0,4);return t.length>4&&e.push("more"),e}),[t]);return(0,G.jsx)(G.Fragment,{children:n.map((function(e,t){return(0,G.jsx)(D.default,{ml:0===t?0:-1,children:(0,G.jsx)(qd.NetworkDarkIcon,{networkId:e})},e)}))})}));fc.displayName="SectionNetworkIconGroup";var pc=(0,a.memo)((function(){var e=(0,b.default)(),t=(0,Ma.default)(),n=(0,B.useActiveWalletAccount)(),r=n.networkId,o=n.walletId,i=n.accountId,l=(0,Su.useAllNetworksWalletAccounts)({accountId:i}),s=(0,a.useMemo)((function(){return Object.keys(null!=l?l:{})}),[l]);(0,a.useEffect)((function(){(0,da.isAllNetworks)(r)&&null===l&&t.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.ManageNetwork,params:{screen:f.ManageNetworkModalRoutes.AllNetworksAccountsDetail,params:{walletId:o,accountId:i}}})}),[r,l,o,t,i]);var u=(0,a.useCallback)((function(){t.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.ManageNetwork,params:{screen:f.ManageNetworkModalRoutes.AllNetworksAccountsDetail,params:{walletId:o,accountId:i}}})}),[o,i,t]);return(0,G.jsxs)(Z.default,{flexDirection:"row",alignItems:"center",py:"4px",px:"8px",rounded:"12px",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},onPress:u,children:[(0,G.jsx)(xe.default,{typography:"Body2Strong",mr:2,color:"text-subdued",children:e.formatMessage({id:"form__str_networks"},{0:s.length})}),(0,G.jsx)(fc,{networkIds:s}),(0,G.jsx)(J.default,{name:"ChevronDownMini",size:20,color:"icon-subdued"})]})}));pc.displayName="SectionNetworks";var mc=(0,a.memo)((function(){var e,t,n=(0,b.default)(),r=(0,B.useActiveWalletAccount)(),o=r.account,i=r.networkId,l=r.network,s=r.wallet,u=(0,Xd.useCopyAddress)({wallet:s}).copyAddress,d=(0,a.useMemo)((function(){return!(null!=l&&l.settings.hiddenAddress)}),[null==l?void 0:l.settings.hiddenAddress]);return(0,da.isAllNetworks)(i)?(0,G.jsx)(pc,{}):d?(0,G.jsx)(C.Tooltip,{hasArrow:!0,placement:"top",label:n.formatMessage({id:"action__copy_address"}),children:(0,G.jsxs)(Z.default,{flexDirection:"row",alignItems:"center",py:"4px",px:"8px",rounded:"12px",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},onPress:function(){u({address:null==o?void 0:o.address,displayAddress:null==o?void 0:o.displayAddress})},children:[(0,G.jsx)(xe.default,{typography:{sm:"Body2",md:"CaptionStrong"},mr:2,color:"text-subdued",children:(0,wo.shortenAddress)(null!=(e=null!=(t=null==o?void 0:o.displayAddress)?t:null==o?void 0:o.address)?e:"",null==l?void 0:l.settings.displayChars)}),(0,G.jsx)(J.default,{name:"Square2StackOutline",color:"icon-subdued",size:16})]})}):null}));mc.displayName="SectionCopyAddress";var hc=(0,a.memo)((function(){var e=(0,b.default)(),t=(0,B.useActiveWalletAccount)(),n=t.account,r=t.network,o=(0,Yr.default)(r),a=o.openAddressDetails;return o.hasAvailable?(0,G.jsx)(C.Tooltip,{hasArrow:!0,placement:"top",label:e.formatMessage({id:"form__blockchain_browser"}),children:(0,G.jsx)(Z.default,{p:1,rounded:"full",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},onPress:function(){return a(null==n?void 0:n.address)},children:(0,G.jsx)(J.default,{name:"GlobeAltOutline",color:"icon-subdued",size:16})})}):null}));hc.displayName="SectionOpenBlockBrowser";var xc=function(e){var t=e.networkId,n=e.accountId,r=(0,b.default)(),o=(0,a.useState)(""),i=(0,h.default)(o,2),l=i[0],s=i[1],u=(0,B.useAccountIsUpdating)({networkId:t,accountId:n}),d=(0,B.useOverviewPendingTasks)({networkId:t,accountId:n}),c=d.tasks,f=d.updatedAt;(0,a.useEffect)((function(){if(c.length){var e=setInterval((function(){s((function(e){return e.length<3?`${e}.`:""}))}),800);return function(){return clearInterval(e)}}}),[null==c?void 0:c.length]);var p=(0,a.useCallback)((function(){c.length>0||E.default.serviceOverview.refreshCurrentAccount({debounceEnabled:!1})}),[c]),m=(0,a.useMemo)((function(){if(null!=c&&c.length||u||!f)return r.formatMessage({id:"content__updating_assets"})+l;var e=Date.now()-f;return e<(0,Pn.getTimeDurationMs)({minute:2})?r.formatMessage({id:"form__updated_just_now"}):e<(0,Pn.getTimeDurationMs)({hour:1})?r.formatMessage({id:"form__str_mins_ago"},{0:Math.floor(e/1e3/60)}):e<(0,Pn.getTimeDurationMs)({hour:24})?r.formatMessage({id:"form__str_hours_ago"},{0:Math.floor(e/1e3/60/60)}):e>(0,Pn.getTimeDurationMs)({hour:24})?r.formatMessage({id:"form__str_days_ago"},{0:Math.floor(e/1e3/60/60/24)}):void 0}),[f,r,null==c?void 0:c.length,l,u]);return m?(0,G.jsx)(Z.default,{onPress:p,children:(0,G.jsx)(Y.default.Body2,{color:"text-subdued",children:m})}):null},gc=(0,a.memo)((function(e){var t=e.networkId,n=e.accountId,r=(0,B.useAppSelector)((function(e){var r,o,a,i;return null==(r=e.overview.overviewStats)||null==(o=r[t])||null==(a=o[n])||null==(i=a.summary)?void 0:i.totalValue})),o=(0,Fs.isWatchingAccount)({accountId:n});return(0,G.jsx)(D.default,{flexDirection:"row",alignItems:"center",mt:1,w:"full",children:"undefined"===typeof r?(0,G.jsx)(Q.default,{shape:"DisplayXLarge"}):(0,G.jsxs)(Ot.default,{flex:"1",alignItems:"center",children:[(0,G.jsx)(Y.default.Display2XLarge,{numberOfLines:2,isTruncated:!0,children:(0,G.jsx)(ca.FormatCurrencyNumber,{decimals:2,value:0,convertValue:r})}),o&&(0,Et.isBTCNetwork)(t)?null:(0,G.jsx)(It.default,{name:"ChevronDownMini",onPress:Zd,type:"plain",circle:!0,ml:1})]})})}));gc.displayName="SummedValueComp";var bc=(0,a.memo)((function(e){var t=e.networkId,n=e.accountId,r=(0,b.default)(),o=(0,a.useState)(!1),i=(0,h.default)(o,2),l=i[0],s=i[1],u=(0,B.useAppSelector)((function(e){var r,o,a,i;return null==(r=e.overview.overviewStats)||null==(o=r[t])||null==(a=o[n])||null==(i=a.summary)?void 0:i.totalValue})),d=(0,B.useAppSelector)((function(e){var r,o,a,i;return null==(r=e.overview.overviewStats)||null==(o=r[t])||null==(a=o[n])||null==(i=a.summary)?void 0:i.totalValue24h})),c=(0,Tu.calculateGains)({basePrice:Number(null!=d?d:0),price:Number(null!=u?u:0)}),f=c.gainNumber,p=c.percentageGain,m=c.gainTextColor;return(0,G.jsx)(D.default,{flexDirection:"row",mt:1,children:(0,G.jsxs)(Ot.default,{alignItems:"center",children:[(0,G.jsx)(Z.default,{onPress:function(){s(!l)},children:(0,G.jsx)(Y.default.Body2Strong,{color:m,mr:"4px",children:l?p:(0,G.jsxs)(G.Fragment,{children:[f>=0?"+":"-",(0,G.jsx)(ca.FormatCurrencyNumber,{value:Math.abs(f),decimals:2})]})})}),(0,G.jsx)(Y.default.Body2Strong,{color:"text-subdued",ml:"1",children:r.formatMessage({id:"content__today"})}),(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(D.default,{size:"1",bg:"icon-subdued",borderRadius:"999px",mx:"2"}),(0,G.jsx)(xc,{networkId:t,accountId:n})]})]})})}),(function(e,t){return Gd()(e)===Gd()(t)}));bc.displayName="ChangedValueComp";var vc=function(){var e=(0,B.useActiveWalletAccount)(),t=e.networkId,n=e.accountId;return(0,G.jsxs)(D.default,{alignItems:"flex-start",flex:"1",children:[(0,G.jsxs)(D.default,{mx:"-8px",my:"-4px",flexDir:"row",alignItems:"center",children:[(0,G.jsx)(mc,{}),(0,G.jsx)(hc,{})]}),(0,G.jsx)(gc,{networkId:t,accountId:n}),(0,G.jsx)(bc,{networkId:t,accountId:n})]})};const yc=(0,a.memo)((function(){var e=(0,p.default)();return e?(0,G.jsxs)(D.default,{pt:"16px",pb:"24px",w:"100%",px:"16px",flexDirection:"column",bgColor:"background-default",h:238,children:[(0,G.jsx)(vc,{}),(0,G.jsx)(D.default,{mt:8,children:(0,G.jsx)(cc,{isSmallView:e})})]}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(le.DesktopDragZoneAbsoluteBar,{}),(0,G.jsxs)(D.default,{h:152,py:8,px:{sm:8,lg:4},flexDirection:"row",justifyContent:"space-between",alignItems:"center",bgColor:"background-default",children:[(0,G.jsx)(vc,{}),(0,G.jsx)(cc,{isSmallView:e})]})]})}));var jc=function(){return null},wc=n(594225);var kc=(0,a.memo)((function(e){var t=e.tabsContainerRef,n=e.currentIndexRef,r=e.homeTabName,o=e.usedTabs,i=(0,a.useCallback)((function(e){var t=o.findIndex((function(t){return t.name===e}));return-1===t?0:t}),[o]),l=(0,wc.useDebouncedCallback)((function(e){var n;null==t||null==(n=t.current)||null==n.setPageIndex||n.setPageIndex(e)}),1e3,{leading:!1,trailing:!0,maxWait:1e3});return(0,a.useEffect)((function(){var e=i(r);e!==(null==n?void 0:n.current)&&l(e)}),[n,i,r,l]),null})),_c=n(790656),Oc=n(556658),Ic=n(812895),Sc=function(e){var t=e.networkId,n=(0,B.useActiveWalletAccount)().networkId,r=(0,B.useNetwork)({networkId:t}).network,o=(0,a.useMemo)((function(){return(0,da.isAllNetworks)(n)?null==r?void 0:r.logoURI:null}),[r,n]);return o?(0,G.jsx)(D.default,{borderWidth:"2px",borderColor:"border-default",borderRadius:"999px",position:"absolute",right:"3",bottom:"3",zIndex:"999",children:(0,G.jsx)(Wo.default,{width:4,height:4,src:o,alt:o,borderRadius:"full"})}):null},Tc=["onSelect","data"];function Cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cc(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pc=function(e){var t=e.count,n=e.size;return(0,G.jsx)(D.default,{position:"absolute",right:"0",bottom:"0",borderRadius:"6px",size:`${n}px`,bgColor:"backdrop",children:(0,G.jsx)(T.default,{flex:1,children:(0,G.jsx)(xe.default,{children:`+${t}`})})})},Ac=function(e){var t=e.width,n=e.collectible,r=(t-9)/2,o=n.assets.filter((function(e,t){return t<4}));return 1===o.length?(0,G.jsx)(Dr.default,{asset:n.assets[0],borderRadius:"6px",size:t}):(0,G.jsxs)(Ot.default,{flexWrap:"wrap",width:`${t}px`,height:`${t}px`,borderRadius:"6px",children:[o.map((function(e,t){var n,o,a=t%2!==0?0:9,i=t<2?9:0;return(0,G.jsx)(Dr.default,{asset:e,borderRadius:"6px",marginRight:`${a}px`,marginBottom:`${i}px`,size:r},`NFTListImage${null!=(n=null!=(o=e.tokenId)?o:e.tokenAddress)?n:""}${t}`)})),n.assets.length>4?(0,G.jsx)(Pc,{size:r,count:n.assets.length}):null]})};function Dc(e,t){var n=e.data;return n.contractAddress?`Collection ${n.contractAddress}`:n.contractName?`Collection ${n.contractName}`:`Collection ${t}`}const Rc=(0,a.memo)((function(e){var t,n,r=e.onSelect,o=e.data,a=(0,m.default)(e,Tc),i=(0,p.default)(),l=(0,ge.default)().screenWidth,s=i?16:20,u=i?8:12,d=i?Math.floor((l-3*s)/2):177,c=(0,Fo.default)().themeVariant,f=d-2*u,h=(0,vd.useTokenPrice)({networkId:null!=(t=o.networkId)?t:"",tokenIdOnNetwork:"",vsCurrency:"usd"})*(null!=(n=o.totalPrice)?n:0);return(0,G.jsx)(D.default,Mc(Mc({mb:"16px"},a),{},{children:(0,G.jsxs)(yl.default,{bgColor:"surface-default",padding:`${u}px`,overflow:"hidden",borderRadius:"12px",borderColor:"border-subdued",borderWidth:"light"===c?1:void 0,width:d,flexDirection:"column",_hover:{bg:"surface-hovered"},onPress:function(){r&&r(o)},children:[(0,G.jsxs)(D.default,{position:"relative",children:[(0,G.jsx)(Ac,{collectible:o,width:f}),(0,G.jsx)(Sc,{networkId:o.networkId})]}),(0,G.jsx)(Ot.default,{mt:`${u}px`,justifyContent:"space-between",children:(0,G.jsx)(xe.default,{typography:"Body2",height:"20px",numberOfLines:1,flex:1,children:o.contractName})}),(0,G.jsx)(xe.default,{typography:"Body2",height:"20px",color:"text-subdued",children:(0,G.jsx)(ca.FormatCurrencyNumber,{value:0,decimals:2,convertValue:h>0?h:""})})]})}))}));var Ec=n(18720),Bc=["asset"];function Nc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const Lc=function(e){var t=e.asset,n=(0,m.default)(e,Bc),o=(0,Ec.getBTCListComponent)({data:t,sizeType:"list"}).Component;return(0,G.jsx)(o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nc(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({asset:t},n))};var Wc=["onSelect","data"];function Fc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fc(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zc(e){return e.data.inscription_id}const Uc=(0,a.memo)((function(e){var t=e.onSelect,n=e.data,r=(0,m.default)(e,Wc),o=(0,p.default)(),i=(0,ge.default)().screenWidth,l=(0,B.useNetwork)({networkId:n.networkId}).network,s=o?16:20,u=o?8:12,d=o?i:Math.min(Nd.MAX_PAGE_CONTAINER_WIDTH,i-224),c=o?Math.floor((d-3*s)/2):177,f=(0,Fo.default)().themeVariant,h=(0,a.useMemo)((function(){return n.inscription_number>0?`#${n.inscription_number}`:""}),[n.inscription_number]),x=(0,a.useMemo)((function(){return n.output_value_sat&&l?`${new(Dt())(n.output_value_sat).shiftedBy(-l.decimals).toFixed()} ${l.symbol}`:""}),[n.output_value_sat,l]);return(0,G.jsx)(D.default,Hc(Hc({mb:"16px"},r),{},{children:(0,G.jsxs)(Z.default,{flexDirection:"column",bgColor:"surface-default",padding:`${u}px`,overflow:"hidden",borderRadius:"12px",borderColor:"border-subdued",borderWidth:"light"===f?1:void 0,width:c,_hover:{bg:"surface-hovered"},onPress:function(){t&&t(n)},children:[(0,G.jsxs)(D.default,{position:"relative",children:[(0,G.jsx)(Lc,{size:c-2*u,asset:n}),(0,G.jsx)(Sc,{networkId:n.networkId})]}),(0,G.jsxs)(D.default,{children:[(0,G.jsx)(xe.default,{typography:"Body2",height:"18px",mt:`${u}px`,numberOfLines:1,children:h}),(0,G.jsx)(xe.default,{typography:"Body2",color:"text-subdued",height:"18px",numberOfLines:1,children:x})]})]})}))}));var Vc,$c=n(555638);function Gc(e){switch(e){case Vc.BTCAsset:return Uc;case Vc.SOLAsset:case Vc.EVMAsset:return $c.default;default:return Rc}}function qc(e){switch(e){case Vc.BTCAsset:return zc;case Vc.SOLAsset:case Vc.EVMAsset:return $c.keyExtractor;default:return Dc}}function Xc(e){var t=e.type,n=!0,r=Vc.EVMCollection;return t===Oc.NFTAssetType.BTC&&(r=Vc.BTCAsset,n=!1),{Component:Gc(r),cardType:r,expandEnable:n,keyExtractor:qc(r)}}!function(e){e.EVMAsset="EVMAsset",e.EVMCollection="EVMCollection",e.SOLAsset="SOLAsset",e.SOLCollection="SOLCollection",e.BTCAsset="BTCAsset"}(Vc||(Vc={}));function Yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yc(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kc(e){var t,n=e.accountId,r=e.networkId,o=(0,b.default)(),a=(0,Yd.useShouldHideInscriptions)({accountId:n,networkId:r}),i=(0,B.useAccount)({accountId:n,networkId:r}).account;return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(Y.default.Subheading,{mb:"3",color:"text-subdued",children:o.formatMessage({id:"form__preferences"})}),(0,G.jsxs)(Td.BottomSheetSettingRow,{children:[(0,G.jsx)(Y.default.Body1Strong,{children:o.formatMessage({id:"form__disable_ordinals"})}),(0,G.jsx)(Ki.default,{labelType:"false",isChecked:a,onToggle:function(){var e;E.default.dispatch((0,xl.setHideInscriptions)(((e={})[n]=!a,e))),E.default.serviceOverview.refreshCurrentAccount()}})]}),(0,G.jsx)(Y.default.Body2,{color:"text-subdued",flex:1,mt:3,children:o.formatMessage({id:a?"content__do_not_display_inscriptions_and_brc20_assets_this_config_only_applied_to_account_str":"content__inscriptions_and_brc20_assets_will_be_displayed_in_dashboard_this_config_only_applied_to_account_str"},{0:null!=(t=null==i?void 0:i.name)?t:""})})]})}const Zc=(0,a.memo)((function(){var e=(0,b.default)(),t=(0,Fo.default)().themeVariant,n=(0,B.useActiveWalletAccount)(),r=n.networkId,o=n.accountId,i=(0,_c.isCollectibleSupportedChainId)(null!=r?r:""),l=(0,B.useAppSelector)((function(e){var t,n,a,i,l;return null!=(t=null==(n=e.overview.overviewStats)||null==(a=n[r])||null==(i=a[o])||null==(l=i.nfts)?void 0:l.totalValue)?t:0})),s="lastSalePrice"===(0,B.useAppSelector)((function(e){return e.nft.disPlayPriceType}))?e.formatMessage({id:"form__last_price"}):e.formatMessage({id:"form__floor_price"}),u=(0,a.useMemo)((function(){return r===So.OnekeyNetwork.btc||r===So.OnekeyNetwork.tbtc}),[r]);return(0,G.jsxs)(D.default,{flexDirection:"column",paddingRight:"16px",children:[i&&(0,G.jsx)(D.default,{flexDirection:"row",height:"84px",mb:"24px",bgColor:"surface-default",borderRadius:"12px",borderColor:"border-subdued",borderWidth:"light"===t?1:void 0,padding:"16px",justifyContent:"space-between",children:(0,G.jsxs)(D.default,{flexDirection:"column",children:[(0,G.jsx)(Y.default.DisplayLarge,{children:(0,G.jsx)(ca.FormatCurrencyNumber,{value:0,decimals:2,convertValue:Number(l)>0?l:""})}),(0,G.jsx)(Y.default.Body2,{color:"text-subdued",children:e.formatMessage({id:"content__total_value_by_str"},{0:s})})]})}),(0,G.jsxs)(Ot.default,{space:4,alignItems:"center",justifyContent:"space-between",pb:3,children:[(0,G.jsx)(Y.default.Heading,{children:e.formatMessage({id:"title__assets"})}),u?(0,G.jsx)(It.default,{name:"Cog8ToothMini",size:"sm",type:"plain",onPress:function(){return e={accountId:o,networkId:r},(0,pr.showOverlay)((function(t){return(0,G.jsx)(Td.BottomSheetSettings,{closeOverlay:t,children:(0,G.jsx)(Kc,Qc({},e))})}));var e}}):null]})]})}));var Jc=(0,na.atom)({nfts:[],nftKeys:[]}),ef=(0,na.atom)(!1),tf=(0,na.createJotaiContext)(),nf=tf.withProvider,rf=tf.useContextAtom,of=["type"];function af(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?af(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):af(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sf=(0,a.memo)((function(e){var t=e.networkId,n=e.accountId,r=e.fetchData,o=(0,b.default)(),a=(0,_c.isCollectibleSupportedChainId)(t),i=(0,B.useNFTIsLoading)({networkId:t,accountId:n}),l=(0,Yd.useShouldHideInscriptions)({accountId:n,networkId:t}),s=rf(ef),u=(0,h.default)(s,1)[0];return a?l?(0,G.jsx)(ct.default,{pr:"16px",emoji:"\ud83d\uddbc\ufe0f",title:o.formatMessage({id:"asset__collectibles_empty_title"}),subTitle:o.formatMessage({id:"asset__collectibles_empty_desc"}),actionTitle:o.formatMessage({id:"action__restore_inscriptions"}),actionProps:{type:"basic"},handleAction:function(){var e;return E.default.dispatch((0,xl.setHideInscriptions)(((e={})[n]=!1,e)))}}):(0,G.jsx)(ct.default,{pr:"16px",emoji:"\ud83d\uddbc\ufe0f",title:o.formatMessage({id:"asset__collectibles_empty_title"}),subTitle:o.formatMessage({id:"asset__collectibles_empty_desc"}),actionTitle:o.formatMessage({id:"action__refresh"}),handleAction:r,isLoading:u||i}):(0,G.jsx)(ct.default,{pr:"16px",emoji:"\ud83d\uddbc\ufe0f",title:o.formatMessage({id:"empty__not_supported"}),subTitle:o.formatMessage({id:"empty__not_supported_desc"})})}));function uf(e){var t=e.accountId,n=e.networkId,r=e.fetchData,o=(0,B.useAppSelector)((function(e){return e.status.isUnlock})),i=(0,_c.isCollectibleSupportedChainId)(n),l=(0,Yd.useShouldHideInscriptions)({accountId:t,networkId:n}),s=rf(ef),u=(0,h.default)(s,2)[1],d=(0,Jl.useIsFocusedAllInOne)({focusDelay:1e3,rootTabName:f.TabRoutes.Home,homeTabName:ms.WalletHomeTabEnum.Tokens}),c=d.isFocused,p=d.homeTabFocused,m=d.rootTabFocused,x=(0,a.useMemo)((function(){return!!o&&(!!(t&&n&&i)&&(!!(0,Ra.isAccountCompatibleWithNetwork)(t,n)&&(!!(c&&m&&p)&&!l)))}),[o,t,n,i,c,m,p,l]),g=(0,Kl.default)("fetchNFTList",r,{refreshInterval:3e4,revalidateOnMount:!1,revalidateOnFocus:!1,shouldRetryOnError:!1,isPaused:function(){return!x}}),b=g.mutate,v=g.isValidating;return(0,a.useEffect)((function(){x&&b()}),[b,x]),(0,a.useEffect)((function(){u(v)}),[v,u]),null}var df=function(e){var t=function(e){var t=e.networkId,n=e.accountId,r=(0,B.useAppSelector)((function(e){return e.refresher.refreshAccountNFTTs}));return(0,fa.usePromiseResult)((function(){return E.default.serviceOverview.buildAccountNFTList({networkId:t,accountId:n})}),[n,t,r],{debounced:600,watchLoading:!0})}(e),n=rf(Jc),r=(0,h.default)(n,2),o=r[0],i=r[1];return(0,a.useEffect)((function(){var e=t.result;e&&(e.nftKeys&&ua()(o.nftKeys,e.nftKeys)||i(e))}),[o.nftKeys,t.result,i]),null};const cf=(0,a.memo)(nf((function(){var e=(0,b.default)(),t=(0,p.default)(),n=(0,a.useState)(1),r=(0,h.default)(n,2),o=r[0],i=r[1],l=(0,p.default)(),s=(0,ge.default)().screenWidth,u=l?16:20,d=l?s:Math.min(Nd.MAX_PAGE_CONTAINER_WIDTH,s-224),c=l?2:Math.floor(d/(177+u)),f=(0,B.useActiveWalletAccount)(),g=f.accountId,v=f.networkId,y=f.account,j=(0,a.useState)([]),w=(0,h.default)(j,2),k=w[0],_=w[1],O=rf(Jc),I=(0,h.default)(O,1)[0],S=(0,Yd.useShouldHideInscriptions)({accountId:g,networkId:v}),T=(0,a.useCallback)((function(e,t){if(g&&v)switch(t){case Vc.EVMCollection:case Vc.SOLCollection:(0,Ic.navigateToNFTCollection)({networkId:v,accountId:g,collection:e});break;case Vc.EVMAsset:case Vc.SOLAsset:case Vc.BTCAsset:(0,Ic.navigateToNFTDetail)({networkId:v,accountId:g,asset:e})}}),[g,v]),C=(0,a.useCallback)((0,Pt.default)((function*(){var e=(0,_c.isCollectibleSupportedChainId)(v);if(g&&v&&e&&!(0,da.isAllNetworks)(v))return yield E.default.serviceNFT.fetchNFT({accountId:g,networkId:v})})),[g,v]),M=(0,a.useMemo)((function(){var e=[];return S||I.nfts.forEach((function(t){var n=t.type;t.data.forEach((function(t){var r=function(e){var t=e.data,n=e.type;return n?n===Oc.NFTAssetType.BTC?[{data:t,isAsset:!0,type:n}]:[{data:t,isAsset:!1,type:n}]:[]}({data:t,type:n});if(n===Oc.NFTAssetType.BTC){var o=r[0].data;k.find((function(e){var t=e.key.split("_"),n=(0,h.default)(t,2),r=n[0],a=n[1],i=o.output.split(":"),l=(0,h.default)(i,2),s=l[0],u=l[1];return s===r&&u===a}))||(e=e.concat(r))}else e=e.concat(r)}))})),e}),[I.nfts,k,S]),P=(0,a.useMemo)((function(){return 20*o<M.length}),[o,M.length]),A=(0,a.useCallback)((0,Pt.default)((function*(){var e=[];if(v){if((0,da.isAllNetworks)(v)){var t,n=(null==(t=(0,Bt.appSelector)((function(e){return e.overview.allNetworksAccountsMap})))?void 0:t[g])||{};for(var r of Object.entries(null!=n?n:{})){var o=(0,h.default)(r,2),a=o[0],i=o[1],l=[];(0,Et.isBTCNetwork)(a)&&(l.push.apply(l,(0,x.default)(i.map((function(e){return e.xpub})).filter(Boolean))),e=e.concat(yield E.default.serviceUtxos.getArchivedUtxos(a,l)))}}else null!=y&&y.xpub&&(e=yield E.default.serviceUtxos.getArchivedUtxos(v,[y.xpub]));_(e.filter((function(e){return e.recycle})))}})),[null==y?void 0:y.xpub,g,v]);(0,Hs.useOnUIEventBus)(Ea.AppUIEventBusNames.InscriptionRecycleChanged,A),(0,a.useEffect)((function(){S||A()}),[A,S]);var R=(0,a.useCallback)((function(e){var t=e.item,n=e.index,r=t.type,a=(0,m.default)(t,of);if(!r)return null;if(n>20*o-1)return null;var i=Xc({type:r}),l=i.Component,s=i.cardType;return(0,G.jsx)(rs.DebugRenderTracker,{children:(0,G.jsx)(l,lf(lf({},a),{},{onSelect:function(e){T&&T(e,s)},mr:"16px"}))})}),[T,o]),N=(0,a.useCallback)((function(){i((function(e){return e+1}))}),[]),L=(0,a.useMemo)((function(){if(null==M||!M.length)return null;var n=P?(0,G.jsx)(Ot.default,{justifyContent:"center",children:(0,G.jsx)(It.default,{name:"ChevronDownMini",w:t?"full":"130px",onPress:N,children:e.formatMessage({id:"action__load_more"})})}):null;return(0,G.jsxs)(ce.default,{pr:"4",children:[n,(0,G.jsx)(D.default,{h:"24px",w:"full"})]})}),[e,t,N,P,null==M?void 0:M.length]),W=(0,a.useCallback)((function(e,t){return Xc({type:e.type}).keyExtractor(e,t)}),[]),F=(0,a.useMemo)((function(){return{paddingLeft:16,paddingBottom:M.length?16:0,marginTop:24}}),[M.length]),H=(0,a.useMemo)((function(){return(0,G.jsx)(sf,{accountId:g,networkId:v,fetchData:C})}),[g,v,C]),z=(0,a.useMemo)((function(){return(0,G.jsx)(Zc,{})}),[]);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(df,{accountId:g,networkId:v}),(0,G.jsx)(uf,{accountId:g,networkId:v,fetchData:C}),(0,G.jsx)(Mr.Tabs.FlatList,{contentContainerStyle:F,data:M,renderItem:R,ListFooterComponent:L,showsVerticalScrollIndicator:!1,ListEmptyComponent:H,numColumns:c,ListHeaderComponent:z,keyExtractor:W},`NFTList${c}`)]})})));var ff=n(666574),pf=n(548313),mf=n(97856),hf=n(427309),xf=n(129553),gf=n(193530);function bf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bf(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yf=[{key:"gasprice",icon:{name:"ShieldCheckSolid",color:"decorative-icon-one"},iconBg:"decorative-surface-one",title:"content__gas_price",description:"content__gas_price",filter:function(e){var t=e.network;return Boolean(t&&hf.supportedNetworks.includes(null==t?void 0:t.id))}},{key:"revoke",icon:{name:"ShieldCheckSolid",color:"decorative-icon-one"},iconBg:"decorative-surface-one",title:"title__contract_approvals",description:"title__token_approvals_desc",filter:function(e){var t=e.network;return(null==t?void 0:t.impl)===Et.IMPL_EVM}},{key:"bulkSender",icon:{name:"BulkSenderMini",color:"decorative-icon-two"},iconBg:"decorative-surface-two",title:"title__bulksender",description:"title__bulksender_desc",filter:function(e){var t,n,r=e.network,o=e.account;return!(!o||null!=o&&o.id.startsWith("watching-")||null==r||null==(t=r.settings)||!t.supportBatchTransfer||!((null==r||null==(n=r.settings)?void 0:n.supportBatchTransfer.length)>0))}},{key:"explorer",icon:{name:"GlobeAltSolid",color:"decorative-icon-three"},iconBg:"decorative-surface-three",title:"title__blockchain_explorer",description:"title__blockchain_explorer_desc",filter:function(e){var t,n,r,o=e.network,a=e.account;return!(null==(t=(0,mf.getManageNetworks)(void 0).allNetworks)||null==t.find||null==(n=t.find((function(e){return e.id===(null==o?void 0:o.id)})))||null==(r=n.blockExplorerURL)||!r.address)&&!(null==a||!a.address)}},{key:"pnl",icon:{name:"DocumentChartBarSolid",color:"decorative-icon-four"},iconBg:"decorative-surface-four",title:"content__nft_profit_and_loss",description:"empty__pnl",filter:function(e){var t=e.network;return(null==t?void 0:t.impl)===Et.IMPL_EVM}},{key:"inscribe",icon:{name:"SparklesSolid",color:"decorative-icon-one"},iconBg:"decorative-surface-one",title:"title__inscribe",description:"title__inscribe_desc",filter:function(e){var t,n,r,o,a=e.network,i=e.account,l=e.shouldHideInscriptions;return(0,Et.isBTCNetwork)(null==a?void 0:a.id)&&!l&&!(null==i||!i.template)&&[null==(t=pf.default.accountNameInfo)||null==(n=t.BIP86)?void 0:n.template,null==(r=ff.default.accountNameInfo)||null==(o=r.BIP86)?void 0:o.template].includes(null==i?void 0:i.template)}}],jf=function(e){var t=e.icon;return t?"number"===typeof t?(0,G.jsx)(Wo.default,{borderRadius:"14px",source:t,w:"full",h:"full"}):t.name?(0,G.jsx)(J.default,vf(vf({},t),{},{size:24})):(0,G.jsx)(Wo.default,{borderRadius:"14px",source:t,w:"full",h:"full"}):null},wf=function(e){var t,n=e.item,r=e.index,o=(0,b.default)(),i=(0,p.default)(),l=(0,B.useActiveWalletAccount)().networkId,s=(0,B.useNetwork)({networkId:(0,da.isAllNetworks)(l)?So.OnekeyNetwork.eth:l}).network,u=(0,xf.useNetworkPrices)(null==s?void 0:s.id),d=(0,Ma.default)(),c=(0,a.useMemo)((function(){return i?{paddingLeft:0,paddingRight:0}:{paddingLeft:r%2===0?0:6,paddingRight:r%2===1?0:6}}),[i,r]),m=(0,a.useCallback)((function(){var e;d.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.GasPanel,params:{screen:oc.GasPanelRoutes.GasPanelModal,params:{networkId:null!=(e=null==s?void 0:s.id)?e:""}}})}),[d,null==s?void 0:s.id]);return(0,G.jsx)(D.default,{p:"6px",width:i?"100%":"50%",style:c,children:(0,G.jsxs)(Z.default,{flexDirection:"row",p:"16px",bg:"surface-default",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},borderWidth:S.default.hairlineWidth,borderColor:"border-default",borderRadius:"12px",alignItems:"center",onPress:m,children:[(0,G.jsxs)(T.default,{w:"48px",h:"48px",borderColor:"border-subdued",bg:"surface-subdued",borderRadius:"12px",borderWidth:1,children:[u?(0,G.jsx)(Y.default.Body2Strong,{lineHeight:14,color:"text-warning",children:Math.ceil(Number(u))}):(0,G.jsx)(D.default,{w:"8",h:"3",mb:"1",overflow:"hidden",borderRadius:12,children:(0,G.jsx)(Tr.default,{})}),(0,G.jsx)(Y.default.CaptionStrong,{lineHeight:12,color:"text-warning",children:l&&hf.priceUnit[l]||"Gwei"})]}),(0,G.jsxs)(ce.default,{ml:"4",flex:"1",children:[(0,G.jsx)(Ot.default,{alignItems:"center",flex:"1",pr:"18px",children:(0,G.jsx)(Y.default.Body1Strong,{numberOfLines:1,isTruncated:!0,maxW:"200px",children:"\ud83d\udd25Gas"})}),(0,G.jsx)(Y.default.Body2,{mt:"4px",numberOfLines:2,isTruncated:!0,color:"text-subdued",children:o.formatMessage({id:"form__current_str_gas_fee"},{0:null!=(t=null==s?void 0:s.name)?t:""})})]})]},n.title)},n.key)},kf=function(e){var t=e.item,n=e.index,r=e.onItemPress,o=(0,p.default)(),i=(0,b.default)(),l=(0,a.useMemo)((function(){return o?{paddingLeft:0,paddingRight:0}:{paddingLeft:n%2===0?0:6,paddingRight:n%2===1?0:6}}),[o,n]);return(0,G.jsx)(D.default,{p:"6px",width:o?"100%":"50%",style:l,children:(0,G.jsxs)(Z.default,{flexDirection:"row",p:"16px",bg:"surface-default",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},borderWidth:S.default.hairlineWidth,borderColor:"border-default",borderRadius:"12px",alignItems:"center",onPress:function(){r(t.key)},children:[(0,G.jsx)(T.default,{w:"48px",h:"48px",bgColor:t.iconBg,borderRadius:"12px",children:(0,G.jsx)(jf,{icon:t.icon})}),(0,G.jsxs)(ce.default,{ml:"4",flex:"1",children:[(0,G.jsxs)(Ot.default,{alignItems:"center",flex:"1",pr:"18px",children:[(0,G.jsx)(Y.default.Body1Strong,{numberOfLines:1,isTruncated:!0,maxW:"200px",children:t.intlDisabled?t.title:i.formatMessage({id:t.title})}),t.tag?(0,G.jsx)(Hn.default,{ml:"1",size:"sm",type:"success",title:i.formatMessage({id:t.tag})}):null]}),(0,G.jsx)(Y.default.Body2,{mt:"4px",numberOfLines:2,isTruncated:!0,color:"text-subdued",children:t.intlDisabled?t.description:i.formatMessage({id:t.description})})]})]},t.title)},t.key)},_f=function(e){var t=e.item,n=e.index,r=e.onItemPress;return"gasprice"===t.key?(0,G.jsx)(wf,{item:t,index:n,onItemPress:r}):(0,G.jsx)(kf,{item:t,index:n,onItemPress:r})};const Of=function(){var e=(0,b.default)(),t=(0,B.useActiveWalletAccount)(),n=t.network,r=t.account,o=t.accountId,i=t.networkId,l=(0,gf.useIsVerticalOrMiddleLayout)(),s=(0,v.useNavigation)(),u=(0,mf.useManageNetworks)(void 0).enabledNetworks,c=(0,Yd.useShouldHideInscriptions)({networkId:i,accountId:o}),p=(0,Ma.default)(),m=(0,Qr.useTools)(null==n?void 0:n.id),x=(0,Su.useAllNetworksWalletAccounts)({accountId:o}),g=(0,Su.useAllNetworksSelectNetworkAccount)({networkId:i,accountId:o}),y=(0,a.useMemo)((function(){var e=yf;return e=e.concat(Object.values(As()(m,"title")).filter((function(e){return e.length>0})).map((function(e){var t=e[0];return{ts:e,key:t.title,icon:{uri:t.logoURI},iconBg:void 0,title:t.title,description:t.desc,link:t.link,intlDisabled:!0,filter:function(t){var n=t.network;return e.some((function(e){return e.networkId===(null==n?void 0:n.id)}))}}}))),(0,da.isAllNetworks)(null==n?void 0:n.id)?e.filter((function(e){var t=function(t){var n=u.find((function(e){return e.id===t}));if(n)for(var r of a)if(!e.filter||e.filter({network:n,account:r,shouldHideInscriptions:c}))return{v:!0}};for(var n of Object.entries(null!=x?x:{})){var r=(0,h.default)(n,2),o=r[0],a=r[1],i=t(o);if("object"===typeof i)return i.v}return!1})):e.filter((function(e){var t;return null==(t=null==e.filter?void 0:e.filter({network:n,account:r,shouldHideInscriptions:c}))||t}))}),[m,n,r,x,u,c]),j=(0,a.useCallback)((function(t){var r=t.key,o=t.network,a=t.account;if("revoke"===r){var i,l,u=(0,da.parseNetworkId)(null!=(i=null==n?void 0:n.id)?i:"").chainId;(0,nn.openDapp)(`${Ta.revokeUrl}address/${null!=(l=null==a?void 0:a.address)?l:""}?chainId=${null!=u?u:""}`)}else if("explorer"===r){var c=(0,Yr.buildAddressDetailsUrl)(o,null==a?void 0:a.address);(0,nn.openUrl)(c,e.formatMessage({id:"title__blockchain_explorer"}),{modalMode:!0})}else if("pnl"===r)s.navigate(f.RootRoutes.Main,{screen:f.MainRoutes.Tab,params:{screen:f.TabRoutes.Home,params:{screen:f.HomeRoutes.NFTPNLScreen}}});else if("bulkSender"===r)d.default.isExtFirefoxUiPopup?(E.default.serviceApp.openExtensionExpandTab({routes:[f.RootRoutes.Main,f.HomeRoutes.BulkSender]}),setTimeout((function(){window.close()}),300)):s.navigate(f.RootRoutes.Main,{screen:f.MainRoutes.Tab,params:{screen:f.TabRoutes.Home,params:{screen:f.HomeRoutes.BulkSender}}});else if("inscribe"===r)null!=o&&o.id&&a&&p.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Inscribe,params:{screen:f.InscribeModalRoutes.InscribeModal,params:{networkId:null==o?void 0:o.id,accountId:null==a?void 0:a.id}}});else if("gasprice"===r){if(null!=o&&o.id){var h=hf.supportedNetworks.includes(null==o?void 0:o.id)?null==o?void 0:o.id:So.OnekeyNetwork.eth;p.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.GasPanel,params:{screen:oc.GasPanelRoutes.GasPanelModal,params:{networkId:h}}})}}else{var x,g=null==m?void 0:m.find((function(e){return e.title===r})),b={address:null!=(x=null==a?void 0:a.address)?x:"",networkId:null==o?void 0:o.id};if(g){var v,y=null==g||null==(v=g.link)?void 0:v.replace(/\{([\w\d]+)\}/g,(function(e,t){var n;return null!=(n=b[t])?n:""}));(0,nn.openUrl)(y,null==g?void 0:g.title,{modalMode:!0})}}}),[null==n?void 0:n.id,m,s,e,p]),w=(0,a.useCallback)((function(e){if(!(0,da.isAllNetworks)(null==n?void 0:n.id))return j({key:e,network:n,account:r});var t=y.find((function(t){return t.key===e}));t&&g(t.filter).then(function(){var t=(0,Pt.default)((function*(t){var n=t.network,r=t.account;if("bulkSender"===e||"pnl"===e){var o=E.default.serviceNetwork,a=E.default.serviceAccount;yield o.changeActiveNetwork(null==n?void 0:n.id),yield a.changeActiveAccountByAccountId(null==r?void 0:r.id)}j({key:e,network:n,account:r})}));return function(e){return t.apply(this,arguments)}}())}),[j,n,r,y,g]),k=(0,a.useCallback)((function(e){var t=e.item,n=e.index;return(0,G.jsx)(_f,{item:t,index:n,onItemPress:w})}),[w]),_=(0,a.useMemo)((function(){return{marginVertical:24,paddingHorizontal:l?32:16}}),[l]);return(0,a.useEffect)((function(){E.default.serviceToken.fetchTools()}),[]),(0,G.jsx)(Mr.Tabs.FlatList,{data:y,keyExtractor:function(e){return e.key},numColumns:l?void 0:2,contentContainerStyle:_,renderItem:k},String(l))};function If(e){var t=e.networkId,n=e.accountId,r=e.password,o=(0,b.default)();return(0,a.useEffect)((function(){r&&t&&[So.OnekeyNetwork.lightning,So.OnekeyNetwork.tlightning].includes(t)&&(E.default.serviceLightningNetwork.refreshToken({networkId:t,accountId:n,password:r}).then((function(){V.default.common.info("refresh lightning network token success")})).catch((function(e){dt.default.show({title:o.formatMessage({id:"msg__authentication_failed_verify_again"})},{type:"error"}),V.default.common.info("refresh lightning network token failed: ",e)})),V.default.common.info("should refresh lightning network token"))}),[r,t,n,o]),null}var Sf=n(268883);var Tf=(0,a.memo)((function(e){var t=e.children,n=e.wallet,r=e.network,o=e.networkId,i=e.accountId,l=(0,b.default)(),s=(0,a.useMemo)((function(){return(0,Et.isLightningNetworkByNetworkId)(o)}),[o]);return(0,G.jsx)(T.default,{w:"full",h:"full",children:(0,G.jsx)(Sf.default,{walletId:n.id,networkId:r.id,field:Sf.ValidationFields.Account,placeCenter:!0,subTitle:l.formatMessage({id:"title__password_verification_is_required_to_view_account_details_on_str"},{0:r.name}),checkIsNeedPassword:s?function(){return E.default.serviceLightningNetwork.checkAuth({networkId:o,accountId:i})}:void 0,children:function(e){return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(If,{accountId:i,password:e,networkId:r.id}),t]})}})})}));var Cf=(0,a.memo)((function(){var e=((0,p.default)()?238:152)||"auto";return(0,G.jsx)(D.default,{h:e,children:(0,G.jsx)(yc,{})})})),Mf=(0,a.memo)((function(){var e=(0,b.default)(),t=(0,a.useRef)(null),n=(0,a.useRef)(0),r=(0,ge.default)().screenWidth,o=(0,p.default)(),i=(0,Ld.useHomeTabName)(),l=(0,B.useActiveWalletAccount)(),s=l.wallet,u=l.network,c=l.accountId,f=l.networkId,m=l.walletId,h=(0,a.useRef)(),x=(0,a.useMemo)((function(){return(0,G.jsx)(Mr.Tabs.Tab,{name:ms.WalletHomeTabEnum.Tokens,label:e.formatMessage({id:"asset__tokens"}),children:(0,G.jsx)(Wd,{homeTabName:ms.WalletHomeTabEnum.Tokens,children:(0,G.jsxs)(Mr.Tabs.ScrollView,{children:[(0,G.jsx)(Fd,{name:"App RootTabHome AssetsList render"}),(0,G.jsx)(Vd.GuideToPushFirstTimeCheck,{}),(0,G.jsx)(wr.HomeTokenAssetsList,{walletId:m,accountId:c,networkId:f,limitSize:10}),(0,G.jsx)(D.default,{h:6}),(0,G.jsx)(Oa,{accountId:c,networkId:f,limitSize:10})]})})},ms.WalletHomeTabEnum.Tokens)}),[c,e,f,m]),g=(0,a.useMemo)((function(){return(0,G.jsx)(Mr.Tabs.Tab,{name:ms.WalletHomeTabEnum.Collectibles,label:e.formatMessage({id:"asset__collectibles"}),children:(0,G.jsx)(Wd,{homeTabName:ms.WalletHomeTabEnum.Collectibles,children:(0,G.jsx)(cf,{})})},ms.WalletHomeTabEnum.Collectibles)}),[e]),v=(0,a.useMemo)((function(){return(0,G.jsx)(Mr.Tabs.Tab,{name:ms.WalletHomeTabEnum.History,label:e.formatMessage({id:"transaction__history"}),children:(0,G.jsx)(Wd,{homeTabName:ms.WalletHomeTabEnum.History,children:(0,G.jsx)(Ms,{accountId:c,networkId:f,isHomeTab:!0})})},ms.WalletHomeTabEnum.History)}),[c,f,e]),y=(0,a.useMemo)((function(){return(0,G.jsx)(Mr.Tabs.Tab,{name:ms.WalletHomeTabEnum.Tools,label:e.formatMessage({id:"form__tools"}),children:(0,G.jsx)(Wd,{homeTabName:ms.WalletHomeTabEnum.Tools,children:(0,G.jsx)(Of,{})})},ms.WalletHomeTabEnum.Tools)}),[e]),j=(0,a.useMemo)((function(){return[{name:ms.WalletHomeTabEnum.Tokens,tab:x},{name:ms.WalletHomeTabEnum.Collectibles,tab:g},{name:ms.WalletHomeTabEnum.History,tab:v},{name:ms.WalletHomeTabEnum.Tools,tab:y}].filter((function(e){return e.name===ms.WalletHomeTabEnum.Collectibles?!(null!=u&&u.settings.hiddenNFTTab):e.name===ms.WalletHomeTabEnum.History?!(0,da.isAllNetworks)(f):e.name!==ms.WalletHomeTabEnum.Tools||!(null!=u&&null!=(t=u.settings)&&t.hiddenToolTab);var t}))}),[null==u?void 0:u.settings,f,x,g,v,y]),w=(0,a.useCallback)((function(){var e;null==t||null==(e=t.current)||e.setRefreshing(!0),E.default.serviceOverview.refreshCurrentAccount().finally((function(){setTimeout((function(){var e;return null==t||null==(e=t.current)?void 0:e.setRefreshing(!1)}),50)}))}),[]),k=(0,a.useMemo)((function(){return j.map((function(e){return e.tab})).filter(Boolean)}),[j]),_=(0,a.useCallback)((function(e){var t;return null==(t=j[e])?void 0:t.name}),[j]),O=(0,a.useCallback)((function(e){n.current=e,h.current&&clearTimeout(h.current),h.current=setTimeout((function(){V.default.common.info("setHomeTabIndex",e),E.default.dispatch((0,Ud.setHomeTabName)(_(e)))}))}),[_]),I=(0,a.useCallback)((function(){h.current&&clearTimeout(h.current)}),[]),S=(0,a.useMemo)((function(){return{maxWidth:Nd.MAX_PAGE_CONTAINER_WIDTH,width:o?r:r-224,marginHorizontal:"auto",alignSelf:"center",flex:1}}),[o,r]);if(!s)return null;var T=(0,G.jsx)(Mr.Tabs.Container,{canOpenDrawer:!0,stickyTabBar:!0,initialTabName:i,onRefresh:w,onIndexChange:O,onPageScrollStateChange:I,headerView:(0,G.jsx)(Cf,{}),ref:t,containerStyle:S,headerHeight:o?238:152,children:k},d.default.isNativeAndroid?`${k.length}`:void 0),C=(0,G.jsxs)(G.Fragment,{children:[T,(0,G.jsx)(kc,{tabsContainerRef:t,currentIndexRef:n,homeTabName:i,usedTabs:j})]});return null!=u&&u.settings.validationRequired?(0,G.jsx)(Tf,{wallet:s,network:u,networkId:f,accountId:c,children:C}):C}));var Pf=(0,a.memo)((function(){return(0,zd.useOnboardingRequired)(!0),(0,Hd.useHtmlPreloadSplashLogoRemove)(),null})),Af=function(){return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(Pf,{}),(0,G.jsx)(D.default,{flex:1,children:(0,G.jsx)(ht,{children:(0,G.jsx)(Mf,{})})}),(0,G.jsx)(jc,{})]})};Af.displayName="HomeTabWallet";const Df=Af;function Rf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ef(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rf(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bf=f.TabRoutes.Home;const Nf=Ef(Ef({},ye[Bf]),{},{component:rt(ut(Df,{rootTabName:Bf}),Bf),children:[{name:f.HomeRoutes.ScreenTokenDetail,component:Bd,alwaysShowBackButton:!0},{name:f.HomeRoutes.FullTokenListScreen,component:kr,i18nTitle:"asset__tokens"},{name:f.HomeRoutes.Revoke,component:Ca,alwaysShowBackButton:!0},{name:f.HomeRoutes.RevokeRedirect,component:Pa},{name:f.HomeRoutes.RevokeRedirect2,component:Pa},{name:f.HomeRoutes.NFTMarketCollectionScreen,component:yo},{name:f.HomeRoutes.NFTPNLScreen,component:Jo,alwaysShowBackButton:!0},{name:f.HomeRoutes.OverviewDefiListScreen,component:Sa},{name:f.HomeRoutes.BulkSender,component:jr}]});var Lf=n(393093),Wf=n(752683),Ff=function(){var e=(0,B.useAppSelector)((function(e){return e.market.listSort}));return(0,a.useMemo)((function(){return e}),[e])},Hf=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).pollingInterval,t=void 0===e?60:e,n=(0,v.useIsFocused)(),r=(0,Wf.useMarketSelectedCategory)(),o=(0,p.default)(),i=(0,cu.useMarketMidLayout)(),l=Ff(),s=function(){var e=(0,Wf.useMarketSelectedCategory)();return(0,a.useMemo)((function(){var t;if((null==e?void 0:e.categoryId)===Lf.MARKET_FAVORITES_CATEGORYID)return null==(t=e.coingeckoIds)?void 0:t.join(",")}),[null==e?void 0:e.categoryId,null==e?void 0:e.coingeckoIds])}();(0,a.useEffect)((function(){var e;return n&&null!=r&&r.categoryId&&(l||E.default.serviceMarket.fetchMarketListDebounced({categoryId:r.categoryId,ids:s,sparkline:!o&&!i}),e=setInterval((function(){(0,ot.isAtAppRootTab)(f.TabRoutes.Market)&&E.default.serviceMarket.fetchMarketListDebounced({categoryId:r.categoryId,ids:s,sparkline:!o&&!i})}),1e3*t)),function(){clearInterval(e)}}),[null==r?void 0:r.categoryId,n,o,t,l,i,s]);var u=(0,a.useCallback)((0,Pt.default)((function*(){yield E.default.serviceMarket.fetchMarketCategorys(),r&&(yield E.default.serviceMarket.fetchMarketListDebounced({categoryId:r.categoryId,ids:s,sparkline:!o&&!i}))})),[i,o,r,s]);return{selectedCategory:r,onRefreshingMarketList:u}},zf=(f.TabRoutes.Swap,f.TabRoutes.Market,n(150295)),Uf=function(e){var t=e.onPressSearch,n=(0,b.default)();return(0,G.jsxs)(Ot.default,{height:{base:"56px",md:"64px"},alignItems:"center",pl:{base:"16px",md:"32px"},pr:{base:"10px",md:"32px"},children:[(0,G.jsx)(xe.default,{typography:{sm:"PageHeading",md:"Heading"},children:n.formatMessage({id:"market__market"})}),(0,G.jsx)(D.default,{ml:"16px",mr:"8px",h:"16px",w:"1px",bgColor:"divider"}),(0,G.jsxs)(Z.default,{onPress:t,flexDirection:"row",p:"8px",borderRadius:"xl",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},children:[(0,G.jsx)(J.default,{name:"MagnifyingGlassMini",size:20,color:"icon-subdued"}),(0,G.jsx)(xe.default,{typography:"Body2",color:"text-subdued",ml:2,children:n.formatMessage({id:"form__search_tokens"})})]})]})};function Vf(e){var t=e.onPressSearch,n=(0,b.default)();return(0,G.jsxs)(D.default,{px:"4",py:"4",flexDirection:"row",alignItems:"center",justifyContent:"space-between",zIndex:1,children:[(0,G.jsx)(D.default,{flexDirection:"row",h:"9",alignContent:"center",children:(0,G.jsx)(Z.default,{onPress:function(){var e;e=f.TabRoutes.Market,E.default.serviceMarket.switchMarketTopTab(e),(0,Ma.getAppNavigation)().dispatch(v.TabActions.jumpTo(e))},children:(0,G.jsx)(Y.default.DisplayMedium,{color:"text-default",children:n.formatMessage({id:"market__market"})})})}),(0,G.jsx)(D.default,{children:(0,G.jsx)(It.default,{size:"base",name:"MagnifyingGlassMini",type:"plain",onPress:t})})]})}const $f=(0,a.memo)((function(){var e=(0,v.useNavigation)(),t=(0,p.default)(),n=(0,a.useCallback)((function(){e.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Market,params:{screen:zf.MarketRoutes.MarketSearchModal}})}),[e]);return t?(0,G.jsx)(Vf,{onPressSearch:n}):(0,G.jsx)(Uf,{onPressSearch:n})}));var Gf=n(542457);const qf=(0,a.memo)((function(e){var t=e.categories,n=(0,Wf.useMarketSelectedCategoryId)(),r=(0,a.useMemo)((function(){if(n)return t.findIndex((function(e){return e.categoryId===n}));var e=t.findIndex((function(e){return e.defaultSelected}));return-1!==e?e:0}),[t,n]),o=(0,b.default)(),i=(0,a.useMemo)((function(){return t.map((function(e){var t,n={text:null!=(t=e.name)?t:""};return e.categoryId===Lf.MARKET_FAVORITES_CATEGORYID&&(n.text=o.formatMessage({id:"form__Watchlist"})),n}))}),[t,o]),l=(0,a.useCallback)((function(e){!function(e,t){var n=t[e];n&&E.default.serviceMarket.toggleCategory(n.categoryId)}(e,t)}),[t]);return(0,G.jsx)(D.default,{h:"32px",children:(0,G.jsx)(D.default,{flex:1,width:"full",children:t.length>0?(0,G.jsx)(Ds.default,{leftIconSize:0,buttons:i,selectedIndex:r,onButtonPress:l,bg:"background-default"}):(0,G.jsx)(D.default,{flex:1,width:"full",flexDirection:"row",children:Gf.MARKET_FAKE_SKELETON_CATEGORY_ARRAY.map((function(e,t){return(0,G.jsx)(D.default,{mr:"6",w:"10",h:"8",borderRadius:"9999px",overflow:"hidden",children:(0,G.jsx)(Tr.default,{})},t)}))})})})}));var Xf=n(601634);function Yf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yf(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Kf=(0,a.memo)((function(e){var t=e.headTags,n=Ff(),r=(0,b.default)(),o=(0,p.default)(),i=(0,cu.useMarketWidthLayout)().marketFillWidth,l=(0,a.useMemo)((function(){return o?D.default:Xr.default}),[o]),s=(0,a.useMemo)((function(){return o||i<=Gf.MARKET_LIST_COLUMN_SHOW_WIDTH_1}),[i,o]);return(0,G.jsxs)(D.default,{mt:"2",w:"full",children:[(0,G.jsx)(l,{flexDirection:"row",px:2,py:1.5,my:.5,children:t.map((function(e){if(e.id===Gf.EMarketCellData.CollectionStarOrSerialNumber||e.id===Gf.EMarketCellData.TokenInfo||e.id===Gf.EMarketCellData.TokenPrice||e.id===Gf.EMarketCellData.Token24hChange||e.id===Gf.EMarketCellData.Token24hVolume||e.id===Gf.EMarketCellData.TokenMarketCap||e.id===Gf.EMarketCellData.TokenSparklineChart){var t,a,i,l,u,d=e.id===Gf.EMarketCellData.Token24hChange||e.id===Gf.EMarketCellData.CollectionStarOrSerialNumber||e.id===Gf.EMarketCellData.TokenInfo?{w:o&&e.id===Gf.EMarketCellData.Token24hChange?"100px":e.minW}:{flex:1},c=s&&null!=(t=null==(a=e.dislocation)?void 0:a.id)?t:e.id,f=s&&null!=(i=null==(l=e.dislocation)?void 0:l.title)?i:e.title;return(0,G.jsx)(Xr.default.Column,{children:(0,G.jsxs)(Z.default,Qf(Qf({onPress:function(){var e="down";n&&n.id===c&&"down"===n.direction&&(e="up"),E.default.serviceMarket.updateMarketListSort({id:c,direction:e})},flexDirection:"row",alignItems:"center",justifyContent:e.id===Gf.EMarketCellData.TokenInfo||e.id===Gf.EMarketCellData.CollectionStarOrSerialNumber?"flex-start":"flex-end"},d),{},{children:[(0,G.jsx)(Y.default.Subheading,{color:"text-subdued",textAlign:null==e?void 0:e.textAlign,children:f?r.formatMessage({id:f}):"#"}),(0,G.jsx)(J.default,{name:n&&n.id===c&&"up"===n.direction?"ChevronUpMini":"ChevronDownMini",size:16,color:n&&n.id===c?"icon-success":"icon-subdued"})]}))},`${null!=(u=e.title)?u:""}--${e.id}`)}var p;return e.id===Gf.EMarketCellData.TokenSwapStatus||e.id===Gf.EMarketCellData.TokenCollectionStarAndMore?(0,G.jsx)(Xr.default.Column,{children:(0,G.jsx)(D.default,{flex:1})},`${null!=(p=e.title)?p:""}--${e.id}`):null}))}),o?null:(0,G.jsx)(kn.default,{})]})}));function Zf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zf(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ep=function(e){var t=e.name,n=e.symbol,r=e.onPress,o=e.icon,i=e.coingeckoId,l=e.isSelected,s=e.index,u=(0,p.default)(),d=(0,cu.useGridBoxStyle)({index:s,outPadding:u?32:48}),c=(0,a.useMemo)((function(){return l?i:void 0}),[i,l]);return(0,G.jsxs)(Z.default,Jf(Jf({height:"64px",borderWidth:1,borderRadius:"12px",borderColor:"border-default",flexDirection:"row",alignItems:"center",justifyContent:"space-between",onPress:function(){r(!l,i)}},d),{},{children:[(0,G.jsxs)(D.default,{ml:"3",alignItems:"center",flexDirection:"row",flex:1,children:[(0,G.jsx)(Wo.default,{borderRadius:16,src:o,size:8}),(0,G.jsxs)(D.default,{flexDirection:"column",ml:"2",flex:1,children:[(0,G.jsx)(Y.default.Body2Strong,{children:n}),(0,G.jsx)(Y.default.Caption,{numberOfLines:1,color:"text-subdued",children:t})]})]}),(0,G.jsx)(D.default,{size:5,flexDirection:"row",alignItems:"center",justifyContent:"center",mr:1,children:(0,G.jsx)(Id.default,{isChecked:l,value:c,onChange:function(){r(!l,i)},pointerEvents:"box-only"})})]}))};const tp=(0,a.memo)((function(e){var t,n=e.tokens,r=(0,a.useState)((function(){var e;return null!=(e=null==n?void 0:n.map((function(e){return e.coingeckoId})))?e:[]})),o=(0,h.default)(r,2),i=o[0],l=o[1],s=(0,b.default)(),u=(0,p.default)(),d=(0,a.useCallback)((function(e,t){l(e?function(e){return e.find((function(e){return e===t}))?e:[t].concat((0,x.default)(e))}:function(e){var n=(0,x.default)(e),r=e.indexOf(t);return-1!==r&&n.splice(r,1),n})}),[]);return(0,G.jsx)(D.default,{flex:1,alignItems:"center",justifyContent:"center",children:(0,G.jsxs)(D.default,{mt:u?"18px":"56px",maxW:cu.GRID_MAX_WIDTH,children:[(0,G.jsxs)(D.default,{mb:"32px",justifyContent:"center",alignItems:"center",children:[(0,G.jsx)(Y.default.DisplayLarge,{children:s.formatMessage({id:"empty__your_watchlist_is_empty"})}),(0,G.jsx)(Y.default.Body1,{mt:2,children:s.formatMessage({id:"empty__your_watchlist_is_empty_desc"})})]}),(0,G.jsx)(D.default,{flexDirection:"row",alignContent:"flex-start",flexWrap:"wrap",width:"full",children:null==n?void 0:n.map((function(e,t){var n,r,o,a,l;return(0,G.jsx)(ep,{name:null!=(r=e.name)?r:"",icon:null!=(o=e.iconUrl)?o:"",symbol:null!=(a=e.symbol)?a:"",coingeckoId:null!=(l=e.coingeckoId)?l:"",isSelected:null==i?void 0:i.includes(e.coingeckoId),onPress:d,index:t},`${null!=(n=e.name)?n:"token"}-i`)}))}),(0,G.jsx)(K.default,{size:"xl",mt:"5",type:"primary",isDisabled:!(i&&i.length>0),onPress:function(){if(null!=i&&i.length){var e=i.map((function(e){var t={coingeckoId:e},r=null==n?void 0:n.find((function(t){return t.coingeckoId===e}));return r&&Object.assign(t,{symbol:r.symbol}),t}));E.default.serviceMarket.saveMarketFavoriteTokens(null!=e?e:[])}},children:s.formatMessage({id:"action__add_str_tokens"},{0:`${null!=(t=null==i?void 0:i.length)?t:0}`})})]})})}));var np=n(393495);const rp=(0,a.memo)((function(e){var t=e.onPress,n=e.marketTokenId,r=e.onLongPress,o=(0,B.useSettings)().selectedFiatMoneySymbol,i=(0,du.useCurrencyUnit)(o),l=(0,Fu.useMarketTokenItem)({coingeckoId:n,isList:!0}),s=(0,a.useMemo)((function(){return null!=l&&l.marketCap?(0,fu.formatMarketUnitPosition)(i,(0,fu.formatMarketValueForInfo)(null==l?void 0:l.marketCap)):""}),[null==l?void 0:l.marketCap,i]),u=(0,a.useMemo)((function(){return null!=l&&l.price?(0,fu.formatMarketUnitPosition)(i,l.price<=1?(0,fu.formatDecimalZero)(l.price):(0,fu.formatMarketValueForComma)(l.price)):""}),[null==l?void 0:l.price,i]),d=(0,a.useMemo)((function(){return null!=l&&l.priceChangePercentage24H?`${(0,fu.formatMarketVolatility)(l.priceChangePercentage24H)}%`:""}),[null==l?void 0:l.priceChangePercentage24H]);return(0,G.jsx)(Z.default,{onLongPress:function(){l&&r&&r(l)},onPress:function(){l&&t&&t(l)},children:function(e){var t=e.isPressed;return(0,G.jsxs)(D.default,{px:2,py:1.5,my:.5,alignItems:"center",flexDirection:"row",borderRadius:"xl",bgColor:t?"surface-pressed":void 0,children:[(0,G.jsxs)(D.default,{alignItems:"center",flexDirection:"row",flex:1,children:[l&&void 0!==l.logoURI?(0,G.jsx)(Rt.default,{size:8,mr:3,token:{logoURI:l.logoURI,name:l.name,symbol:l.symbol}}):(0,G.jsx)(D.default,{mr:3,children:(0,G.jsx)(Q.default,{shape:"Avatar",size:32})}),(0,G.jsxs)(D.default,{children:[l&&void 0!==l.symbol?(0,G.jsx)(Y.default.Body1Strong,{children:l.symbol}):(0,G.jsx)(Q.default,{shape:"Body2"}),l&&void 0!==l.marketCap?(0,G.jsx)(Y.default.Body2,{numberOfLines:1,color:"text-subdued",children:s}):(0,G.jsx)(Q.default,{shape:"Body2"})]})]}),(0,G.jsx)(D.default,{children:l&&void 0!==l.price?(0,G.jsx)(Y.default.Body2Strong,{children:u}):(0,G.jsx)(D.default,{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:(0,G.jsx)(Q.default,{shape:"Body2"})})}),(0,G.jsx)(D.default,{children:l&&l.priceChangePercentage24H?(0,G.jsx)(D.default,{w:"100px",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:(0,G.jsx)(D.default,{width:"72px",height:"32px",borderRadius:"6px",backgroundColor:l.priceChangePercentage24H>=0?"focused-default":"focused-critical",alignItems:"center",justifyContent:"center",children:(0,G.jsx)(Y.default.Body2Strong,{textAlign:"center",color:"text-on-primary",children:d})})}):(0,G.jsx)(D.default,{w:"100px",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",pl:"28px",children:(0,G.jsx)(Q.default,{shape:"DisplaySmall",width:"72px",height:"32px"})})})]})}})}));const op=(0,a.memo)((function(){var e,t=(0,ge.default)().screenWidth,n=(0,cu.useMarketWidthLayout)(),r=n.marketFillWidth,o=n.isVerticalLayout;(0,Wf.useMarketCategoryList)();var i=(0,Wf.useSimplyMarketTabCategoryList)(),l=(0,Wf.useMarketFavoriteRecommentedList)(),s=(0,Wf.useMarketFavoriteCategoryTokenIds)(),u=Hf(),d=u.selectedCategory,c=u.onRefreshingMarketList,p=(0,a.useMemo)((function(){return o?Gf.ListHeadTags.filter((function(e){return e.showVerticalLayout})):r<=Gf.MARKET_LIST_COLUMN_SHOW_WIDTH_1?Gf.ListHeadTags.filter((function(e){return!e.hide824Width})):r>Gf.MARKET_LIST_COLUMN_SHOW_WIDTH_1&&r<=Gf.MARKET_LIST_COLUMN_SHOW_WIDTH_2?Gf.ListHeadTags.filter((function(e){return!e.hide924Width})):r>Gf.MARKET_LIST_COLUMN_SHOW_WIDTH_2&&r<Gf.MARKET_LIST_COLUMN_SHOW_WIDTH_3?Gf.ListHeadTags.filter((function(e){return!e.hide1024Width})):Gf.ListHeadTags}),[o,r]),m=(0,v.useNavigation)(),x=(0,a.useRef)(null),g=(0,a.useCallback)((function(e){var t=e.item;return o?(0,G.jsx)(rp,{marketTokenId:t,onPress:function(){m.navigate(f.HomeRoutes.MarketDetail,{marketTokenId:t})},onLongPress:function(e){var t,n;(0,Xf.showMarketCellMoreMenu)(e,{header:`${null!=(t=null!=(n=e.symbol)?n:e.name)?t:""}`})}}):(0,G.jsx)(np.default,{marketTokenId:t,headTags:p,onPress:function(){m.navigate(f.HomeRoutes.MarketDetail,{marketTokenId:t})},onLongPress:function(e){var t,n;(0,Xf.showMarketCellMoreMenu)(e,{header:`${null!=(t=null!=(n=e.symbol)?n:e.name)?t:""}`})}})}),[o,p,m]),b=(0,a.useState)(!1),y=(0,h.default)(b,2),j=y[0],w=y[1],k=(0,a.useCallback)((function(e){var t=e.nativeEvent.contentOffset.y;w((null!=t?t:0)>200)}),[]),_=(0,a.useState)(!1),O=(0,h.default)(_,2),I=O[0],S=O[1],T=(0,a.useCallback)((function(){S(!0),c().finally((function(){S(!1)}))}),[c]),C=(0,a.useMemo)((function(){return d&&d.categoryId===Lf.MARKET_FAVORITES_CATEGORYID&&!s.length&&l.length>0}),[s.length,l.length,d]),M=(0,a.useMemo)((function(){return(0,G.jsx)(D.default,{pt:1,mt:-1,bgColor:"background-default",children:C?(0,G.jsx)(tp,{tokens:l}):(0,G.jsx)(Kf,{headTags:p})})}),[p,l,C]);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(D.default,{flex:1,px:o?2:3,style:{maxWidth:Nd.MAX_PAGE_CONTAINER_WIDTH,width:"100%",marginHorizontal:"auto",alignSelf:"center",paddingTop:o?0:32},children:[(0,G.jsx)(qf,{categories:i}),(0,G.jsx)(qr.default,{flex:1,refreshing:I,onRefresh:T,ref:x,bg:"background-default",onScroll:k,contentContainerStyle:{paddingBottom:24},keyExtractor:function(e,t){return`${e}-${t}`},stickyHeaderIndices:[0],scrollEventThrottle:200,data:C?null:null!=d&&null!=(e=d.coingeckoIds)&&e.length?d.coingeckoIds:Gf.MARKET_FAKE_SKELETON_LIST_ARRAY,renderItem:g,ItemSeparatorComponent:o?null:kn.default,ListHeaderComponent:M})]}),j&&(0,G.jsx)(It.default,{circle:!0,name:"UploadMini",position:"absolute",size:"base",type:"basic",bottom:"80px",right:t>1144?(t-1144)/2+"px":"20px",onPress:function(){var e;null==(e=x.current)||e.scrollToOffset({offset:0,animated:!0})}})]})}));function ap(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ip(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ap(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ap(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lp=f.TabRoutes.Market;const sp=ip(ip({},ye[lp]),{},{component:rt(ut((function(){var e=(0,ue.useSafeAreaInsets)().top;return(0,G.jsxs)(D.default,{w:"full",h:"full",pt:`${e}px`,children:[(0,G.jsx)($f,{}),(0,G.jsx)(op,{})]})}),{rootTabName:lp}),lp),children:[{name:f.HomeRoutes.MarketDetail,component:md,alwaysShowBackButton:!0}]});var up=function(e){var t=e.title,n=e.description,r=e.isChecked,o=e.onChange;return(0,G.jsxs)(ce.default,{space:3,children:[(0,G.jsxs)(Ot.default,{alignItems:"center",justifyContent:"space-between",children:[(0,G.jsx)(xe.default,{typography:"Body1Strong",children:t}),(0,G.jsx)(Ki.default,{labelType:"false",isChecked:r,onToggle:o})]}),(0,G.jsx)(xe.default,{typography:"Caption",children:n})]})};const dp=(0,a.memo)((function(){var e,t=(0,b.default)(),n=(0,B.useNavigation)(),r=(0,Fo.default)().themeVariant,o=null==(e=(0,B.useAppSelector)((function(e){var t;return null==(t=e.settings.advancedSettings)?void 0:t.useDustUtxo})))||e,i=(0,a.useCallback)((function(){E.default.dispatch((0,xl.setAdvancedSettings)({useDustUtxo:!o}))}),[o]);return(0,a.useLayoutEffect)((function(){var e=t.formatMessage({id:"form__advanced"});n.setOptions({title:e})}),[n,t]),(0,G.jsx)(de.ScrollView,{w:"full",h:"full",bg:"background-default",maxW:768,mx:"auto",p:4,children:(0,G.jsxs)(ce.default,{space:3,children:[(0,G.jsx)(xe.default,{typography:"Subheading",color:"text-subdued",children:"BITCOIN, LITECOIN, BITCOIN CASH, DOGECOIN"}),(0,G.jsx)(ce.default,{space:5,bg:"surface-default",borderRadius:"12",p:4,borderWidth:"light"===r?1:void 0,borderColor:"border-subdued",children:(0,G.jsx)(up,{title:t.formatMessage({id:"form__spend_dust_utxo"}),description:t.formatMessage({id:"content__after_enable_use_btc_utxo_will_increase_tx_fee_and_reduce_anonymity_and_privacy_its_recommend_to_disable_dust_utxo"}),isChecked:o,onChange:i})})]})})}));function cp(){return(cp=(0,Pt.default)((function*(){return Promise.resolve(!0)}))).apply(this,arguments)}n(468555);var fp=function(e){var t=e.title,n=e.onPress,r=e.desc;return(0,G.jsx)(Xr.default,{onPress:n,children:(0,G.jsx)(Xr.default.Column,{flex:1,text:{label:t,description:r}})})};const pp=function(){var e=(0,b.default)(),t=(0,B.useNavigation)();(0,a.useLayoutEffect)((function(){var n=e.formatMessage({id:"action__clear_cache"});t.setOptions({title:n})}),[t,e]);var n=(0,a.useCallback)((function(){(function(){return cp.apply(this,arguments)})().then((function(){dt.default.show({title:e.formatMessage({id:"msg__cleared"})})}))}),[e,t]);return(0,G.jsx)(D.default,{mt:{base:0,md:4},w:"full",h:"full",bg:"background-default",p:"8px",maxW:768,mx:"auto",children:(0,G.jsx)(D.default,{children:(0,G.jsxs)(ce.default,{w:"full",space:"16px",children:[(0,G.jsx)(fp,{onPress:function(){t.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.ClearCache,params:{screen:f.ClearCacheModalRoutes.ClearCacheModal,params:void 0}})},title:e.formatMessage({id:"action__clear_all_cache_on_app"}),desc:e.formatMessage({id:"action__clear_all_cache_on_app_desc"})}),(0,G.jsx)(fp,{onPress:n,title:e.formatMessage({id:"action__clear_cache_of_web_browser"}),desc:e.formatMessage({id:"action__clear_cache_of_web_browser_desc"})})]})})})};var mp=n(612210),hp=n(342620),xp=n(592323);const gp=function(){var e=(0,b.default)(),t=(0,v.useNavigation)(),n=(0,hp.default)().locale,r=(0,a.useState)(""),o=(0,h.default)(r,2),i=o[0],l=o[1],s=(0,B.useActiveWalletAccount)().wallet,u=(0,a.useState)(!1),d=(0,h.default)(u,2),c=d[0],p=d[1],m=(0,a.useState)(!1),x=(0,h.default)(m,2),g=x[0],y=x[1],j=(0,a.useState)(null),w=(0,h.default)(j,2),k=w[0],_=w[1],O=(0,a.useState)(""),S=(0,h.default)(O,2),T=S[0],C=S[1],M=(0,a.useState)(null),P=(0,h.default)(M,2),A=P[0],R=P[1],N=(0,a.useState)([]),L=(0,h.default)(N,2),W=L[0],F=L[1];(0,a.useEffect)((function(){l(`https://lite.onekey.so/?language=${n}`)}),[n]),(0,a.useEffect)((function(){s&&E.default.engine.getWallets().then((function(e){return F(e.filter((function(e){return"hd"===e.type})))}))}),[s]);var H=(0,a.useMemo)((function(){var t=[];return t.push({label:e.formatMessage({id:"action__restore_with_onekey_lite"}),value:"restore",iconProps:{name:"SaveAsOutline"}}),t.push({label:e.formatMessage({id:"action__change_pin"}),value:"change_pin",iconProps:{name:"PencilAltOutline"}}),t.push({label:e.formatMessage({id:"action__reset_onekey_lite"}),value:"reset",iconProps:{name:"TrashOutline",color:"icon-critical"},color:"icon-critical"}),t}),[e]),z=(0,a.useCallback)((function(){return(0,G.jsx)(U.default,{dropdownPosition:"right",title:e.formatMessage({id:"app__hardware_name_onekey_lite"}),onChange:function(e){A!==e&&R(e)},footer:null,activatable:!1,triggerProps:{width:"40px"},dropdownProps:{width:248},options:H,renderTrigger:function(){return(0,G.jsx)(D.default,{mr:"android"!==I.default.OS?4:0,alignItems:"flex-end",children:(0,G.jsx)(J.default,{name:"DotsHorizontalOutline"})})}})}),[e,H,A]);(0,a.useEffect)((function(){t.setOptions({title:e.formatMessage({id:"app__hardware_name_onekey_lite"}),headerRight:function(){return z()}})}),[e,H,t]);var V=function(){t.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.CreateWallet,params:{screen:f.CreateWalletModalRoutes.OnekeyLiteRestorePinCodeVerifyModal}})};(0,a.useEffect)((function(){switch(A){case"restore":V(),R(null);break;case"change_pin":t.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.OnekeyLiteChangePinInputPin,params:{screen:f.OnekeyLiteChangePinModalRoutes.OnekeyLiteChangePinInputPinModal}}),R(null);break;case"reset":y(!0),R(null)}}),[A]),(0,a.useEffect)((function(){"RESET"===T.toUpperCase()?_(!0):0===T.trim().length?_(null):_(!1)}),[T]);var $=(0,a.useMemo)((function(){return W.length?(0,G.jsx)(K.default,{onPress:function(){p(!0)},size:"xl",m:4,type:"primary",children:e.formatMessage({id:"action__back_up_to_onekey_lite"})}):(0,G.jsx)(K.default,{size:"xl",m:4,type:"primary",onPress:function(){V()},children:e.formatMessage({id:"action__restore_with_onekey_lite"})})}),[W.length,e]);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(D.default,{flexDirection:"column",flex:1,children:[(0,G.jsx)(D.default,{flex:1,children:(0,G.jsx)(xp.default,{src:i})}),(0,G.jsx)(D.default,{bg:"surface-subdued",pb:"ios"===I.default.OS?4:0,children:$}),(0,G.jsx)(mp.default,{visible:g,footerMoreView:(0,G.jsx)(D.default,{mb:3,children:(0,G.jsx)(dn.default,{w:"full",value:T,isInvalid:null!=k&&!k,onChangeText:C,placeholder:"RESET"})}),contentProps:{iconType:"danger",title:e.formatMessage({id:"action__reset_onekey_lite"}),content:e.formatMessage({id:"modal__reset_onekey_lite_desc"},{0:"RESET"})},footerButtonProps:{onPrimaryActionPress:function(e){var n=e.onClose;null==n||n(),setTimeout((function(){t.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.OnekeyLiteReset,params:{screen:f.OnekeyLiteResetModalRoutes.OnekeyLiteResetModal}})}),500)},primaryActionTranslationId:"action__delete",primaryActionProps:{isDisabled:!k,type:"destructive"}},onClose:function(){y(!1),C("")}})]}),(0,G.jsx)(U.default,{visible:c,onVisibleChange:p,onChange:function(e){t.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.BackupWallet,params:{screen:f.BackupWalletModalRoutes.BackupWalletLiteModal,params:{walletId:e.id}}})},title:e.formatMessage({id:"title_select_wallet"}),footer:null,activatable:!1,dropdownPosition:"right",containerProps:{zIndex:5},options:W.map((function(t){return{label:t.name,description:e.formatMessage({id:"form__str_accounts"},{count:t.accounts.length.toString()}),value:t}})),renderItem:function(e,t,n){return(0,G.jsxs)(Z.default,{onPress:function(){return null==n?void 0:n(e.value,e)},flexDirection:"row",alignItems:"center",height:"68px",paddingLeft:"18px",children:[(0,G.jsx)(re.default,{walletImage:e.value.type,avatar:e.value.avatar,size:"sm",circular:!0}),(0,G.jsxs)(D.default,{flexDirection:"column",ml:"12px",children:[(0,G.jsx)(xe.default,{typography:"Body1Strong",children:e.label}),(0,G.jsx)(xe.default,{typography:"Body2",color:"text-subdued",children:e.description})]})]})},renderTrigger:function(){return(0,G.jsx)(D.default,{})}})]})};var bp=n(330526),vp=function(e){var t=e.onClose,n=(0,b.default)();return(0,G.jsxs)(D.default,{px:4,w:"100%",children:[(0,G.jsx)(ct.default,{emoji:"\ud83d\udd04",title:n.formatMessage({id:"title__re_enable_extension_mannually"}),subTitle:n.formatMessage({id:"title__re_enable_extension_mannually_desc"})}),(0,G.jsx)(K.default,{mt:4,type:"primary",onPress:function(){window.location.reload(),t()},children:n.formatMessage({id:"action__restart"})})]})};const yp=(0,a.memo)((function(){var e=(0,b.default)(),t=(0,B.useNavigation)(),n=(0,Fo.default)().themeVariant,r=(0,p.default)(),o=E.default.dispatch,i=E.default.serviceHardware,l=(0,B.useAppSelector)((function(e){return e.settings.hardwareConnectSrc})),s=(0,a.useCallback)((function(e){o((0,xl.setHardwareConnectSrc)(e.label)),i.updateSettings({hardwareConnectSrc:e.label}),(0,pr.showOverlay)((function(e){return(0,G.jsx)(fr.default,{title:"",closeOverlay:e,showHeader:!1,modalLizeProps:{withHandle:!0,handlePosition:"inside",tapGestureEnabled:!1},children:(0,G.jsx)(vp,{onClose:e})})}))}),[o,i]);(0,a.useLayoutEffect)((function(){var n=e.formatMessage({id:"form__hardware_bridge_sdk_url"});t.setOptions({title:n})}),[e,t]);var u=(0,a.useMemo)((function(){return[{label:bp.EOnekeyDomain.ONEKEY_SO,description:e.formatMessage({id:"form__default"}),isActive:l===bp.EOnekeyDomain.ONEKEY_SO},{label:bp.EOnekeyDomain.ONEKEY_CN,description:e.formatMessage({id:"form__optimized_for_china_mainland_network"}),isActive:l===bp.EOnekeyDomain.ONEKEY_CN}]}),[e,l]),d=(0,a.useMemo)((function(){if(!r)return"light"===n?1:void 0}),[r,n]),c=(0,a.useMemo)((function(){return r?0:4}),[r]);return(0,G.jsxs)(de.ScrollView,{w:"full",h:"full",bg:"background-default",maxW:768,mx:"auto",p:4,children:[(0,G.jsx)(ce.default,{p:c,space:4,borderRadius:"12",borderWidth:d,borderColor:"border-subdued",children:u.map((function(e){return(0,G.jsx)(Z.default,{onPress:function(){s(e)},children:(0,G.jsxs)(Ot.default,{alignItems:"center",justifyContent:"space-between",children:[(0,G.jsxs)(ce.default,{children:[(0,G.jsx)(xe.default,{typography:"Body1Strong",children:e.label}),(0,G.jsx)(xe.default,{typography:"Body2",color:"text-subdued",children:e.description})]}),e.isActive&&(0,G.jsx)(J.default,{name:"CheckMini",color:"icon-success",size:20})]})})}))}),(0,G.jsx)(xe.default,{my:3,typography:"Caption",color:"text-subdued",children:e.formatMessage({id:"form__hardware_bridge_desc"})})]})}));var jp=n(398753),wp=n(218513);const kp=function(){var e=(0,b.default)(),t=(0,v.useNavigation)(),n=(0,p.default)(),r=(0,jp.useHelpLink)({path:"categories/360000170236"}),o=(0,jp.useHelpLink)({path:""}),a=(0,jp.useHelpLink)({path:"articles/360002123856"}),i=[{title:"",options:[{label:e.formatMessage({id:"form__submit_a_request"}),value:"submit_request",iconProps:{name:n?"ChatBubbleBottomCenterTextOutline":"ChatBubbleBottomCenterTextMini"}},{label:e.formatMessage({id:"form__s_request_history"}),value:"history",iconProps:{name:n?"ClockOutline":"ClockMini"}}]},{title:"",options:[{label:e.formatMessage({id:"form__help_support"}),value:"support",iconProps:{name:n?"LifebuoyOutline":"LifebuoyMini"}},{label:e.formatMessage({id:"form__beginner_guide"}),value:"guide",iconProps:{name:n?"MapOutline":"MapMini"}},{label:e.formatMessage({id:"form__hardware_wallet_manuals"}),value:"hardware_wallet",iconProps:{name:n?"BookOpenOutline":"BookOpenMini"}}]},{title:"",options:[{label:e.formatMessage({id:"title__official_website"}),value:"website",iconProps:{name:n?"GlobeAltOutline":"GlobeAltMini"}},{label:e.formatMessage({id:"title__buy_onekey_hardware"}),value:"shop",iconProps:{name:n?"ShoppingBagOutline":"ShoppingBagMini"}},{label:e.formatMessage({id:"title__client_download"}),value:"download",iconProps:{name:n?"ArrowDownTrayOutline":"ArrowDownTrayMini"}}]}];return(0,G.jsx)(U.default,{title:n?e.formatMessage({id:"title__help"}):void 0,dropdownPosition:"top-right",dropdownProps:n?{}:{minW:"240px",height:"320px"},positionTranslateY:-4,headerShown:!1,options:i,isTriggerPlain:!0,footer:null,activatable:!1,onChange:function(n){setTimeout((function(){switch(n){case"submit_request":d.default.isExtensionUiPopup?(E.default.serviceApp.openExtensionExpandTab({routes:[f.RootRoutes.Modal,f.ModalRoutes.SubmitRequest],params:{screen:f.SubmitRequestModalRoutes.SubmitRequestModal}}),setTimeout((function(){window.close()}),300)):t.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.SubmitRequest,params:{screen:f.SubmitRequestModalRoutes.SubmitRequestModal}});break;case"guide":(0,nn.openUrlByWebview)(r,e.formatMessage({id:"form__beginner_guide"}));break;case"support":(0,nn.openUrlByWebview)(o,e.formatMessage({id:"form__help_support"}));break;case"hardware_wallet":(0,nn.openUrlByWebview)(a,e.formatMessage({id:"form__hardware_wallet_manuals"}));break;case"history":t.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.HistoryRequest,params:{screen:wp.HistoryRequestRoutes.HistoryRequestModal}});break;case"website":(0,nn.openUrlByWebview)("https://help.onekey.so/hc/",e.formatMessage({id:"title__official_website"}));break;case"shop":(0,nn.openUrlByWebview)("https://shop.onekey.so/",e.formatMessage({id:"title__buy_onekey_hardware"}));break;case"download":(0,nn.openUrlByWebview)("https://onekey.so/download",e.formatMessage({id:"title__client_download"}))}}),200)},renderTrigger:function(){return(0,G.jsx)(T.default,{width:"50px",height:"50px",bg:"action-secondary-default",borderRadius:"25px",borderWidth:"1px",borderColor:"border-default",children:(0,G.jsx)(J.default,{size:24,name:"QuestionMarkCircleMini"})})}})};const _p=function(){var e=(0,b.default)(),t=d.default.isNativeAndroidGooglePlay||d.default.isNativeIOS,n=(0,a.useCallback)((function(){}),[e]);return t?(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:n,children:[(0,G.jsx)(J.default,{name:"StarOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,children:e.formatMessage({id:"form__rate_our_app"})}),(0,G.jsx)(D.default,{children:(0,G.jsx)(J.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}):null};var Op=n(358499);const Ip=function(){var e,t=(0,b.default)(),n=E.default.dispatch,r=(0,Qr.useAutoUpdate)(),o=r.state,i=r.progress,l=r.latest,s=(null!=(e=(0,Qr.useSettings)().updateSetting)?e:{}).autoDownload,u=void 0===s||s,c=(0,a.useState)(!0),f=(0,h.default)(c,2),p=f[0],m=(f[1],(0,a.useCallback)((function(){var e;null==(e=Op.default.checkUpdate(!0))||e.then((function(e){e||dt.default.show({title:t.formatMessage({id:"msg__using_latest_release"})})})).catch((function(){})).finally((function(){}))}),[t]));(0,a.useEffect)((function(){}),[o,l]);var x=(0,a.useCallback)((function(){var e;return null==(e=window.desktopApi)||null==e.downloadUpdate?void 0:e.downloadUpdate()}),[]),g=(0,a.useCallback)((function(){var e;return null==(e=window.desktopApi)||null==e.installUpdate?void 0:e.installUpdate()}),[]),v=(0,a.useMemo)((function(){return null}),[o,m,t,p,l,x,g,i.percent]);return d.default.isAppleStoreEnv?null:(0,G.jsxs)(G.Fragment,{children:[v,d.default.supportAutoUpdate&&(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",children:[(0,G.jsx)(J.default,{name:"ArrowDownTrayOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,children:t.formatMessage({id:"form__download_when_available"})}),(0,G.jsx)(Ki.default,{labelType:"false",isChecked:u,onToggle:function(){return n((0,xl.setUpdateSetting)({autoDownload:!u}))}})]})]})};var Sp=function(){var e,t=(0,b.default)(),n=E.default.dispatch,r=(0,Fo.default)().themeVariant,o=(0,jp.useHelpLink)({path:"articles/360002014776"}),i=(0,jp.useHelpLink)({path:"articles/360002003315"}),l=(0,Qr.useSettings)(),s=0,u=(0,a.useCallback)((function(e){(0,ko.copyToClipboard)(e),dt.default.show({title:t.formatMessage({id:"msg__copied"})})}),[t]);return(0,G.jsxs)(D.default,{w:"full",mb:"6",children:[(0,G.jsx)(D.default,{pb:"2",children:(0,G.jsx)(Y.default.Subheading,{color:"text-subdued",children:t.formatMessage({id:"form__about_uppercase"})})}),(0,G.jsxs)(D.default,{borderRadius:"12",bg:"surface-default",borderWidth:"light"===r?1:void 0,borderColor:"border-subdued",children:[(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:function(){!function(){var t=new Date;void 0===e||Math.round(t.getTime()-e.getTime())>5e3?(e=t,s=0):s+=1,s>=9&&n((0,xl.setDevMode)(!0))}(),u(`${l.version}${l.buildNumber?`-${l.buildNumber}`:""}`)},children:[(0,G.jsx)(J.default,{name:"HashtagOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,_web:{style:{WebkitUserSelect:"none",userSelect:"none"}},children:t.formatMessage({id:"form__version"})}),(0,G.jsxs)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},color:"text-subdued",children:[l.version,l.buildNumber?`-${l.buildNumber}`:""]})]}),(0,G.jsx)(Ip,{}),(0,G.jsx)(_p,{}),(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:function(){return(0,nn.openUrlByWebview)(o,t.formatMessage({id:"form__user_agreement"}))},children:[(0,G.jsx)(J.default,{name:"UserCircleOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,children:t.formatMessage({id:"form__user_agreement"})}),(0,G.jsx)(D.default,{children:(0,G.jsx)(J.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}),(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:function(){return(0,nn.openUrlByWebview)(i,t.formatMessage({id:"form__privacy_policy"}))},children:[(0,G.jsx)(J.default,{name:"EllipsisHorizontalCircleOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,children:t.formatMessage({id:"form__privacy_policy"})}),(0,G.jsx)(D.default,{children:(0,G.jsx)(J.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}),(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:function(){return(0,nn.openUrlByWebview)("https://www.onekey.so",t.formatMessage({id:"form__website"}))},children:[(0,G.jsx)(J.default,{name:"GlobeAltOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,children:t.formatMessage({id:"form__website"})}),(0,G.jsx)(J.default,{name:"ArrowTopRightOnSquareMini",color:"icon-subdued",size:20})]}),(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:function(){return(0,nn.openUrlExternal)("https://www.discord.gg/onekey")},children:[(0,G.jsx)(J.default,{name:"DiscordOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,children:"Discord"}),(0,G.jsx)(J.default,{name:"ArrowTopRightOnSquareMini",color:"icon-subdued",size:20})]}),(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){return(0,nn.openUrlExternal)("https://www.twitter.com/onekeyhq")},children:[(0,G.jsx)(J.default,{name:"TwitterOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,children:"Twitter"}),(0,G.jsx)(J.default,{name:"ArrowTopRightOnSquareMini",color:"icon-subdued",size:20})]})]})]})},Tp=function(){var e=(0,b.default)(),t=(0,v.useNavigation)(),n=(0,Fo.default)().themeVariant;return(0,G.jsxs)(D.default,{w:"full",mb:"6",children:[(0,G.jsx)(D.default,{pb:"2",children:(0,G.jsx)(Y.default.Subheading,{color:"text-subdued",children:e.formatMessage({id:"form__advanced__uppercase",defaultMessage:"ADVANCED"})})}),(0,G.jsx)(D.default,{borderRadius:"12",bg:"surface-default",borderWidth:"light"===n?1:void 0,borderColor:"border-subdued",children:(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){t.navigate(f.HomeRoutes.AdvancedSettings)},children:[(0,G.jsx)(J.default,{name:"CircleStackOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__crypto_settings"})}),(0,G.jsx)(D.default,{children:(0,G.jsx)(J.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})})]})},Cp=n(380164),Mp=n(816829),Pp=n(526002),Ap=n(574393),Dp=function(){var e=(0,b.default)(),t=(0,v.useNavigation)(),n=(0,Ma.default)(),r=(0,Ma.default)(),o=(0,Fo.default)().themeVariant,a=(0,Mp.useAddressBook)().showAddressBookModal;return(0,G.jsx)(D.default,{w:"full",mb:"6",children:(0,G.jsxs)(D.default,{borderRadius:"12",bg:"surface-default",borderWidth:"light"===o?1:void 0,borderColor:"border-subdued",children:[Ap.MigrationEnable&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){r.navigate(f.RootRoutes.Onboarding,{screen:Pp.EOnboardingRoutes.Migration,params:{}})},children:[(0,G.jsx)(J.default,{name:"ArrowPathRoundedSquareOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"title__migration"})}),(0,G.jsx)(D.default,{children:(0,G.jsx)(J.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}),(0,G.jsx)(kn.default,{})]}),Cp.default&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){t.navigate(f.HomeRoutes.ScreenOnekeyLiteDetail)},children:[(0,G.jsx)(J.default,{name:"OnekeyLiteOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"app__hardware_name_onekey_lite"})}),(0,G.jsx)(D.default,{children:(0,G.jsx)(J.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}),(0,G.jsx)(kn.default,{})]}),(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){n.navigate(f.RootRoutes.Onboarding,{screen:Pp.EOnboardingRoutes.KeyTag})},children:[(0,G.jsx)(J.default,{name:"KeytagOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__onekey_keytag"})}),(0,G.jsx)(D.default,{children:(0,G.jsx)(J.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}),(0,G.jsx)(kn.default,{}),(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){a()},children:[(0,G.jsx)(J.default,{name:"BookOpenOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"title__address_book"})}),(0,G.jsx)(D.default,{children:(0,G.jsx)(J.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})]})})},Rp=n(43939),Ep=n(112889),Bp=n(345584),Np=n(210201),Lp=n(789644),Wp=n.n(Lp),Fp=n(496279),Hp=n.n(Fp),zp=n(100139),Up=n.n(zp),Vp="https://node.onekeytest.com/health";function $p(e){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,Pt.default)((function*(e){var t=e.name,n=e.doRequest,r=Vp,o=yield n({url:`${r}?name=${t}`}),a={"x-request-by":null==o?void 0:o.requestMeta.headers["x-request-by"]};return{name:t,isOk:!!a["x-request-by"],res:{headers:a}}})),Gp.apply(this,arguments)}function qp(e){var t=e.type,n=e.instance;return[$p({name:`${t}__axios.get`,doRequest:function(){var e=(0,Pt.default)((function*(e){var t=e.url;return(yield n.get(t)).data}));return function(t){return e.apply(this,arguments)}}()}),$p({name:`${t}__axios.post`,doRequest:function(){var e=(0,Pt.default)((function*(e){var t=e.url;return(yield n.post(t)).data}));return function(t){return e.apply(this,arguments)}}()}),$p({name:`${t}__axios.request`,doRequest:function(){var e=(0,Pt.default)((function*(e){var t=e.url;return(yield n.request(t)).data}));return function(t){return e.apply(this,arguments)}}()}),$p({name:`${t}__axios.request2`,doRequest:function(){var e=(0,Pt.default)((function*(e){var t=e.url;return(yield n.request({url:t})).data}));return function(t){return e.apply(this,arguments)}}()}),$p({name:`${t}__axios.request(post)`,doRequest:function(){var e=(0,Pt.default)((function*(e){var t=e.url;return(yield n.request({url:t,method:"post"})).data}));return function(t){return e.apply(this,arguments)}}()})]}function Xp(e){var t=e.type,n=e.instance;return[$p({name:`${t}__fetch-(get)`,doRequest:function(){var e=(0,Pt.default)((function*(e){var t=e.url,r=yield n(t);return yield r.json()}));return function(t){return e.apply(this,arguments)}}()}),$p({name:`${t}__fetch-(post)`,doRequest:function(){var e=(0,Pt.default)((function*(e){var t=e.url,r=yield n(t,{method:"post"});return yield r.json()}));return function(t){return e.apply(this,arguments)}}()}),$p({name:`${t}__fetch2-(get)`,doRequest:function(){var e=(0,Pt.default)((function*(e){var t=e.url,r=yield n(new Request(t));return yield r.json()}));return function(t){return e.apply(this,arguments)}}()}),$p({name:`${t}__fetch2-(post)`,doRequest:function(){var e=(0,Pt.default)((function*(e){var t=e.url,r=yield n(new Request(t,{method:"post"}));return yield r.json()}));return function(t){return e.apply(this,arguments)}}()})]}function Yp(e){var t=e.type,n=e.instance;return[$p({name:`${t}__superagent.get`,doRequest:function(){var e=(0,Pt.default)((function*(e){var t=e.url;return(yield n.get(t)).body}));return function(t){return e.apply(this,arguments)}}()}),$p({name:`${t}__superagent.post`,doRequest:function(){var e=(0,Pt.default)((function*(e){var t=e.url;return(yield n.post(t)).body}));return function(t){return e.apply(this,arguments)}}()})].concat((0,x.default)(Lt()(n)?[$p({name:`${t}__superagent(GET,url)`,doRequest:function(){var e=(0,Pt.default)((function*(e){var t=e.url;return(yield n("GET",t)).body}));return function(t){return e.apply(this,arguments)}}()}),$p({name:`${t}__superagent(POST,url)`,doRequest:function(){var e=(0,Pt.default)((function*(e){var t=e.url;return(yield n("POST",t)).body}));return function(t){return e.apply(this,arguments)}}()})]:[]))}function Qp(){return(Qp=(0,Pt.default)((function*(){var e=yield Promise.all([].concat((0,x.default)(qp({type:"axios-singleton",instance:Wp()})),(0,x.default)(qp({type:"axios.create()",instance:Wp().create()})),(0,x.default)(Xp({type:"global.fetch",instance:n.g.fetch})),(0,x.default)(Xp({type:"cross-fetch",instance:Hp()})),(0,x.default)(Yp({type:"superagent-singleton",instance:Up()})),(0,x.default)(Yp({type:"superagent.agent()",instance:Up().agent()}))));return{success:e.filter((function(e){return e.isOk})),failed:e.filter((function(e){return!e.isOk}))}}))).apply(this,arguments)}var Kp={};var Zp=Object.freeze({}),Jp=function(){var e,t,r=(0,Fo.default)().themeVariant,o=(0,Qr.useSettings)(),i=o.devMode,l=o.pushNotification,s=o.instanceId,u=null==l?void 0:l.registrationId,c=i||Zp,p=c.enable,m=c.preReleaseUpdate,h=c.updateDeviceBle,x=c.updateDeviceSys,g=c.updateDeviceRes,y=c.enableTestFiatEndpoint,j=c.enableZeroNotificationThreshold,w=c.enablePerfCheck,k=c.defiBuildService,_=c.hideDiscoverContent,O=c.onRamperTestMode,I=c.showWebEmbedWebviewAgent,S=c.showContentScriptReloadButton,T=E.default.dispatch,C=(0,b.default)();!function(e){var t=e.enablePerfCheck;(0,a.useEffect)((function(){if(t&&d.default.isRuntimeBrowser){var e=function(e){var t,n=e.detail,r=(null==n?void 0:n.testID)||[null==n?void 0:n.componentName,null==n||null==(t=n.flatListInfo)?void 0:t.cellKey].filter(Boolean).join("--");r&&n&&(Kp[r]=n)};return window.addEventListener("OneKeyEventPerfCheck",e),function(){window.removeEventListener("OneKeyEventPerfCheck",e)}}}),[t])}({enablePerfCheck:w});var M=(0,v.useNavigation)(),P=(0,a.useMemo)((function(){return s}),[u,s]),A=(0,a.useCallback)((function(){T((0,xl.setPreReleaseUpdate)(!m))}),[m,T]),R=(0,a.useCallback)((function(){T((0,xl.setDevMode)(!p))}),[p,T]),B=(0,a.useCallback)((function(){(0,ko.copyToClipboard)(P||""),dt.default.show({title:C.formatMessage({id:"msg__copied"})})}),[C,P]),N=(0,a.useMemo)(Ep.getFiatEndpoint,[y]);return(0,G.jsxs)(D.default,{w:"full",mb:"6",children:[(0,G.jsx)(D.default,{pb:"2",children:(0,G.jsx)(Y.default.Subheading,{color:"text-critical",children:C.formatMessage({id:"form__dev_mode"})})}),(0,G.jsxs)(Rp.default.Box,{borderWidth:"light"===r?1:void 0,borderColor:"border-critical-default",borderRadius:"12",bg:"surface-default",mb:"24",children:[(0,G.jsx)(Rp.default.Item,{title:C.formatMessage({id:"form__dev_mode"}),titleColor:"text-critical",children:(0,G.jsx)(Ki.default,{labelType:"false",isChecked:p,onToggle:R})}),(0,G.jsx)(Rp.default.Item,{title:"Build Hash",titleColor:"text-critical",subDescribeCustom:(0,G.jsx)(xe.default,{color:"text-subdued",children:(0,wo.shortenAddress)("d9a91aded5c7a4a6c7647630b2cf199d869d7867")})}),(0,G.jsx)(Rp.default.Item,{title:C.formatMessage({id:"form__dev_pre_update"}),titleColor:"text-critical",children:(0,G.jsx)(Ki.default,{labelType:"false",isChecked:m,onToggle:A})}),(0,G.jsx)(Rp.default.Item,{title:C.formatMessage({id:"action__test_update_ble_firmware"}),titleColor:"text-critical",children:(0,G.jsx)(Ki.default,{labelType:"false",isChecked:h,onToggle:function(){T((0,xl.setUpdateDeviceBle)(!h))}})}),(0,G.jsx)(Rp.default.Item,{title:C.formatMessage({id:"action__test_update_firmware"}),titleColor:"text-critical",children:(0,G.jsx)(Ki.default,{labelType:"false",isChecked:x,onToggle:function(){T((0,xl.setUpdateDeviceSys)(!x))}})}),(0,G.jsx)(Rp.default.Item,{title:C.formatMessage({id:"action__test_update_resource"}),titleColor:"text-critical",children:(0,G.jsx)(Ki.default,{labelType:"false",isChecked:g,onToggle:function(){T((0,xl.setUpdateDeviceRes)(!g))}})}),(0,G.jsx)(Rp.default.Item,{title:C.formatMessage({id:"action__test_onekey_service"}),subDescribe:`\u8303\u56f4: \n[token\u3001\u4ef7\u683c\u3001\u4f59\u989d\u3001\u63a8\u9001\u3001\u5386\u53f2\u8bb0\u5f55] \n ${N}\n ${(0,Ep.getSocketEndpoint)()} \n ${(0,Ep.getCovalentApiEndpoint)()}`,titleColor:"text-critical",children:(0,G.jsx)(Ki.default,{labelType:"false",isChecked:y,onToggle:function(){T((0,xl.setEnableTestFiatEndpoint)(!y))}})}),(0,G.jsx)(Rp.default.Item,{title:"\u5141\u8bb8\u63a8\u9001\u9608\u503c\u8bbe\u7f6e\u4e3a0",titleColor:"text-critical",children:(0,G.jsx)(Ki.default,{labelType:"false",isChecked:!!j,onToggle:function(){T((0,xl.setEnableZeroNotificationThreshold)(!j))}})}),(0,G.jsx)(Rp.default.Item,{title:"registrationId",titleColor:"text-critical",subDescribeCustom:(0,G.jsx)(Z.default,{onPress:B,children:(0,G.jsx)(xe.default,{color:"text-subdued",children:(0,wo.shortenAddress)(P||"")})})}),(0,G.jsx)(Rp.default.Item,{title:C.formatMessage({id:"form__dev_platform_channel"}),titleColor:"text-critical",subDescribe:[`${null!=(e=d.default.symbol)?e:""} / ${null!=(t=d.default.distributionChannel)?t:""}`]}),(0,G.jsx)(Rp.default.Item,{title:"Perf Check",titleColor:"text-critical",children:(0,G.jsxs)(Ot.default,{space:4,children:[(0,G.jsx)(K.default,{size:"xs",onPress:function(){var e,t,r=Bp.default.getTimelineData();(0,ko.copyToClipboard)(JSON.stringify({$$onekeyPerfTrace:null==(e=n.g)?void 0:e.$$onekeyPerfTrace,perfCheckResult:Kp,timelinePerfTraceData:r})),dt.default.show({title:C.formatMessage({id:"msg__copied"})}),console.log("$$onekeyPerfTrace",null==(t=n.g)?void 0:t.$$onekeyPerfTrace),console.log("perfCheckResult",Kp),console.log("timelinePerfTraceData",r)},children:"Export"}),(0,G.jsx)(Ki.default,{labelType:"false",isChecked:!!w,onToggle:function(){T((0,xl.setEnablePerfCheck)(!w))}})]})}),(0,G.jsx)(Rp.default.Item,{title:"All-Chain Send",titleColor:"text-critical",subDescribeCustom:(0,G.jsx)(Ct.NetworkAccountSelectorTrigger,{mode:L.EAccountSelectorMode.Transfer})}),(0,G.jsx)(Rp.default.Item,{title:"Overview build by service",titleColor:"text-critical",subDescribeCustom:(0,G.jsx)(U.default,{isTriggerPlain:!0,headerShown:!1,footer:null,containerProps:{style:{minWidth:100}},onChange:function(e){T((0,xl.setOverviewDefiBuildByService)(e))},value:k||"all",options:["all","3","5","6","9","12"].map((function(e){return{label:e,value:e}}))})}),(0,G.jsx)(Rp.default.Item,{title:"Hidden Discover Content",titleColor:"text-critical",children:(0,G.jsx)(Ki.default,{labelType:"false",isChecked:_,onToggle:function(){T((0,xl.setHideDiscoverContent)(!_))}})}),(0,G.jsx)(Rp.default.Item,{title:"Enable OnRamper Test Mode",titleColor:"text-critical",children:(0,G.jsx)(Ki.default,{labelType:"false",isChecked:O,onToggle:function(){T((0,xl.setOnRamperTestMode)(!O))}})}),(0,G.jsx)(Rp.default.Item,{title:"Show WebEmbed Webview Agent",titleColor:"text-critical",children:(0,G.jsx)(Ki.default,{labelType:"false",isChecked:I,onToggle:function(){T((0,xl.setShowWebEmbedWebviewAgent)(!I))}})}),(0,G.jsx)(Rp.default.Item,{title:"Show content-script reload BUTTON",titleColor:"text-critical",children:(0,G.jsx)(Ki.default,{labelType:"false",isChecked:S,onToggle:function(){T((0,xl.setShowContentScriptReloadButton)(!S))}})}),(0,G.jsx)(Rp.default.Item,{title:"Request intercept check",titleColor:"text-critical",children:(0,G.jsx)(K.default,{size:"xs",onPress:(0,Pt.default)((function*(){var e=yield function(){return Qp.apply(this,arguments)}();console.log("requestsInterceptTest stringify text >>>>>",JSON.stringify(e,null,2)),console.log("requestsInterceptTest result >>>> ",e),e.failed.length?dt.default.show({title:"failed, please check console log"},{type:"error"}):dt.default.show({title:"success"})})),children:"Intercept Test"})}),(0,G.jsx)(Rp.default.Item,{title:"Monitor",titleColor:"text-critical",children:(0,G.jsx)(K.default,{size:"xs",onPress:function(){M.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Monitor,params:{screen:Np.MonitorRoutes.monitorSetting}})},children:"settings"})})]})]})},em=function(){var e=(0,Pt.default)((function*(){return null}));return function(){return e.apply(this,arguments)}}(),tm=function(){var e=(0,b.default)(),t=(0,Fo.default)().themeVariant,n=(0,v.useNavigation)(),r=(0,a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"txt";return`log-${(new Date).toISOString().replace(/[-:.]/g,"")}.${e}`}),[]),o=(0,a.useCallback)((0,Pt.default)((function*(){var e=r(),t=document.createElement("a"),n=yield E.default.serviceApp.getLoggerInstance(),o=new Blob(n,{type:"text/plain",endings:"native"});t.href=URL.createObjectURL(o),t.download=e,document.body.appendChild(t),t.click()})),[r]),i=(0,a.useCallback)((0,Pt.default)((function*(){var e=r("zip"),t=yield(0,V.getLogZipPath)(e),n=yield em();n&&n.open({url:t,title:e,filename:e}).catch((function(){}))})),[r]),l=(0,a.useCallback)((function(){o()}),[o,i]),s=(0,a.useCallback)((function(){(0,ko.copyToClipboard)("hi@onekey.so"),dt.default.show({title:e.formatMessage({id:"msg__copied"})})}),[e]);return(0,G.jsxs)(D.default,{w:"full",mb:"6",children:[(0,G.jsx)(D.default,{borderRadius:"12",bg:"surface-default",borderWidth:"light"===t?1:void 0,borderColor:"border-subdued",children:(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},onPress:l,children:[(0,G.jsx)(J.default,{name:"DocumentTextOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,children:e.formatMessage({id:"content__state_logs"})}),(0,G.jsx)(xe.default,{mr:"4",typography:{sm:"Body1Strong",md:"Body2Strong"},color:"text-subdued",children:e.formatMessage({id:"action__export"})}),(0,G.jsx)(D.default,{children:(0,G.jsx)(J.default,{name:"ArrowDownTrayOutline",color:"icon-subdued",size:20})})]})}),(0,G.jsx)(Z.default,{onPress:s,children:(0,G.jsx)(Y.default.Body2,{color:"text-subdued",mt:"2",children:e.formatMessage({id:"content__state_logs_desc"},{0:"hi@onekey.so"})})}),(0,G.jsx)(D.default,{mt:"24px",borderRadius:"12",bg:"surface-default",borderWidth:"light"===t?1:void 0,borderColor:"border-subdued",children:(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){n.navigate(f.HomeRoutes.ClearCache)},children:[(0,G.jsx)(J.default,{name:"FolderMinusOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:1,mx:3,children:e.formatMessage({id:"action__clear_cache"})}),(0,G.jsx)(D.default,{children:(0,G.jsx)(J.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})})]})},nm=n(221121);function rm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function om(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rm(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function am(e){var t,n,r=e.title,o=e.activeOption,a=e.hideDivider,i=e.iconName,l=a?void 0:{borderBottomWidth:"1",borderBottomColor:"divider"};return(0,G.jsxs)(D.default,om(om({display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",px:{base:4,md:6},py:4},l),{},{children:[i&&(0,G.jsx)(J.default,{name:i}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:r}),(0,G.jsxs)(D.default,{display:"flex",flexDirection:"row",alignItems:"center",children:[(0,G.jsxs)(D.default,{children:[(0,G.jsx)(xe.default,{mr:1,typography:{sm:"Body1Strong",md:"Body2Strong"},children:null!=(t=o.label)?t:"-"}),o.description&&(0,G.jsx)(Y.default.Body2,{color:"text-subdued",children:null!=(n=o.description)?n:"-"})]}),(0,G.jsx)(J.default,{name:"ChevronDownMini",color:"icon-subdued",size:20})]})]}))}var im=n(142127),lm=function(){var e=(0,b.default)(),t=(0,v.useNavigation)(),n=(0,v.useNavigation)(),r=E.default.dispatch,o=E.default.serviceNotification,i=(0,Qr.useSettings)(),l=i.theme,s=i.locale,u=i.selectedFiatMoneySymbol,d=(0,Fo.default)().themeVariant,c=(0,a.useMemo)((function(){return[{label:e.formatMessage({id:"form__auto",defaultMessage:"System"}),value:"system"}].concat(nm.LOCALES_OPTION)}),[e]);return(0,G.jsxs)(D.default,{w:"full",mb:"6",children:[(0,G.jsx)(D.default,{pb:2,children:(0,G.jsx)(Y.default.Subheading,{color:"text-subdued",children:e.formatMessage({id:"form__general_uppercase",defaultMessage:"GENERAL"})})}),(0,G.jsx)(D.default,{borderRadius:"12",bg:"surface-default",borderWidth:"light"===d?1:void 0,borderColor:"border-subdued",children:(0,G.jsxs)(D.default,{children:[(0,G.jsx)(D.default,{w:"full",children:(0,G.jsx)(U.default,{title:e.formatMessage({id:"form__theme",defaultMessage:"Theme"}),isTriggerPlain:!0,footer:null,headerShown:!1,defaultValue:l,onChange:function(e){r((0,xl.setTheme)(e))},options:[{label:e.formatMessage({id:"form__auto",defaultMessage:"System"}),value:"system"},{label:e.formatMessage({id:"form__light",defaultMessage:"Light"}),value:"light"},{label:e.formatMessage({id:"form__dark",defaultMessage:"Dark"}),value:"dark"}],dropdownProps:{width:"64"},dropdownPosition:"right",renderTrigger:function(t){var n=t.activeOption;return(0,G.jsx)(am,{title:e.formatMessage({id:"form__theme",defaultMessage:"Theme"}),activeOption:n,iconName:"SunOutline"})}})}),(0,G.jsx)(D.default,{w:"full",children:(0,G.jsx)(U.default,{title:e.formatMessage({id:"form__language",defaultMessage:"Language"}),isTriggerPlain:!0,footer:null,defaultValue:s,headerShown:!1,onChange:function(e){r((0,xl.setLocale)(e)),o.syncPushNotificationConfig()},options:c,dropdownProps:{width:"64"},dropdownPosition:"right",renderTrigger:function(t){var n=t.activeOption;return(0,G.jsx)(am,{title:e.formatMessage({id:"form__language",defaultMessage:"Language"}),activeOption:n,iconName:"LanguageOutline"})}})}),(0,G.jsx)(D.default,{w:"full",children:(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){n.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.CurrencySelect,params:{screen:im.CurrencySelectModal.CurrencySelectHome}})},children:[(0,G.jsx)(J.default,{name:"CurrencyDollarOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__fiat_currency"})}),(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",children:[(0,G.jsx)(Y.default.Body1Strong,{mr:1,children:u.toLocaleUpperCase()}),(0,G.jsx)(J.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})]})}),$i.supportedHaptics?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(kn.default,{}),(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){t.navigate(f.HomeRoutes.VolumeHaptic)},children:[(0,G.jsx)(J.default,{name:"SpeakerWaveOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__sound_n_vibration"})}),(0,G.jsx)(D.default,{children:(0,G.jsx)(J.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})]}):null]})})]})},sm=function(){var e=(0,b.default)(),t=(0,v.useNavigation)(),n=(0,Fo.default)().themeVariant,r=(0,B.useAppSelector)((function(e){return e.settings.hardwareConnectSrc}));return(0,a.useMemo)((function(){return!0}),[])?(0,G.jsxs)(D.default,{w:"full",mb:"6",children:[(0,G.jsx)(D.default,{pb:"2",children:(0,G.jsx)(Y.default.Subheading,{color:"text-subdued",children:e.formatMessage({id:"form__hardware_bridge",defaultMessage:"HARDWARE BRIDGE"})})}),(0,G.jsxs)(D.default,{borderRadius:"12",bg:"surface-default",borderWidth:"light"===n?1:void 0,borderColor:"border-subdued",children:[(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderBottomWidth:"1",borderBottomColor:"divider",py:4,px:{base:4,md:6},onPress:function(){t.navigate(f.HomeRoutes.HardwareBridgeSettings)},children:[(0,G.jsx)(J.default,{name:"FolderMinusOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__hardware_bridge_sdk_url"})}),(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",children:[(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},color:"text-subdued",children:r}),(0,G.jsx)(J.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})]}),(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){(0,nn.openUrlExternal)("http://127.0.0.1:21320/status/")},children:[(0,G.jsx)(J.default,{name:"DocumentArrowDownOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__hardware_bridge_status"})}),(0,G.jsx)(D.default,{flexDirection:"row",alignItems:"center",children:(0,G.jsx)(J.default,{name:"ArrowTopRightOnSquareMini",color:"icon-subdued",size:20})})]})]})]}):null},um=function(){var e=(0,b.default)(),t=(0,v.useNavigation)(),n=(0,Fo.default)().themeVariant;return(0,G.jsxs)(D.default,{w:"full",mb:"6",children:[(0,G.jsx)(D.default,{pb:"2",children:(0,G.jsx)(Y.default.Subheading,{color:"text-subdued",children:e.formatMessage({id:"form__alert_uppercase",defaultMessage:"ALERT"})})}),(0,G.jsx)(D.default,{borderRadius:"12",bg:"surface-default",borderWidth:"light"===n?1:void 0,borderColor:"border-subdued",children:(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){t.navigate(f.HomeRoutes.PushNotification)},children:[(0,G.jsx)(J.default,{name:"BellOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__notification"})}),(0,G.jsx)(D.default,{children:(0,G.jsx)(J.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})})]})},dm=n(771442),cm=n(124241),fm=n(519018),pm=n(733198),mm=n(7236),hm=function(e){var t=e.onConfirm,n=e.onClose,r=(0,p.default)(),o=(0,b.default)(),i=(0,a.useState)(""),l=(0,h.default)(i,2),s=l[0],u=l[1],d=(0,a.useState)(!1),c=(0,h.default)(d,2),f=c[0],m=c[1];return(0,G.jsx)(mp.default,{visible:!0,footerButtonProps:{primaryActionTranslationId:"action__delete",primaryActionProps:{type:"destructive",isDisabled:"RESET"!==s.toUpperCase(),isLoading:f},onPrimaryActionPress:function(){m(!0),t(),setTimeout((function(){m(!1),null==n||n()}),600)},onSecondaryActionPress:n},contentProps:{iconType:"danger",title:o.formatMessage({id:"form__reset_app",defaultMessage:"Reset App"}),content:o.formatMessage({id:"modal__reset_app_desc"},{0:"RESET"}),input:(0,G.jsx)(D.default,{w:"full",mt:"4",children:(0,G.jsx)(dn.default,{w:"full",value:s,size:r?"xl":"default",onChangeText:function(e){return u(e.trim())},placeholder:"RESET"})})}})};const xm=function(){var e=(0,b.default)(),t=(0,a.useCallback)((function(){(0,pr.showDialog)((0,G.jsx)(hm,{onConfirm:function(){(0,mm.showSplashScreen)(),E.default.serviceApp.resetApp().then((function(){0}))}}))}),[]),n=(0,a.useCallback)((function(){(0,pr.showOverlay)((function(n){return(0,G.jsx)(mp.default,{visible:!0,onClose:n,footerButtonProps:{hideSecondaryAction:!0,onPrimaryActionPress:function(){n(),setTimeout(t,500)},primaryActionTranslationId:"action__i_got_it",primaryActionProps:{type:"primary"}},contentProps:{iconType:"info",title:e.formatMessage({id:"modal__back_up_your_wallet",defaultMessage:"Back Up Your Wallet"}),content:e.formatMessage({id:"modal__back_up_your_wallet_desc",defaultMessage:"Before resetting the App, make sure you've backed up all of your wallets."})}})}))}),[e,t]),r=(0,a.useCallback)((0,Pt.default)((function*(){var e=0===(yield E.default.engine.getWallets()).filter((function(e){return!e.backuped})).length;e?t():n()})),[n,t]);return(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:r,children:[(0,G.jsx)(J.default,{name:"RestoreOutline",color:"icon-critical"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},color:"text-critical",flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__reset_app",defaultMessage:"Reset App"})}),(0,G.jsx)(D.default,{children:(0,G.jsx)(J.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})};var gm=function(){var e=(0,b.default)(),t=E.default.dispatch,n=E.default.serviceCloudBackup,r=(0,a.useState)(!1),o=(0,h.default)(r,2),i=o[0],l=o[1];(0,a.useEffect)((function(){cm.isSupportedPlatform&&cm.isContextSupportWebAuthn&&(0,cm.isMac)()&&(0,cm.isUserVerifyingPlatformAuthenticatorAvailable)().then((function(e){return l(e)}))}),[]);var s=(0,Qr.useAppSelector)((function(e){return e.settings.enableWebAuthn})),u=(0,Qr.useAppSelector)((function(e){return e.settings.enableAppLock})),c=(0,Qr.useAppSelector)((function(e){return e.settings.appLockDuration})),p=(0,Qr.useAppSelector)((function(e){return e.settings.enableLocalAuthentication})),m=(0,Qr.useAppSelector)((function(e){return e.data.isPasswordSet})),x=(0,Qr.useAppSelector)((function(e){return e.status.authenticationType})),g=(0,dm.useLocalAuthentication)().isOk,y=(0,v.useNavigation)(),j=(0,Fo.default)().themeVariant,w=(0,a.useMemo)((function(){return[{label:e.formatMessage({id:"form__always"}),value:0},{label:e.formatMessage({id:"form__str_minute"},{0:1}),value:1},{label:e.formatMessage({id:"form__str_minute"},{0:5}),value:5},{label:e.formatMessage({id:"form__str_minute"},{0:30}),value:30},{label:e.formatMessage({id:"form__str_hour"},{0:1}),value:60},{label:e.formatMessage({id:"form__str_hour"},{0:4}),value:240}]}),[e]),k=(0,a.useCallback)((function(e){t((0,xl.setAppLockDuration)(e))}),[t]),_=(0,a.useCallback)((function(){t((0,xl.setEnableAppLock)(!u))}),[u,t]),O=Math.min(240,c),I=d.default.isNativeIOS||d.default.isNativeAndroidGooglePlay;return(0,G.jsxs)(D.default,{w:"full",mb:"6",children:[(0,G.jsx)(D.default,{pb:"2",children:(0,G.jsx)(Y.default.Subheading,{color:"text-subdued",children:e.formatMessage({id:"form__security_uppercase",defaultMessage:"SECURITY"})})}),(0,G.jsxs)(D.default,{borderRadius:"12",bg:"surface-default",borderWidth:"light"===j?1:void 0,borderColor:"border-subdued",children:[I?(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:function(){n.loginIfNeeded(!1).then((function(t){t?y.navigate(f.HomeRoutes.CloudBackup):n.loginIfNeeded(!0).then((function(e){e&&y.navigate(f.HomeRoutes.CloudBackup)})).catch((function(t){"NETWORK"===t.message&&dt.default.show({title:e.formatMessage({id:"title__no_connection_desc"})},{type:"error"})}))}))},children:[(0,G.jsx)(J.default,{name:"CloudOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"action__backup"})}),(0,G.jsx)(D.default,{children:(0,G.jsx)(J.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}):void 0,(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:function(){y.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Password,params:{screen:pm.PasswordRoutes.PasswordRoutes,params:{}}})},children:[(0,G.jsx)(J.default,{name:"KeyOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:m?"form__change_password":"title__set_password"})}),(0,G.jsx)(D.default,{children:(0,G.jsx)(J.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}),i&&cm.isContextSupportWebAuthn?(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:function(){},children:[(0,G.jsx)(J.default,{name:"FingerPrintOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__touch_id"})}),(0,G.jsx)(D.default,{children:(0,G.jsx)(Ki.default,{labelType:"false",isChecked:s,onToggle:function(){y.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.EnableLocalAuthentication,params:{screen:fm.EnableLocalAuthenticationRoutes.EnableWebAuthn}})}})})]}):void 0,g&&m?(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",children:[(0,G.jsx)(J.default,{name:"FACIAL"===x?"FaceIdOutline":"FingerPrintOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:"FACIAL"===x?e.formatMessage({id:"content__face_id"}):e.formatMessage({id:"content__touch_id"})}),(0,G.jsx)(D.default,{children:(0,G.jsx)(Ki.default,{labelType:"false",isChecked:p,onToggle:function(){y.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.EnableLocalAuthentication,params:{screen:fm.EnableLocalAuthenticationRoutes.EnableLocalAuthenticationModal}})}})})]}):null,m?(0,G.jsxs)(D.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",children:[(0,G.jsx)(J.default,{name:"LockClosedOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__app_lock",defaultMessage:"App Lock"})}),(0,G.jsx)(D.default,{children:(0,G.jsx)(Ki.default,{labelType:"false",isChecked:u,onToggle:_})})]}):null,u?(0,G.jsx)(D.default,{w:"full",children:(0,G.jsx)(U.default,{title:e.formatMessage({id:"form__app_lock_timer",defaultMessage:"Auto-Lock Timer"}),isTriggerPlain:!0,footer:null,value:O,defaultValue:O,headerShown:!1,options:w,dropdownProps:{width:"64"},dropdownPosition:"right",renderTrigger:function(t){var n=t.activeOption;return(0,G.jsx)(am,{title:e.formatMessage({id:"form__app_lock_timer",defaultMessage:"Auto-Lock Timer"}),activeOption:n,iconName:"ClockOutline"})},onChange:k})}):null,(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:"1",borderBottomColor:"divider",onPress:function(){y.navigate(f.HomeRoutes.Protected)},children:[(0,G.jsx)(J.default,{name:"ShieldCheckOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"action__protection"})}),(0,G.jsx)(D.default,{children:(0,G.jsx)(J.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}),(0,G.jsx)(xm,{})]})]})},bm=n(249831),vm=n(910884),ym=function(){var e=(0,b.default)(),t=(0,Fo.default)().themeVariant,n=(0,v.useNavigation)(),r=((0,v.useNavigation)(),(0,B.useAppSelector)((function(e){return e.data.isPasswordSet}))),o=(0,a.useCallback)((function(){E.default.serviceApp.lock(!0)}),[]);return(0,G.jsx)(D.default,{w:"full",mb:"6",children:(0,G.jsxs)(D.default,{borderRadius:"12",bg:"surface-default",borderWidth:"light"===t?1:void 0,borderColor:"border-subdued",children:[null,r?(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:o,children:[(0,G.jsx)(J.default,{name:"LockClosedOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"action__lock_now"})}),(0,G.jsx)(D.default,{children:(0,G.jsx)(J.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}):null,d.default.isExtensionUiPopup?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(kn.default,{}),(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){E.default.serviceApp.openExtensionExpandTab({routes:""})},children:[(0,G.jsx)(J.default,{name:"ArrowsPointingOutOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"form__expand_view"})}),(0,G.jsx)(D.default,{children:(0,G.jsx)(J.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})]}):null,(0,G.jsx)(kn.default,{}),(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){(0,bm.gotoScanQrcode)()},children:[(0,G.jsx)(J.default,{name:"ViewfinderCircleOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"title__scan_qr_code"})}),(0,G.jsx)(D.default,{children:(0,G.jsx)(J.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]}),(0,G.jsx)(kn.default,{}),(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},onPress:function(){n.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.ManageConnectedSites,params:{screen:vm.ManageConnectedSitesRoutes.ManageConnectedSitesModel}})},children:[(0,G.jsx)(J.default,{name:"LinkOutline"}),(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mx:3,children:e.formatMessage({id:"action__connected_sites",defaultMessage:"Connected Sites"})}),(0,G.jsx)(D.default,{children:(0,G.jsx)(J.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})]})})};const jm=(0,a.memo)((function(e){var t=((0,Qr.useSettings)().devMode||{}).enable;console.log("Me screen options >>>>",e);var n=(0,ue.useSafeAreaInsets)();return(0,G.jsxs)(D.default,{bg:"background-default",flex:"1",children:[(0,G.jsx)(de.ScrollView,{px:4,py:{base:6,md:8},bg:"background-default",children:(0,G.jsxs)(D.default,{w:"full",maxW:768,mx:"auto",pb:`${n.bottom}px`,children:[(0,G.jsx)(ym,{}),(0,G.jsx)(Dp,{}),(0,G.jsx)(lm,{}),(0,G.jsx)(gm,{}),(0,G.jsx)(um,{}),(0,G.jsx)(Tp,{}),(0,G.jsx)(Sp,{}),(0,G.jsx)(sm,{}),(0,G.jsx)(tm,{}),t?(0,G.jsx)(Jp,{}):null]})}),(0,G.jsx)(D.default,{position:"absolute",bottom:{base:4,md:8},right:{base:4,md:8},children:(0,G.jsx)(kp,{})})]})}));var wm=function(e){var t=e.title,n=e.onToggle,r=e.divider,o=e.isChecked;return(0,G.jsxs)(D.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:r?"1 ":void 0,borderBottomColor:"divider",children:[(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mr:"3",children:t}),(0,G.jsx)(D.default,{children:(0,G.jsx)(Ki.default,{labelType:"false",isChecked:o,onToggle:n},null==o||null==o.toString?void 0:o.toString())})]})};const km=(0,a.memo)((function(){var e=(0,b.default)(),t=(0,B.useNavigation)(),n=(0,B.useAppSelector)((function(e){return e.status.authenticationType})),r=(0,Qr.useSettings)().enableHaptics,o=void 0===r?$i.defaultHapticStatus:r,i=(0,Fo.default)().themeVariant,l=E.default.dispatch;return(0,a.useLayoutEffect)((function(){var n=e.formatMessage({id:"form__sound_n_vibration"});t.setOptions({title:n})}),[t,e,n]),(0,G.jsx)(D.default,{w:"full",h:"full",bg:"background-default",p:"4",maxW:768,mx:"auto",children:(0,G.jsx)(D.default,{w:"full",children:(0,G.jsx)(D.default,{mt:"2",borderRadius:"12",bg:"surface-default",borderWidth:"light"===i?1:void 0,borderColor:"border-subdued",children:(0,G.jsx)(wm,{title:e.formatMessage({id:"form__vibrate"}),isChecked:o,onToggle:function(){l((0,xl.setEnableHaptics)(!o))}})})})})}));var _m=n(220033),Om=n(327226),Im=n(625316),Sm=n(235014),Tm=n(47675),Cm=function(e){var t=e.lastBackup,n=e.inProgress,r=(0,b.default)(),o=(0,Kr.default)(),i=E.default.serviceCloudBackup,l=E.default.servicePassword,s=E.default.dispatch,u=(0,Om.default)().showVerify,d=(0,a.useCallback)((function(){(0,pr.showOverlay)((function(e){return(0,G.jsx)(mp.default,{visible:!0,onClose:e,footerButtonProps:{primaryActionTranslationId:"action__disable",secondaryActionTranslationId:"action__dismiss",primaryActionProps:{type:"destructive",onPromise:function(){var t=(0,Pt.default)((function*(){yield i.disableService(),e()}));return function(){return t.apply(this,arguments)}}()}},contentProps:{iconName:"CloudOutline",iconType:"success",title:r.formatMessage({id:"dialog__your_wallets_are_backed_up"}),content:`${r.formatMessage({id:"dialog__your_wallets_are_backed_up_desc"},{cloudName:(0,_m.backupPlatform)().cloudName,platform:(0,_m.backupPlatform)().platform})}\n\n${r.formatMessage({id:"dialog__your_wallets_are_backed_up_desc_2"},{cloudName:(0,_m.backupPlatform)().cloudName})}`}})}))}),[r,i]),c=(0,Qr.useData)().isPasswordSet,p=(0,v.useIsFocused)(),m=(0,Ma.default)(),x=(0,a.useState)(!1),g=(0,h.default)(x,2),y=g[0],j=g[1];(0,a.useEffect)((function(){p&&j(!1)}),[p]);var w=(0,a.useCallback)((0,Pt.default)((function*(){if(j(!0),!c)return new Promise((function(e){m.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Password,params:{screen:pm.PasswordRoutes.PasswordRoutes,params:{onSuccess:function(){s((0,Im.incrBackupRequests)()),i.backupNow().then((function(){e(""),j(!1)}))}}}})}));(yield l.getPassword())||u((function(){s((0,Im.incrBackupRequests)()),i.backupNow().then((function(){j(!1)}))}),(function(){}),null,Sf.ValidationFields.Secret),s((0,Im.incrBackupRequests)()),yield i.backupNow(),j(!1)})),[s,c,m,i,l,u]);return(0,G.jsxs)(D.default,{flexDirection:"column",children:[(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",children:[n||y?(0,G.jsx)(T.default,{rounded:"full",size:"12",bgColor:"surface-neutral-subdued",children:(0,G.jsx)(Ht.default,{})}):(0,G.jsx)(Sm.default,{enabled:!0}),(0,G.jsx)(D.default,{px:"16px",flex:"1",justifyContent:"center",children:n||y?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(xe.default,{typography:"Body1Strong",children:r.formatMessage({id:"content__uploading_encrypted_backup"})}),(0,G.jsx)(xe.default,{typography:"Body2",color:"text-subdued",children:r.formatMessage({id:"content__uploading_encrypted_backup_desc"})})]}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(xe.default,{typography:"Body1Strong",children:r.formatMessage({id:"content__backup_enabled"})}),t>0?(0,G.jsx)(xe.default,{mt:1,typography:"Body2",color:"text-subdued",children:o.format(new Date(t),"MMM d, yyyy, HH:mm:ss")}):void 0]})}),(0,G.jsx)(It.default,{type:"plain",size:"lg",name:"EllipsisVerticalOutline",circle:!0,onPress:d})]}),(0,G.jsx)(K.default,{size:"xl",type:"primary",mt:"24px",isLoading:y||n,onPress:w,children:r.formatMessage({id:"action__back_up_now"})})]})},Mm=function(){var e=(0,b.default)(),t=(0,p.default)(),n=E.default.serviceCloudBackup;return(0,G.jsxs)(D.default,{flexDirection:t?"column":"row",children:[(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",flex:1,children:[(0,G.jsx)(Sm.default,{enabled:!1}),(0,G.jsxs)(D.default,{pl:"2",flex:"1",children:[(0,G.jsx)(xe.default,{typography:"Body1Strong",children:e.formatMessage({id:"content__backup_disabled"})}),(0,G.jsx)(xe.default,{typography:"Body2",color:"text-subdued",children:e.formatMessage({id:"content__backup_disabled_desc"},{cloudName:(0,_m.backupPlatform)().cloudName})})]})]}),(0,G.jsx)(K.default,{onPress:function(){n.enableService()},mt:{base:6,sm:0},size:t?"xl":"base",alignSelf:"center",w:{base:"full",sm:"auto"},children:e.formatMessage({id:"action__backup_to_icloud"},{cloudName:(0,_m.backupPlatform)().cloudName})})]})},Pm=function(){var e=(0,b.default)(),t=(0,B.useNavigation)();return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(xe.default,{typography:"Body2",color:"text-subdued",pb:2,mt:6,children:e.formatMessage({id:"content__previous_backups_desc"})}),(0,G.jsx)(D.default,{mt:"1",borderRadius:"12",background:"surface-default",borderWidth:1,borderColor:"border-subdued",children:(0,G.jsxs)(Z.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",px:4,py:4,onPress:function(){t.navigate(f.HomeRoutes.CloudBackupPreviousBackups)},children:[(0,G.jsx)(J.default,{name:"ClockOutline",size:24}),(0,G.jsx)(xe.default,{typography:"Body1Strong",flex:"1",numberOfLines:1,px:"3",children:e.formatMessage({id:"content__previous_backups"})}),(0,G.jsx)(J.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})})]})};const Am=function(){var e=(0,b.default)(),t=(0,B.useNavigation)(),n=E.default.serviceCloudBackup;(0,a.useLayoutEffect)((function(){var n=e.formatMessage({id:"action__backup"});t.setOptions({title:n})}),[t,e]);var r=(0,Qr.useAppSelector)((function(e){return e.cloudBackup})),o=r.isAvailable,i=r.enabled,l=r.inProgress,s=r.lastBackup,u=void 0===s?0:s,c=(0,a.useState)(!1),f=(0,h.default)(c,2),p=f[0],m=f[1];return(0,a.useEffect)((function(){var e=function(){var e=(0,Pt.default)((function*(){var e=yield n.getBackupStatus();m(e.hasPreviousBackups)}));return function(){return e.apply(this,arguments)}}();e()}),[n]),(0,G.jsxs)(Tm.default,{children:[(0,G.jsx)(xe.default,{typography:"Heading",mb:4,children:(0,_m.backupPlatform)().cloudName}),o?(0,G.jsxs)(D.default,{children:[i?(0,G.jsx)(Cm,{lastBackup:u,inProgress:l}):(0,G.jsx)(Mm,{}),p?(0,G.jsx)(H.default,{visible:p,initial:{opacity:0,translateY:-8},animate:{opacity:1,translateY:0,transition:{duration:150}},children:(0,G.jsx)(Pm,{})}):void 0]}):(0,G.jsx)(xe.default,{typography:"Body2",color:"text-critical",children:e.formatMessage({id:"content__log_in_icloud_to_enable_backup"},{cloudName:(0,_m.backupPlatform)().cloudName})}),(0,G.jsx)(D.default,{w:"full",py:"6",children:(0,G.jsx)(D.default,{borderBottomWidth:S.default.hairlineWidth,borderBottomColor:"divider"})}),(0,G.jsx)(xe.default,{typography:"Body2",color:"text-subdued",children:e.formatMessage({id:"content__wont_backup"},{cloudName:(0,_m.backupPlatform)().cloudName})}),(0,G.jsx)(xe.default,{typography:"Body2",color:"text-subdued"}),d.default.isNativeAndroid&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(D.default,{w:"full",children:(0,G.jsx)(D.default,{borderBottomWidth:S.default.hairlineWidth,borderBottomColor:"divider"})}),(0,G.jsx)(K.default,{mt:"6",onPress:function(){(0,_m.logoutFromGoogleDrive)(!1).then((function(){t.goBack()}))},size:"xl",children:e.formatMessage({id:"action__logout"})})]})]})};var Dm=n(555596),Rm=n(224255),Em=n(779025),Bm=function(e){var t=e.onClose,n=(0,b.default)();return(0,G.jsxs)(D.default,{px:4,w:"100%",children:[(0,G.jsx)(ct.default,{emoji:"\ud83d\udd04",title:n.formatMessage({id:"title__refresh_website_to_take_effect"}),subTitle:n.formatMessage({id:"title__refresh_website_to_take_effect_desc"})}),(0,G.jsx)(K.default,{onPress:function(){E.default.serviceSetting.disableExtSwitchTips(),t()},my:3,children:n.formatMessage({id:"action__dont_show_again"})}),(0,G.jsx)(K.default,{mb:6,type:"primary",onPress:t,children:n.formatMessage({id:"action__i_got_it"})})]})},Nm=n(852547);var Lm=function(e){var t=e.baseLogoImage,n=e.enable;return(0,G.jsxs)(D.default,{w:"40px",h:"40px",justifyContent:"center",alignItems:"center",children:[(0,G.jsx)(Wo.default,{source:t,size:8}),(0,G.jsx)(D.default,{position:"absolute",right:"0",bottom:"0",children:(0,G.jsx)(Wo.default,{src:n?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMmSURBVHgBxZdNTBNBFIDf7C5KtSUlRBMkEKoJAWzSNSR68GCNNfFY41kjZw9w80h70iMc9OoPd6k3E4j2qtFYgvxoDCAJNkEMDRSpurvPebNss7VtmF1b+ZLJ7MzszLyZ9+bNGwYSJBajcUBFRzRjCmM6AAsjYK/7HwZsFQALCLAKCLOgQHZm4EP2oLFZvYbkih4ulowRQDbKBw6DD4RQCFlVUdMvBnKrtf+pwdWl6AhaLOV34jrSpPiOpKurXYhV7xlT/DMOzSETDGjDmUiu4FQo7tbinvmoiZMTyf0FQpUA3NDG+JYnofnEEwtnR52CUMG1Rb3XQGNFdoStN7sV5UDXEWjtagEPFLgqIqQKjUqmZY7VPw/Vk7+7XSnr6TsnRfJAuPjDoF1I2Spg8nrPPy9AQ2AwIjLbycAr2X7GjgXGtgnfXm7Dx3t5UedjBxwhLmtg8dVLbj+hhRSR1JAC/wyizkdhMTgkkEGMC1Dp0/8nCjKd3y2sce7WMyzMEgtRBB84xkhobaqwCz9o4APyBcsPN2Bv/ZcokyM6lWyHzqT3zfQswPKDDZHclNZ/C6FIIK/H0ZMA+UyhPHmoP8BXba94bfK7mJzaQv2tcOJKm/SYih3JyLE2uSly2vILz85A960OkS5O90H7+eNlYWShuRVElPatO4slkffd7axq67nZIXJShbFjghxYoGM4K/PrQYNqIRW8whf/RUGwcjI/0wQtbfYkW293q9qdS4rUIy8MyynAmJQARPf+Nq893RQGRyqhE/Dpfh6+Tm2JNk9HkUfO4hrizoh6S/V8feNz2Rb+hk4GGacMZIDTg3MR230hTIAkQ48j0MMt31EHQd90/oeeREAaBlk748Tf62HtqAjJPLmy4pK9E61C795csca0CL0VRK/sOQqTlTR4JMidDiXP9wBC+aFSEYpwW6DIKA5NhWVmBueuO6UK0Y2fGjVkoHlkgwF12F1RMxhLzEdTvGUMGgbjKrbSM4Pz41Ut9brQW8FEM8U/L6HvqIlPjDgRPKaNu59jUgK4EZGzHbzGuAH1UhRV63lO9wqvzzGmzgKzcjLP8z+L/Cy1PByZMQAAAABJRU5ErkJggg==":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAXVBMVEUAAACIiIiHh4eJiYmJiYmJiYmHh4eJiYmIiIiAgICIiIiHh4eJiYmIiIiHh4ePj4+IiIgAAABERESAgIBmZmZVVVV3d3cRERFdXV0iIiIaGhpubm5MTEw7OzszMzMlTVMMAAAAEHRSTlMA34Dvr3BAz58QvyB/z6AQLJ3m/wAAAPtJREFUOMt901mOgzAQBNAyXoBAkjYmELa5/zHHgmhckIH3h1xG1WoZf5wt7koidTeZw0FZa9lRRQVitXyr0/Wb/MuU2Bg5ccOqllMWUSVJG3WS6DIGCjr3USMkiwGVPn++AhpwkoRuXgPEIRP2OgYszHWgQH4dyKGuAwqyE7ouyA6EtUPfD6/zQONXzSHABcZ57r1/S8IlR99LNPiBSvKYn6tv7wON+UgTfAItBwws/2HZVtbzOt1uiGbqlt0YDtDccjVyR/A6w+KjJvCugKcWMk1BSIXIyqkMq5ucMNg8zcmzKLGhokRbkOqhDsdZiQOXmXx7/nlh0/P/BZPzNqaZgMwaAAAAAElFTkSuQmCC",size:4})})]})},Wm=function(e){var t=e.toggleWalletSwitch,n=e.walletId,r=function(e){var t=e.walletId,n=(0,B.useAppSelector)((function(e){return e.settings.walletSwitchData}));return(0,a.useMemo)((function(){return null==n?void 0:n[t]}),[t,n])}({walletId:n}),o=(0,a.useState)(!(null==r||!r.enable)),i=(0,h.default)(o,2),l=i[0],s=i[1];(0,a.useEffect)((function(){s((function(e){return e!==!(null==r||!r.enable)?!(null==r||!r.enable):e}))}),[null==r?void 0:r.enable,n]);var u=(0,a.useCallback)((function(){s((function(e){var r=!e;return setTimeout((function(){E.default.serviceSetting.toggleWalletSwitchConfig(n,r),t(n,r)}),100),r}))}),[t,n]);return r?(0,G.jsxs)(D.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:2,children:[(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",children:[(0,G.jsx)(Lm,{baseLogoImage:r.logo,enable:l}),(0,G.jsx)(Y.default.Body1Strong,{ml:2,children:r.title})]}),(0,G.jsx)(D.default,{children:(0,G.jsx)(Ki.default,{mr:1,labelType:"false",isChecked:l,onToggle:u})})]}):null};const Fm=function(){var e=(0,B.useNavigation)(),t=(0,B.useAppSelector)((function(e){return e.settings.disableExtSwitchTips})),n=(0,b.default)();(0,a.useEffect)((function(){e.setOptions({title:n.formatMessage({id:"form__wallet_switch"})})}),[n,e]);var r=function(){var e=(0,B.useAppSelector)((function(e){return e.settings.walletSwitchData}));return(0,a.useEffect)((function(){e&&Object.keys(e).length===Object.keys(Nm.CWalletSwitchDefaultConfig).length||E.default.serviceSetting.setWalletSwitchConfig(Nm.CWalletSwitchDefaultConfig)}),[e]),{walletSwitchSectionData:(0,a.useMemo)((function(){if(e){var t=[];return Object.keys(e).forEach((function(e){var n=e.split("-")[0],r=t.find((function(e){return e.title===n}));r?r.data.push(e):t=[].concat((0,x.default)(t),[{title:n,data:[e]}])})),t}return[]}),[e])}}().walletSwitchSectionData,o=(0,a.useCallback)((function(e){var n=e.item;return(0,G.jsx)(Wm,{toggleWalletSwitch:function(){t||(0,pr.showOverlay)((function(e){return(0,G.jsx)(Em.OverlayPanel,{closeOverlay:e,modalProps:{headerShown:!1,hideBackButton:!0},modalLizeProps:{withHandle:!0,handlePosition:"inside",tapGestureEnabled:!1},children:(0,G.jsx)(Bm,{onClose:e})})}))},walletId:n})}),[t]),i=(0,a.useCallback)((function(e){var t=e.section.title;return(0,G.jsx)(Y.default.Subheading,{mt:4,color:"text-subdued",children:t})}),[]),l=(0,a.useMemo)((function(){return(0,G.jsxs)(D.default,{borderRadius:"12px",bgColor:"surface-neutral-subdued",p:4,flexDirection:"row",mb:2,children:[(0,G.jsx)(J.default,{name:"InformationCircleMini"}),(0,G.jsx)(Y.default.Body2Strong,{ml:2,children:n.formatMessage({id:"content__when_the_option_is_turned_on_the_inject_cnonection_method_for_that_wallet_will_be_overridden_by_onekey"})}),(0,G.jsx)(D.default,{})]})}),[n]);return(0,G.jsx)(D.default,{flex:1,p:4,children:(0,G.jsx)(Ql.SectionList,{sections:r,renderItem:o,renderSectionHeader:i,ListHeaderComponent:l})})};var Hm=function(e){var t=e.title,n=e.onToggle,r=e.divider,o=e.isChecked;return(0,G.jsxs)(D.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:r?"1 ":void 0,borderBottomColor:"divider",children:[(0,G.jsx)(xe.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},flex:"1",numberOfLines:1,mr:"3",children:t}),(0,G.jsx)(D.default,{children:(0,G.jsx)(Ki.default,{labelType:"false",isChecked:o,onToggle:n})})]})};const zm=function(){var e=(0,b.default)(),t=(0,B.useNavigation)(),n=(0,B.useAppSelector)((function(e){return e.status.authenticationType})),r=(0,B.useSettings)().validationSetting,o=void 0===r?{}:r,i=(0,Fo.default)().themeVariant;(0,a.useLayoutEffect)((function(){var n=e.formatMessage({id:"action__protection"});t.setOptions({title:n})}),[t,e,n]);var l=(0,a.useCallback)((function(e,t){E.default.dispatch((0,xl.setValidationState)({key:e,value:t}))}),[]);return(0,G.jsx)(D.default,{w:"full",h:"full",bg:"background-default",p:"4",maxW:768,mx:"auto",children:(0,G.jsxs)(D.default,{children:[(0,G.jsx)(Y.default.Caption,{mt:"2",color:"text-subdued",children:e.formatMessage({id:"content__password_required_even_unlocked"})}),(0,G.jsx)(D.default,{w:"full",mt:"6",children:(0,G.jsxs)(D.default,{mt:"2",borderRadius:"12",bg:"surface-default",borderWidth:"light"===i?1:void 0,borderColor:"border-subdued",children:[(0,G.jsx)(Hm,{title:e.formatMessage({id:"form__create_transactions"}),isChecked:o.Payment,divider:!0,onToggle:function(){return l(Sf.ValidationFields.Payment,!o.Payment)}}),(0,G.jsx)(Hm,{title:e.formatMessage({id:"form__create_delete_wallets"}),isChecked:o.Wallet,divider:!0,onToggle:function(){return l(Sf.ValidationFields.Wallet,!o.Wallet)}}),(0,G.jsx)(Hm,{title:e.formatMessage({id:"form__create_delete_accounts"}),isChecked:o.Account,onToggle:function(){return l(Sf.ValidationFields.Account,!o.Account)}}),(0,G.jsx)(_r.Hidden,{children:(0,G.jsx)(Hm,{title:e.formatMessage({id:"form__view_recovery_phrase_private_key"}),isChecked:o.Secret,onToggle:function(){return l(Sf.ValidationFields.Secret,!o.Secret)}})})]})})]})})};function Um(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Um(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Um(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $m=[5,8,10],Gm=function(e){var t=e.title,n=e.onChange,r=e.value,o=e.desc,a=e.divider;return(0,G.jsxs)(D.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",p:4,borderBottomWidth:a?"1 ":void 0,borderBottomColor:"divider",borderBottomRadius:a?void 0:"12px",children:[(0,G.jsxs)(D.default,{flex:"1",children:[(0,G.jsx)(xe.default,{typography:"Body1Strong",numberOfLines:1,children:t}),o&&(0,G.jsx)(xe.default,{color:"text-subdued",typography:"Body2",numberOfLines:2,children:o})]}),(0,G.jsx)(D.default,{ml:"3",children:(0,G.jsx)(Ki.default,{labelType:"false",isChecked:r,onToggle:function(){return null==n?void 0:n(!r)}})})]})},qm=function(e){var t=e.title,n=e.desc;return(0,G.jsxs)(D.default,{flexDirection:"row",p:"4",children:[(0,G.jsx)(xe.default,{flex:1,typography:"Body1Strong",children:t}),(0,G.jsx)(xe.default,{mr:"19px",children:n}),(0,G.jsx)(J.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})},Xm=function(e){var t=e.title,n=e.desc,r=e.onPress;return(0,G.jsx)(Z.default,{onPress:r,children:(0,G.jsxs)(D.default,{flexDirection:"row",p:"4",children:[(0,G.jsx)(xe.default,{flex:1,typography:"Body1Strong",children:t}),(0,G.jsx)(xe.default,{mr:"19px",children:n}),(0,G.jsx)(J.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})})},Ym=function(e){var t=e.title,n=e.value,r=e.onChange,o=e.options;return(0,G.jsx)(U.default,{title:t,isTriggerPlain:!0,footer:null,headerShown:!1,defaultValue:n,onChange:r,options:o,dropdownProps:{width:"64"},dropdownPosition:"right",renderTrigger:function(){return(0,G.jsx)(qm,{title:t,desc:`${n}%`})}})},Qm=function(e){var t,n=e.title,r=e.switchs,o=e.footer,i=e.extraText,l=(0,Fo.default)().themeVariant,s=r.length;return(0,G.jsxs)(G.Fragment,{children:[n&&(0,G.jsx)(xe.default,{mt:6,color:"text-subdued",children:n}),(0,G.jsxs)(D.default,{w:"full",mt:"2",borderRadius:"12",bg:"surface-default",borderWidth:"light"===l?1:void 0,borderColor:"border-subdued",children:[r.map((function(e,t){return(0,a.createElement)(Gm,Vm(Vm({},e),{},{key:e.title,divider:!!o||t!==s-1}))})),null!=r&&null!=(t=r[0])&&t.value&&o?o:null]}),i&&(0,G.jsx)(xe.default,{mt:2,color:"text-subdued",typography:"Caption",children:i})]})};const Km=function(){var e=(0,b.default)(),t=(0,B.useNavigation)(),n=(0,v.useIsFocused)(),r=(0,B.useAppSelector)((function(e){return e.status.authenticationType})),o=(0,ac.usePriceAlertlist)(),i=o.alerts,l=o.fetchPriceAlerts,s=(0,ac.useEnabledAccountDynamicAccounts)(),u=s.enabledAccounts,d=s.refresh,c=(0,Qr.useSettings)(),p=c.pushNotification,m=void 0===p?xl.defaultPushNotification:p,h=c.devMode,x=E.default.serviceNotification;(0,a.useLayoutEffect)((function(){var n=e.formatMessage({id:"form__notification"});t.setOptions({title:n})}),[t,e,r]);var g=(0,a.useCallback)((function(e){return function(t){var n;(0,E.default.dispatch)((0,xl.setPushNotificationConfig)(((n={})[e]=t,n))),x.syncPushNotificationConfig()}}),[x]);(0,a.useEffect)((function(){n&&(d(),l())}),[l,n,d]);var y=(0,a.useMemo)((function(){return null!=h&&h.enableZeroNotificationThreshold?[0].concat($m):$m}),[null==h?void 0:h.enableZeroNotificationThreshold]),j=(0,a.useMemo)((function(){return null!=m&&m.pushEnable?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(Qm,{title:e.formatMessage({id:"form__market_uppercase"}),switchs:[{title:e.formatMessage({id:"form__btc_and_eth_movement"}),desc:e.formatMessage({id:"form__btc_and_eth_movement_desc"}),value:m.btcAndEthPriceAlertEnable,onChange:g("btcAndEthPriceAlertEnable")},{title:e.formatMessage({id:"title__favorite"}),desc:e.formatMessage({id:"form__favorite_desc"}),value:m.favoriteTokensPriceAlertEnable,onChange:g("favoriteTokensPriceAlertEnable")}],footer:(0,G.jsx)(Ym,{title:e.formatMessage({id:"form__manage_threshold"}),value:m.threshold||y[0],onChange:g("threshold"),options:y.map((function(e){return{label:`${e}%`,value:e}}))})}),(0,G.jsx)(Qm,{title:e.formatMessage({id:"form__alert_uppercase"}),switchs:[{title:e.formatMessage({id:"form__price_alert"}),desc:e.formatMessage({id:"form__price_alert_desc"}),value:m.priceAlertEnable,onChange:g("priceAlertEnable")}],footer:(0,G.jsx)(Xm,{title:e.formatMessage({id:"form__manage"}),desc:void 0===i?(0,G.jsx)(Ht.default,{size:"sm"}):String(i.length),onPress:function(){return t.navigate(f.HomeRoutes.PushNotificationManagePriceAlert,{alerts:i||[]})}})}),(0,G.jsx)(Qm,{title:e.formatMessage({id:"form__account_uppercase"}),switchs:[{title:e.formatMessage({id:"form__account_dynamic_notification"}),desc:e.formatMessage({id:"form__account_dynamic_notification_desc"}),value:m.accountActivityPushEnable,onChange:g("accountActivityPushEnable")}],footer:(0,G.jsx)(Xm,{title:e.formatMessage({id:"form__manage"}),desc:void 0===u?(0,G.jsx)(Ht.default,{size:"sm"}):String(u.length),onPress:function(){return t.navigate(f.HomeRoutes.PushNotificationManageAccountDynamic)}})})]}):null}),[u,i,t,e,g,m,y]);return(0,G.jsxs)(de.ScrollView,{w:"full",h:"full",bg:"background-default",p:"4",maxW:768,mx:"auto",children:[(0,G.jsx)(Qm,{extraText:e.formatMessage({id:"content__receive_notifications_of_account_dynamics_and_asset_changes"}),switchs:[{title:e.formatMessage({id:"form__notification"}),value:m.pushEnable,onChange:g("pushEnable")}]}),j,(0,G.jsx)(D.default,{height:10})]})};var Zm=n(317568),Jm=n(506885),eh=n(485573);function th(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?th(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):th(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rh=function(e){var t,n,r=e.divider,o=e.account,i=e.onChange,l=e.checked,s=e.icon,u=(0,a.useState)(!1),d=(0,h.default)(u,2),c=d[0],f=d[1];return(0,G.jsxs)(D.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:r?"1 ":void 0,borderBottomColor:"divider",borderBottomRadius:r?void 0:"12px",children:[(0,G.jsxs)(D.default,{flex:"1",flexDirection:"row",alignItems:"center",children:[s,(0,G.jsx)(D.default,{mx:"3",flex:"1",children:(0,G.jsx)(Zm.default,{hiddenAvatar:!0,address:null!=(t=null!=(n=null==o?void 0:o.displayAddress)?n:null==o?void 0:o.address)?t:"",name:o.name,containerProps:{flex:1}})})]}),c?(0,G.jsx)(Ht.default,{}):(0,G.jsx)(Ki.default,{labelType:"false",isChecked:l,onToggle:function(){return e=!l,f(!0),void i(e).finally((function(){return setTimeout((function(){f(!1)}),200)}));var e}})]})},oh=function(e){var t=e.name,n=e.type,r=e.accounts,o=e.avatar,i=e.enabledAccounts,l=e.refreash,s=e.passphraseState,u=(0,b.default)(),d=(0,Fo.default)().themeVariant,c=E.default.serviceNotification,f=(0,a.useCallback)(function(){var e=(0,Pt.default)((function*(e,t){t?yield c.addAccountDynamic({accountId:e.id,address:e.address,name:e.name,passphrase:!!s}):yield c.removeAccountDynamic({address:e.address}),yield l()}));return function(t,n){return e.apply(this,arguments)}}(),[c,l,s]),p=r.length,m=(0,a.useMemo)((function(){return[Jm.WALLET_TYPE_IMPORTED,Jm.WALLET_TYPE_WATCHING,Jm.WALLET_TYPE_EXTERNAL].includes(n)?(0,G.jsx)(re.default,{size:"sm",avatarBgColor:"surface-neutral-default",walletImage:n,circular:!0}):(0,G.jsx)(D.default,{bg:(null==o?void 0:o.bgColor)||"#000",w:"8",h:"8",borderRadius:"50",justifyContent:"center",alignItems:"center",children:null==o?void 0:o.emoji})}),[n,o]),h=(0,a.useMemo)((function(){switch(n){case Jm.WALLET_TYPE_IMPORTED:return u.formatMessage({id:"wallet__imported_accounts"});case Jm.WALLET_TYPE_WATCHING:return u.formatMessage({id:"wallet__watched_accounts"});case Jm.WALLET_TYPE_EXTERNAL:return u.formatMessage({id:"content__external_account"})}return t}),[n,t,u]);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(Y.default.Subheading,{children:h}),(0,G.jsx)(D.default,{w:"full",mt:"2",mb:6,borderRadius:"12",bg:"surface-default",borderWidth:"light"===d?1:void 0,borderColor:"border-subdued",children:r.map((function(e,t){return(0,G.jsx)(rh,{icon:m,account:e,checked:!!i.find((function(t){return t.address===e.address})),onChange:function(t){return f(e,t)},divider:t!==p-1},e.id)}))})]})};const ah=function(){var e=(0,b.default)(),t=(0,ac.useEnabledAccountDynamicAccounts)(),n=t.wallets,r=t.enabledAccounts,o=t.refresh,i=t.loading,l=(0,B.useNavigation)(),s=(0,a.useMemo)((function(){return n.map((function(e){return nh(nh({},e),{},{accounts:e.accounts.filter((function(e){return(0,tc.isCoinTypeCompatibleWithImpl)(e.coinType,Et.IMPL_EVM)}))})})).filter((function(e){return!!e.accounts.length}))}),[n]),u=(0,ec.useAsync)((0,Pt.default)((function*(){return E.default.serviceNotification.filterContractAddresses(s.map((function(e){return e.accounts.map((function(e){return e.address}))})).flat())})),[s]),d=u.result,c=u.loading;return(0,a.useLayoutEffect)((function(){var t=e.formatMessage({id:"title__manage_account_dynamic"});l.setOptions({title:t})}),[l,e]),s.length?(0,G.jsx)(de.ScrollView,{w:"full",h:"full",bg:"background-default",p:"4",maxW:768,mx:"auto",children:s.map((function(e){return(0,G.jsx)(oh,nh(nh({},e),{},{accounts:e.accounts.filter((function(e){return null==d?void 0:d.includes(e.address)})),refreash:o,enabledAccounts:r}),e.id)}))}):(0,G.jsx)(eh.ListEmptyComponent,{isLoading:i||c,desc:e.formatMessage({id:"content__there_are_no_accounts_available_for_subscriptions"})})};var ih=n(662856),lh=function(e){var t=e.alerts,n=e.onRemove,r=t.length,o=(0,Fo.default)().themeVariant,i=(0,a.useCallback)((function(e){null==n||n(t.find((function(t){return t.price===e})))}),[n,t]);return(0,G.jsx)(D.default,{w:"full",mt:"2",mb:6,borderRadius:"12",bg:"surface-default",borderWidth:"light"===o?1:void 0,borderColor:"border-subdued",children:t.map((function(e,t){return(0,G.jsx)(ih.default,{alert:e,divider:t!==r-1,onRemove:i},`${e.price}-${e.currency}`)}))})};const sh=function(){var e=(0,b.default)(),t=(0,B.useNavigation)(),n=(0,ac.usePriceAlertlist)(),r=n.alerts,o=n.loading,i=n.fetchPriceAlerts;return(0,a.useLayoutEffect)((function(){var n=e.formatMessage({id:"title__manage_price_alert"});t.setOptions({title:n})}),[t,e]),r.length?(0,G.jsx)(de.ScrollView,{w:"full",h:"full",bg:"background-default",p:"4",maxW:768,mx:"auto",children:(0,G.jsx)(lh,{alerts:r,onRemove:i})}):(0,G.jsx)(eh.ListEmptyComponent,{isLoading:o,symbol:"token"})};function uh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uh(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ch=f.TabRoutes.Me;const fh=dh(dh({},ye[ch]),{},{component:rt(ut(jm,{rootTabName:ch}),ch),children:[{name:f.HomeRoutes.ScreenOnekeyLiteDetail,component:gp},{name:f.HomeRoutes.Protected,component:zm},{name:f.HomeRoutes.WalletSwitch,component:Fm},{name:f.HomeRoutes.VolumeHaptic,component:km},{name:f.HomeRoutes.CloudBackup,component:Am},{name:f.HomeRoutes.CloudBackupPreviousBackups,component:Rm.default},{name:f.HomeRoutes.CloudBackupDetails,component:Dm.default},{name:f.HomeRoutes.PushNotification,component:Km},{name:f.HomeRoutes.PushNotificationManagePriceAlert,component:sh},{name:f.HomeRoutes.PushNotificationManageAccountDynamic,component:ah},{name:f.HomeRoutes.ClearCache,component:pp},{name:f.HomeRoutes.AdvancedSettings,component:dp},{name:f.HomeRoutes.HardwareBridgeSettings,component:yp}]});var ph=n(48369);function mh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mh(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xh=function(e){var t=e.status,n=(0,b.default)();return(0,G.jsxs)(D.default,{children:["pending"===t?(0,G.jsx)(Hn.default,{type:"info",size:"sm",color:"#599BFF",title:n.formatMessage({id:"transaction__pending"})}):null,"failed"===t?(0,G.jsx)(Hn.default,{type:"critical",size:"sm",color:"text-critical",title:n.formatMessage({id:"transaction__failed"})}):null,"canceled"===t?(0,G.jsx)(Hn.default,{type:"critical",size:"sm",color:"text-critical",title:n.formatMessage({id:"transaction__failed"})}):null,"sucesss"===t?(0,G.jsx)(Hn.default,{type:"success",size:"sm",color:"text-success",title:n.formatMessage({id:"transaction__success"})}):null]})},gh=function(e){var t,n,r,o,i,l,s,u,d,c,p=e.tx,m=(0,v.useNavigation)(),h=null==(t=p.tokens)?void 0:t.from.networkId,x=null==(n=p.tokens)?void 0:n.to.networkId,g=(0,B.useNetworkSimple)(h),b=(0,B.useNetworkSimple)(x),y=(0,a.useCallback)((function(){m.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Swap,params:{screen:Fa.SwapRoutes.Transaction,params:{txid:p.hash,goBack:function(){return m.goBack()}}}})}),[m,p.hash]),j=(0,a.useCallback)((function(e){var t=e.token,n=e.amount;return t&&n?`${(0,Ha.formatAmount)(n)} ${t.symbol.toUpperCase()}`:"-"}),[]);return(0,G.jsx)(D.default,{children:(0,G.jsxs)(Z.default,{py:"4",onPress:y,flexDirection:"row",alignItems:"center",children:[(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",flexBasis:"18%",children:[(0,G.jsx)(D.default,{mr:"4",children:(0,G.jsx)(Rt.default,{token:{logoURI:null==(r=p.tokens)?void 0:r.to.token.logoURI},size:"8"})}),(0,G.jsxs)(D.default,{flex:"1",children:[(0,G.jsx)(Y.default.Body1Strong,{children:j({token:null==(o=p.tokens)?void 0:o.to.token,amount:null==(i=p.tokens)?void 0:i.to.amount})}),(0,G.jsx)(Y.default.Body2,{color:"text-subdued",children:null==b?void 0:b.shortName})]})]}),(0,G.jsx)(D.default,{flexDirection:"row",alignItems:"center",flexBasis:"18%",children:(0,G.jsx)(D.default,{flexDirection:"row",alignItems:"center",flex:"1",children:(0,G.jsxs)(D.default,{flex:"1",children:[(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",children:[p.actualReceived?null:(0,G.jsx)(Y.default.Caption,{children:"~"}),(0,G.jsx)(D.default,{flex:"1",children:(0,G.jsx)(Y.default.Body1Strong,{isTruncated:!0,children:j({token:null==(l=p.tokens)?void 0:l.from.token,amount:null==(s=p.tokens)?void 0:s.from.amount})})})]}),(0,G.jsx)(Y.default.Body2,{color:"text-subdued",children:null==g?void 0:g.shortName})]})})}),(0,G.jsx)(D.default,{flexBasis:"18%",children:(0,G.jsx)(Cl.default,{tokenA:null==(u=p.tokens)?void 0:u.from.token,tokenB:null==(d=p.tokens)?void 0:d.to.token,rate:null==(c=p.tokens)?void 0:c.rate,hideIcon:!0})}),(0,G.jsx)(D.default,{flexBasis:"18%",alignItems:"center",justifyContent:"flex-start",flexDirection:"row",px:"1",children:(0,G.jsx)(Y.default.Body2,{color:"text-subdued",ml:"3",isTruncated:!0,children:(0,su.default)(p.addedTime,"yyyy/MM/dd HH:mm:ss")})}),(0,G.jsx)(D.default,{flexBasis:"18%",alignItems:"center",justifyContent:"flex-start",flexDirection:"row",px:"1",children:(0,G.jsx)(Il.default,{providers:p.providers,typography:"Body2Strong",color:"text-default"})}),(0,G.jsx)(D.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",flexBasis:"10%",children:(0,G.jsx)(xh,{status:p.status})})]})})},bh=function(e){var t,n,r,o,i,l,s,u,d=e.tx,c=(0,v.useNavigation)(),p=null==(t=d.tokens)?void 0:t.from.networkId,m=null==(n=d.tokens)?void 0:n.to.networkId,h=(0,B.useNetworkSimple)(p),x=(0,B.useNetworkSimple)(m),g=(0,a.useCallback)((function(){c.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Swap,params:{screen:Fa.SwapRoutes.Transaction,params:{txid:d.hash,goBack:function(){return c.goBack()}}}})}),[c,d.hash]),b=(0,a.useCallback)((function(e){var t=e.token,n=e.amount;return t&&n?`${(0,Ha.formatAmount)(n)} ${t.symbol.toUpperCase()}`:"-"}),[]);return(0,G.jsx)(D.default,{px:"4",children:(0,G.jsxs)(Z.default,{p:"4",onPress:g,children:[(0,G.jsxs)(D.default,{flexDirection:"row",width:"full",children:[(0,G.jsx)(D.default,{mr:"4",children:(0,G.jsx)(Rt.default,{token:{logoURI:null==(r=d.tokens)?void 0:r.from.token.logoURI},size:"8"})}),(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",flex:"1",flexWrap:"wrap",children:[(0,G.jsx)(Y.default.Body1Strong,{mr:"2",children:b({token:null==(o=d.tokens)?void 0:o.from.token,amount:null==(i=d.tokens)?void 0:i.from.amount})}),(0,G.jsxs)(Y.default.Body2,{color:"text-subdued",children:["(",null==h?void 0:h.shortName,")"]})]})]}),(0,G.jsx)(T.default,{h:"4",w:"8",my:"1",children:(0,G.jsx)(J.default,{name:"ArrowDownMini",size:16})}),(0,G.jsxs)(D.default,{flexDirection:"row",width:"full",children:[(0,G.jsx)(D.default,{mr:"4",children:(0,G.jsx)(Rt.default,{token:{logoURI:null==(l=d.tokens)?void 0:l.to.token.logoURI},size:"8"})}),(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",flex:"1",flexWrap:"wrap",children:[d.actualReceived?null:(0,G.jsx)(Y.default.Caption,{children:"~"}),(0,G.jsx)(Y.default.Body1Strong,{mr:"2",children:b({token:null==(s=d.tokens)?void 0:s.to.token,amount:null==(u=d.tokens)?void 0:u.to.amount})}),(0,G.jsxs)(Y.default.Body2,{color:"text-subdued",children:["(",null==x?void 0:x.shortName,")"]})]})]}),(0,G.jsxs)(D.default,{flexDirection:"row",width:"full",justifyContent:"space-between",mt:"3",children:[(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",pl:"2",children:[(0,G.jsx)(Il.default,{providers:d.providers,typography:"Body2",color:"text-subdued",fontWeight:500}),(0,G.jsx)(Y.default.Body2,{color:"text-subdued",ml:"3",fontWeight:500,children:(0,su.default)(d.addedTime,"MM/dd HH:mm")})]}),(0,G.jsx)(xh,{status:d.status})]})]})})},vh=function(e){return(0,p.default)()?(0,G.jsx)(bh,hh({},e)):(0,G.jsx)(gh,hh({},e))},yh=function(e){var t=e.txs,n=(0,b.default)();return null!=t&&t.length?(0,G.jsx)(D.default,{children:(0,G.jsx)(Ti.default,{title:n.formatMessage({id:"content__str_transactions_in_progress"},{content__str_transactions_in_progress:null==t?void 0:t.length}),dismiss:!1,alertType:"info"})}):null},jh=function(e){var t=e.txs,n=(0,b.default)(),r=(0,Ci.useSummaryTx)(),o=(0,a.useCallback)((function(){t.forEach((function(e){E.default.dispatch((0,ai.archiveTransaction)({accountId:e.accountId,networkId:e.networkId,txs:[e.hash]}))}))}),[t]);return 0===t.length?null:1===t.length?(0,G.jsx)(D.default,{children:(0,G.jsx)(Ti.default,{title:r(t[0]),alertType:"error",onDismiss:o})}):(0,G.jsx)(D.default,{children:(0,G.jsx)(Ti.default,{title:n.formatMessage({id:"content__str_transactions_failed"},{0:t.length}),alertType:"error",onDismiss:o})})};const wh=function(){var e=(0,p.default)(),t=(0,ph.useWalletsSwapTransactions)(),n=(0,a.useMemo)((function(){return t.filter((function(e){return"pending"===e.status}))}),[t]),r=(0,a.useMemo)((function(){return t.filter((function(e){return"failed"===e.status&&!e.archive}))}),[t]);return 0===n.length&&0===r.length?null:(0,G.jsx)(T.default,{children:(0,G.jsxs)(ce.default,{px:e?"4":void 0,mb:e?void 0:"4",width:"full",space:4,children:[n.length?(0,G.jsx)(yh,{txs:n}):null,r.length?(0,G.jsx)(jh,{txs:r}):null]})})};var kh=function(){return(0,G.jsx)(D.default,{mx:"4",children:(0,G.jsx)(kn.default,{})})},_h=function(){return(0,G.jsx)(D.default,{h:"4"})},Oh=function(){var e=(0,b.default)();return(0,G.jsx)(D.default,{py:"8",children:(0,G.jsx)(ct.default,{title:e.formatMessage({id:"transaction__history_empty_title"}),subTitle:e.formatMessage({id:"transaction__history_empty_desc"}),emoji:"\ud83d\udd50"})})},Ih=function(){var e=(0,p.default)(),t=(0,b.default)();return e?null:(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",children:[(0,G.jsx)(D.default,{flexBasis:"18%",children:(0,G.jsx)(Y.default.Subheading,{color:"text-subdued",children:t.formatMessage({id:"action__receive"})})}),(0,G.jsx)(D.default,{flexBasis:"18%",children:(0,G.jsx)(Y.default.Subheading,{color:"text-subdued",children:t.formatMessage({id:"form__pay"})})}),(0,G.jsx)(D.default,{flexBasis:"18%",children:(0,G.jsx)(Y.default.Subheading,{color:"text-subdued",children:t.formatMessage({id:"Rate"})})}),(0,G.jsx)(D.default,{flexBasis:"18%",children:(0,G.jsx)(Y.default.Subheading,{color:"text-subdued",children:t.formatMessage({id:"content__created"})})}),(0,G.jsx)(D.default,{flexBasis:"18%",children:(0,G.jsx)(Y.default.Subheading,{color:"text-subdued",children:t.formatMessage({id:"form__provider_uppercase"})})}),(0,G.jsx)(D.default,{flexBasis:"10%",children:(0,G.jsx)(Y.default.Subheading,{color:"text-subdued",children:t.formatMessage({id:"form__status"})})})]})},Sh=function(){return(0,G.jsxs)(D.default,{children:[(0,G.jsx)(wh,{}),(0,G.jsx)(Ih,{})]})},Th=function(){var e=(0,b.default)(),t=(0,v.useNavigation)(),n=(0,ph.useWalletsSwapTransactions)(),r=(0,a.useMemo)((function(){return n}),[n]);(0,a.useEffect)((function(){t.setOptions({title:e.formatMessage({id:"transaction__history"})})}),[t,e]);var o=(0,a.useCallback)((function(e){var t=e.item;return(0,G.jsx)(vh,{tx:t})}),[]);return(0,G.jsx)(qr.default,{data:r,renderItem:o,ItemSeparatorComponent:kh,ListFooterComponent:_h,ListHeaderComponent:Sh,ListEmptyComponent:Oh})},Ch=function(){var e=(0,b.default)(),t=(0,a.useState)(!1),n=(0,h.default)(t,2),r=n[0],o=n[1],i=(0,a.useCallback)((function(){o(!0)}),[]),l=(0,a.useCallback)((function(){E.default.serviceSwap.clearTransactions(),o(!1)}),[]);return(0,G.jsxs)(D.default,{px:"4",children:[(0,G.jsx)(It.default,{type:"plain",name:"TrashOutline",onPress:i}),(0,G.jsx)(mp.default,{visible:r,contentProps:{iconName:"TrashMini",iconType:"danger",title:e.formatMessage({id:"action__clear_swap_history"}),content:e.formatMessage({id:"action__clear_swap_history_desc"})},footerButtonProps:{primaryActionTranslationId:"action__clear",primaryActionProps:{type:"destructive"},onPrimaryActionPress:l,onSecondaryActionPress:function(){o(!1)}}})]})},Mh=function(e){var t=e.children,n=(0,v.useNavigation)(),r=(0,b.default)(),o=(0,p.default)(),i=(0,a.useCallback)((function(){n.goBack()}),[n]);return(0,a.useLayoutEffect)((function(){o?n.setOptions({headerRight:function(){return(0,G.jsx)(Ch,{})}}):n.setOptions({headerShown:!1})}),[n,o]),o?(0,G.jsx)(D.default,{bg:"background-default",w:"full",h:"full",style:{maxWidth:768,marginHorizontal:"auto"},children:t}):(0,G.jsxs)(D.default,{bg:"background-default",w:"full",h:"full",px:"8",children:[(0,G.jsx)(D.default,{w:"full",flexDirection:"row",alignItems:"center",py:"5",children:(0,G.jsx)(It.default,{onPress:i,type:"plain",name:"ArrowLeftOutline"})}),(0,G.jsxs)(D.default,{display:"flex",justifyContent:"space-between",flexDirection:"row",mb:"4",children:[(0,G.jsx)(Y.default.DisplayLarge,{px:"4",children:r.formatMessage({id:"title__swap_history"})}),(0,G.jsx)(Ch,{})]}),t]})};const Ph=function(){return(0,G.jsx)(Mh,{children:(0,G.jsx)(Th,{})})};var Ah=n(459915);const Dh=function(e){var t=e.inputToken,n=e.outputToken;return(0,G.jsxs)(D.default,{flexDirection:"row",children:[(0,G.jsxs)(D.default,{flexDirection:"row",children:[(0,G.jsx)(T.default,{w:"9",bg:"background-default",borderRadius:"full",overflow:"hidden",children:(0,G.jsx)(Rt.default,{token:t,size:8})}),(0,G.jsx)(T.default,{w:"9",ml:"-4",bg:"background-default",borderRadius:"full",overflow:"hidden",children:(0,G.jsx)(Rt.default,{token:n,size:8})})]}),(0,G.jsxs)(Y.default.Heading,{ml:"2",color:"text-default",fontSize:18,children:[null==t?void 0:t.symbol.toUpperCase()," / ",null==n?void 0:n.symbol.toUpperCase()]})]})};function Rh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Eh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rh(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Bh=function(e){return(0,G.jsxs)(ee.default,Eh(Eh({viewBox:"0 0 358 160",fill:"currentColor"},e),{},{children:[(0,G.jsx)(ee.Path,{d:"M340.11 16.0064C347.852 16.0064 350.258 0 358 0V160H0V89.463C7.74194 89.463 15.484 95.038 23.2259 95.038C30.9679 95.038 38.7098 89.845 46.4518 88.9552C54.1937 88.0654 61.9358 88.5103 69.6778 87.6205C77.4197 86.7306 85.1615 74.6404 92.9034 71.9121C100.645 69.1838 108.387 100.56 116.129 97.8317C123.871 95.1034 131.613 47.4332 139.355 47.4332C147.097 47.4332 155.506 58.5234 163.248 58.5234C170.99 58.5234 178.065 43.7073 185.807 42.0845C193.549 40.4617 203.425 61.243 211.167 60.5171C218.909 59.7912 235.973 33.7274 243.715 33.7274C250.6 34.5138 250.6 44.5178 273.512 49.0196C281.254 49.0196 285.916 22.966 293.658 19.5183C301.4 16.0706 311.841 31.431 319.583 27.511C327.325 23.591 332.368 16.0064 340.11 16.0064Z",fill:"url(#paint0_linear_5149_43265)"}),(0,G.jsx)(ee.Defs,{children:(0,G.jsxs)(ee.LinearGradient,{id:"paint0_linear_5149_43265",x1:"179",y1:"0",x2:"179",y2:"160",gradientUnits:"userSpaceOnUse",children:[(0,G.jsx)(ee.Stop,{stopColor:"#3D3D4D"}),(0,G.jsx)(ee.Stop,{offset:"1",stopColor:"#1D1D2A",stopOpacity:"0"})]})})]}))};var Nh=function(e){var t=e.data,n=e.isFetching,r=e.header,o=e.footer,a=e.onHover,i=e.height,l=e.mt,s=t?(0,G.jsx)(Xu,{isFetching:n,height:i,data:t,onHover:a}):(0,G.jsx)(Bh,{width:"100%",height:"100%",preserveAspectRatio:"none"}),u=t&&0===t.length?(0,G.jsx)(Ht.default,{}):s;return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(D.default,{children:r}),(0,G.jsx)(D.default,{justifyContent:"center",alignItems:"center",h:`${i}px`,mt:`${l}px`,children:u}),(0,G.jsx)(D.default,{children:o})]})};Nh.displayName="ChartLayout";const Lh=Nh;var Wh=n(329503),Fh=function(){return String(Math.ceil(Date.now()/36e5))};var Hh=function(e){var t=e.fromToken,n=e.toToken,r=(0,a.useState)(0),o=(0,h.default)(r,2),i=o[0],l=o[1],s=(0,a.useState)(0),u=(0,h.default)(s,2),d=u[0],c=u[1],f=function(){var e=(0,a.useState)(Fh()),t=(0,h.default)(e,2),n=t[0],r=t[1],o=(0,a.useCallback)((function(){return r(Fh())}),[]);return(0,B.useInterval)(o,18e5),n}(),p=(0,a.useRef)({}),m=(0,a.useCallback)(function(){var e=(0,Pt.default)((function*(e){var t,n,r,o,a=e.contractAdress,i=e.newTimeValue,s=e.networkId,u=Ju.indexOf(i);if(!(null==(t=p.current)||null==(n=t[s])||null==(r=n[a])||null==(o=r[f])?void 0:o[u])){var d=[];try{var c,m;if(l((function(e){return e+1})),d=yield Vu({contract:a,networkId:s,days:ed[u],points:"100",vs_currency:"usd"}),yield(0,Wh.wait)(50),null!=(c=d)&&c.length)null!=(m=p.current)&&m[s]||(p.current[s]={}),p.current[s][a]||(p.current[s][a]={}),p.current[s][a][f]||(p.current[s][a][f]=[]),p.current[s][a][f][u]=d}finally{l((function(e){return e-1}))}}}));return function(t){return e.apply(this,arguments)}}(),[p,f]);(0,a.useEffect)((function(){m({newTimeValue:Ju[d],networkId:n.networkId,contractAdress:n.tokenIdOnNetwork})}),[n,m,d]),(0,a.useEffect)((function(){m({newTimeValue:Ju[d],networkId:t.networkId,contractAdress:t.tokenIdOnNetwork})}),[t,m,d]);var x=(0,a.useCallback)(function(){var e=(0,Pt.default)((function*(e){var r=Ju.indexOf(e),o=m({newTimeValue:e,networkId:t.networkId,contractAdress:t.tokenIdOnNetwork}),a=m({newTimeValue:e,networkId:n.networkId,contractAdress:n.tokenIdOnNetwork});yield Promise.all([o,a]),c(r)}));return function(t){return e.apply(this,arguments)}}(),[t,n,m]),g=(0,a.useMemo)((function(){var e,r,o,a,i,l,s=null==(e=p.current[t.networkId])||null==(r=e[t.tokenIdOnNetwork])||null==(o=r[f])?void 0:o[d],u=null==(a=p.current[n.networkId])||null==(i=a[n.tokenIdOnNetwork])||null==(l=i[f])?void 0:l[d];if(s&&u){var c=Math.min(s.length,u.length);return{finalData:s.slice(0,c-1).map((function(e,t){return[e[0],e[1]/u[t][1]]})),fromData:s.slice(0,c-1),toData:u.slice(0,c-1)}}return{finalData:[],fromData:[],toData:[]}}),[n,t,d,i,f]);return(0,a.useMemo)((function(){return{data:g,isFetching:i>0,selectedTimeIndex:d,refreshDataOnTimeChange:x}}),[g,i,d,x])},zh=function(e){var t,n=e.price,r=e.basePrice,o=e.time,a=(0,b.default)();if(null!==n){var i=(0,Tu.calculateGains)({basePrice:r,price:n}),l=i.gainText,s=i.percentageGain,u=i.gainTextColor;t=(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(Y.default.Body2Strong,{color:u,children:[l,"(",s,")"]}),(0,G.jsx)(Y.default.Body2Strong,{color:"text-subdued",ml:"8px",children:o})]})}else t=(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(J.default,{name:"ExclamationTriangleMini",size:16}),(0,G.jsx)(Y.default.Body2Strong,{color:"text-subdued",ml:"8px",children:a.formatMessage({id:"content__data_for_this_token_is_not_included_yet"})})]});return(0,G.jsx)(D.default,{flexDirection:"column",children:(0,G.jsx)(D.default,{flexDirection:"row",alignItems:"center",children:t})})};zh.displayName="PriceDisplayInfo";const Uh=zh;var Vh=function(e){var t=e.currentPrice,n=e.basePrice,r=e.time,o=e.enabled,a=e.selectedIndex,i=e.onTimeChange;return(0,G.jsxs)(D.default,{children:[(0,G.jsxs)(D.default,{flexDirection:"row",justifyContent:"space-between",children:[(0,G.jsx)(Y.default.DisplayXLarge,{my:"1",children:t?(0,fu.formatDecimalZero)(t):""}),(0,G.jsx)(D.default,{w:"280px",children:(0,G.jsx)(rd,{enabled:o,selectedIndex:a,onTimeChange:i})})]}),(0,G.jsx)(D.default,{children:(0,G.jsx)(Uh,{price:t,time:r,basePrice:n})})]})},$h=function(e){var t,n=e.fromToken,r=e.toToken,o=Hh({fromToken:n,toToken:r}),i=o.data,l=o.refreshDataOnTimeChange,s=o.isFetching,u=o.selectedTimeIndex,d=(0,Kr.default)().formatDate,c=(0,a.useState)(),f=(0,h.default)(c,2),p=f[0],m=f[1],x=(0,a.useState)(d(new Date)),g=(0,h.default)(x,2),b=g[0],v=g[1],y=i.finalData,j=null!=y&&y.length?y[0][1]:0,w=null!=y&&y.length?y[y.length-1][1]:0;t=i?"undefined"===p||void 0===p?w:"string"===typeof p?+p:p:null;var k=(0,a.useCallback)((function(e){var t;t=e.time instanceof Date?d(e.time):"number"===typeof e.time?d(new Date(e.time)):"string"===typeof e.time?d(new Date(+e.time)):d(new Date),v(t),m(e.price)}),[d]);return(0,G.jsx)(Lh,{height:350,mt:30,header:(0,G.jsx)(Vh,{currentPrice:t,basePrice:j,time:b,selectedIndex:u,onTimeChange:l,enabled:!s&&!!i}),data:y,onHover:k,isFetching:s})};$h.displayName="SwapChart";const Gh=$h;var qh=n(779846),Xh=n(690549),Yh=n(363250),Qh=n(512607),Kh=function(){var e=(0,b.default)(),t=(0,a.useRef)(!1),n=(0,B.useNavigation)(),r=(0,Qh.useLimitOrderParams)(),o=(0,a.useContext)(li),i=(0,Qr.useAppSelector)((function(e){return e.limitOrder.instantRate})),l=(0,si.useSwapSend)(),s=(0,si.useSwapSignMessage)(),u=(0,a.useCallback)((0,Pt.default)((function*(){if(r&&i){var t=(0,Ra.getWalletIdFromAccountId)(r.activeAccount.id),a=yield E.default.engine.getWallet(t);null==o||null==o.setProgressStatus||o.setProgressStatus({title:e.formatMessage({id:"action__building_transaction_data_str"},{0:""})});var u=yield E.default.serviceLimitOrder.buildLimitOrder({params:r,instantRate:i}),d=Math.floor(Date.now()/1e3);if(u){var c=[],p=function(){var t=(0,Pt.default)((function*(){var t=yield E.default.serviceLimitOrder.getEIP712TypedData({domain:{networkId:r.tokenIn.networkId},message:u}),a=r.activeAccount.id,l=r.tokenIn.networkId,c=r.tokenIn,p=r.tokenOut;null==o||null==o.setProgressStatus||o.setProgressStatus({title:e.formatMessage({id:"action__submitting_order_str"},{0:""})}),yield s({accountId:a,networkId:l,unsignedMessage:{type:4,message:JSON.stringify(t)},onSuccess:function(){var e=(0,Pt.default)((function*(e){var o=qh.utils._TypedDataEncoder.hash(t.domain,{LimitOrder:t.types.LimitOrder},t.message);yield E.default.serviceLimitOrder.submitLimitOrder({order:u,networkId:r.tokenIn.networkId,signature:e}),E.default.dispatch((0,ai.addLimitOrderTransaction)({networkId:c.networkId,accountId:a,limitOrder:{networkId:c.networkId,accountId:a,orderHash:o,tokenIn:c,tokenInValue:u.makerAmount,tokenOut:p,tokenOutValue:u.takerAmount,remainingFillable:u.takerAmount,rate:i,createdAt:d,expiredIn:Number(u.expiry)}})),Ea.appUIEventBus.emit(Ea.AppUIEventBusNames.LimitOrderCompleted),E.default.serviceLimitOrder.resetState(),setTimeout((function(){n.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Swap,params:{screen:Fa.SwapRoutes.TransactionSubmitted,params:{orderHash:o}}})}),650)}));return function(t){return e.apply(this,arguments)}}(),onFail:function(){Ea.appUIEventBus.emit(Ea.AppUIEventBusNames.LimitOrderError),null==o.closeProgressStatus||o.closeProgressStatus()}})}));return function(){return t.apply(this,arguments)}}();c.unshift(p);var m,h,x=!1,g=yield E.default.engine.getTokenAllowance({networkId:r.tokenIn.networkId,accountId:r.activeAccount.id,tokenIdOnNetwork:r.tokenIn.tokenIdOnNetwork,spender:Yh.ZeroExchangeAddress});g&&(x=new(Dt())((0,Ha.getTokenAmountString)(r.tokenIn,g)).lt(u.makerAmount));var b=yield E.default.serviceSwap.needToResetApproval(r.tokenIn);if(x&&b&&Number(g||"0")>0&&(h=yield E.default.engine.buildEncodedTxFromApprove({spender:Yh.ZeroExchangeAddress,networkId:r.tokenIn.networkId,accountId:r.activeAccount.id,token:r.tokenIn.tokenIdOnNetwork,amount:"0"})),x&&(m=yield E.default.engine.buildEncodedTxFromApprove({spender:Yh.ZeroExchangeAddress,networkId:r.tokenIn.networkId,accountId:r.activeAccount.id,token:r.tokenIn.tokenIdOnNetwork,amount:(0,Ha.getTokenAmountValue)(r.tokenIn,u.makerAmount).toFixed()}),h&&h.nonce&&(m.nonce=Number(h.nonce)+1)),m){var v=function(){var t=(0,Pt.default)((function*(t){null==o||null==o.setProgressStatus||o.setProgressStatus({title:e.formatMessage({id:"action__authorizing_str"},{0:""})}),yield l({accountId:r.activeAccount.id,networkId:r.tokenIn.networkId,encodedTx:m,gasEstimateFallback:Boolean(h),onSuccess:function(){var e=(0,Pt.default)((function*(){"hw"===a.type&&n.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Swap,params:{screen:Fa.SwapRoutes.HardwareContinue}}),yield null==t?void 0:t()}));return function(){return e.apply(this,arguments)}}()})}));return function(e){return t.apply(this,arguments)}}();c.unshift(v)}if(h){var y=function(){var t=(0,Pt.default)((function*(t){null==o||null==o.setProgressStatus||o.setProgressStatus({title:e.formatMessage({id:"action__resetting_authorizing_str"},{0:""})}),yield l({accountId:r.activeAccount.id,networkId:r.tokenIn.networkId,encodedTx:h,onSuccess:function(){var e=(0,Pt.default)((function*(){yield null==t?void 0:t()}));return function(){return e.apply(this,arguments)}}()})}));return function(e){return t.apply(this,arguments)}}();c.unshift(y)}h?(0,pr.showOverlay)((function(e){return(0,G.jsx)(Xh.SwapTransactionsCancelApprovalBottomSheetModal,{close:e,onSubmit:(0,Pt.default)((function*(){try{null==o||null==o.openProgressStatus||o.openProgressStatus(),yield(0,Ha.combinedTasks)(c)}finally{null==o||null==o.closeProgressStatus||o.closeProgressStatus()}}))})})):yield(0,Ha.combinedTasks)(c)}else dt.default.show({title:e.formatMessage({id:"msg__unknown_error"})},{type:"error"})}else dt.default.show({title:e.formatMessage({id:"msg__unknown_error"})},{type:"error"})})),[r,i,e,s,l,n,o]),d=(0,a.useCallback)((0,Pt.default)((function*(){if(!t.current){t.current=!0;try{null==o||null==o.openProgressStatus||o.openProgressStatus(),yield u()}finally{t.current=!1,null==o||null==o.closeProgressStatus||o.closeProgressStatus()}}})),[u,o]);return o.progressStatus?(0,G.jsx)(pi,{}):(0,G.jsx)(K.default,{size:"xl",type:"primary",onPress:d,children:e.formatMessage({id:"action__place_limit_order"})},"limit_order")},Zh=function(){var e=(0,b.default)(),t=(0,Qr.useAppSelector)((function(e){return e.limitOrder.loading})),n=(0,Qh.useLimitOrderOutput)(),r=(0,Qh.useCheckLimitOrderInputBalance)(),o=(0,Ha.lte)(n,0);return t||o?(0,G.jsx)(K.default,{size:"xl",type:"primary",isDisabled:o,isLoading:t,children:e.formatMessage({id:"action__place_limit_order"})},"limit_order"):r&&r.insufficient?(0,G.jsx)(K.default,{size:"xl",type:"primary",isDisabled:!0,children:e.formatMessage({id:"form__amount_invalid"},{0:r.token.symbol})},"insufficient_balance_error"):(0,G.jsx)(Kh,{})},Jh=function(){var e=(0,b.default)();return(0,Qr.useAppSelector)((function(e){return e.swapTransactions.limitOrderMaintain}))?(0,G.jsx)(K.default,{size:"xl",type:"primary",isDisabled:!0,children:e.formatMessage({id:"action__under_maintaince"})},"limitOrderMaintain"):(0,G.jsx)(Zh,{})},ex=function(){return(0,G.jsx)(di,{children:(0,G.jsx)(Jh,{})})};function tx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tx(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const rx=function(e){var t=e.inputValue,n=e.onPress,r=e.onChange,o=e.containerProps,a=e.isDisabled,i=(0,b.default)(),l=(0,B.useAppSelector)((function(e){return e.limitOrder.tokenOut})),s=(0,Zi.useTokenPrice)(l);return(0,G.jsx)(D.default,nx(nx({},o),{},{position:"relative",children:(0,G.jsx)(D.default,{position:"relative",children:(0,G.jsxs)(D.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",mt:"1",children:[(0,G.jsx)(Z.default,{onPress:function(){a||null==n||n()},flexDirection:"row",alignItems:"center",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},borderRadius:12,p:"2",children:l?(0,G.jsx)(Ji,{token:l}):(0,G.jsx)(D.default,{children:(0,G.jsx)(Y.default.DisplayMedium,{fontWeight:600,children:i.formatMessage({id:"title__select_a_token"})})})}),(0,G.jsx)(D.default,{flex:"1",flexDirection:"row",h:"full",justifyContent:"flex-end",position:"relative",children:(0,G.jsx)(D.default,{position:"absolute",w:"full",top:"0",right:"0",children:(0,G.jsxs)(D.default,{w:"full",position:"relative",children:[(0,G.jsx)(D.default,{position:"absolute",bottom:"7",right:2,children:(0,G.jsx)(D.default,{pointerEvents:"none",children:(0,G.jsx)(Y.default.Caption,{color:"text-subdued",numberOfLines:2,children:(0,G.jsx)(ca.FormatCurrency,{numbers:[null!=s?s:0,null!=t?t:0],render:function(e){return(0,G.jsx)(Y.default.Caption,{ml:3,color:"text-subdued",children:s?e:"-"})}})})})}),(0,G.jsx)(Qi.default,{w:"full",h:"auto",borderWidth:0,placeholder:"0.00",fontSize:24,fontWeight:"600",bg:"transparent",color:"text-subdued",_disabled:{bg:"transparent"},_hover:{bg:"transparent"},_focus:{bg:"transparent"},value:t,borderRadius:0,onChangeText:r,pr:"2",pb:"12",textAlign:"right",isDisabled:!0,rightCustomElement:null,focusOutlineColor:"transparent"})]})})})]})})}))};var ox=n(37331);function ax(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ix(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ax(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ax(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lx=function(e){var t=e.account,n=e.token,r=(0,b.default)(),o=(0,B.useNavigation)(),i=(0,B.useActiveWalletAccount)().walletId,l=(0,a.useCallback)((function(){o.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Swap,params:{screen:Fa.SwapRoutes.SelectSendingAccount,params:{networkId:null==n?void 0:n.networkId,accountId:(0,Bt.appSelector)((function(e){var t;return null==(t=e.limitOrder.activeAccount)?void 0:t.id})),onSelected:function(e){E.default.dispatch((0,ox.setActiveAccount)(e))}}}})}),[n,o]),s=(0,ft.useCreateAccountInWallet)({networkId:null==n?void 0:n.networkId,walletId:i}).createAccount;return null===t?(0,G.jsx)(Z.default,{onPress:s,children:(0,G.jsx)(D.default,{py:"1",px:"2",flexDirection:"row",bg:"surface-neutral-subdued",borderRadius:"12",children:(0,G.jsx)(Y.default.CaptionStrong,{color:"text-default",children:r.formatMessage({id:"action__create_account"})})})}):(0,G.jsx)(Z.default,{borderRadius:"12",overflow:"hidden",onPress:l,_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},children:t?(0,G.jsxs)(D.default,{py:"1",px:"2",flexDirection:"row",borderRadius:"12",alignItems:"center",children:[(0,G.jsxs)(D.default,{flexDirection:"row",mr:"1",children:[(0,G.jsx)(Y.default.Body2Strong,{mr:"1",maxW:"120",isTruncated:!0,children:t.name}),(0,G.jsx)(Y.default.Body2,{color:"text-subdued",children:t.address.slice(-4)})]}),(0,G.jsx)(J.default,{size:16,name:"ChevronDownSolid"})]}):(0,G.jsx)(D.default,{py:"1",px:"2",borderRadius:"12",children:(0,G.jsx)(Y.default.CaptionStrong,{color:"text-default",children:r.formatMessage({id:"title__choose_an_account"})})})})};const sx=function(e){var t=e.inputValue,n=e.onPress,r=e.onChange,o=e.containerProps,i=e.isDisabled,l=(0,b.default)(),s=(0,B.useAppSelector)((function(e){return e.limitOrder.tokenIn})),u=(0,B.useAppSelector)((function(e){return e.limitOrder.activeAccount})),d=(0,Zi.useTokenBalance)(s,null==u?void 0:u.id),c=(0,Zi.useTokenPrice)(s),f=null!=d?d:"0",p=(0,a.useCallback)((0,Pt.default)((function*(){if(s&&f)if(s.tokenIdOnNetwork)E.default.serviceLimitOrder.userInputValue(f);else{var e=yield E.default.serviceSwap.getBasicGasFeeWithTimeout(s.networkId),t=Dt().max(0,new(Dt())(f).minus(e));t.gt(0)?E.default.serviceLimitOrder.userInputValue(t.toFixed()):Number(f)>0&&dt.default.show({title:l.formatMessage({id:"msg__suggest_reserving_str_as_gas_fee"},{0:`${e} ${s.symbol.toUpperCase()}`})},{type:"error"})}})),[s,f,l]),m=(0,Ha.formatAmount)(f,6);return f&&0!==Number(f)&&!Number.isNaN(+f)||(m="0"),(0,G.jsx)(D.default,ix(ix({},o),{},{position:"relative",children:(0,G.jsxs)(D.default,{position:"relative",children:[(0,G.jsxs)(D.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[(0,G.jsx)(lx,{account:u,token:s}),(0,G.jsx)(Z.default,{onPress:function(){i||p()},rounded:"xl",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},p:"2",children:(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",children:[(0,G.jsx)(Y.default.Caption,{color:"text-subdued",fontWeight:500,children:s?`${m} ${s.symbol.toUpperCase()}`:"-"}),(0,G.jsx)(D.default,{h:"4",w:"8",ml:"1",justifyContent:"center",alignItems:"center",borderRadius:4,backgroundColor:"surface-neutral-default",children:(0,G.jsx)(Y.default.Caption,{color:"text-default",children:l.formatMessage({id:"action__max"})})})]})})]}),(0,G.jsxs)(D.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",mt:"1",children:[(0,G.jsx)(Z.default,{onPress:n,flexDirection:"row",alignItems:"center",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},borderRadius:12,p:"2",children:s?(0,G.jsx)(Ji,{token:s}):(0,G.jsx)(D.default,{children:(0,G.jsx)(Y.default.DisplayMedium,{fontWeight:600,children:l.formatMessage({id:"title__select_a_token"})})})}),(0,G.jsx)(D.default,{flex:"1",flexDirection:"row",h:"full",justifyContent:"flex-end",position:"relative",children:(0,G.jsx)(D.default,{position:"absolute",w:"full",top:"0",right:"0",children:(0,G.jsxs)(D.default,{w:"full",position:"relative",children:[(0,G.jsx)(D.default,{position:"absolute",bottom:"7",right:2,children:(0,G.jsx)(D.default,{pointerEvents:"none",children:(0,G.jsx)(Y.default.Caption,{color:"text-subdued",numberOfLines:2,children:(0,G.jsx)(ca.FormatCurrency,{numbers:[null!=c?c:0,null!=t?t:0],render:function(e){return(0,G.jsx)(Y.default.Caption,{ml:3,color:"text-subdued",children:c?e:"-"})}})})})}),(0,G.jsx)(Qi.default,{w:"full",h:"auto",borderWidth:0,placeholder:"0.00",fontSize:24,fontWeight:"600",bg:"transparent",_disabled:{bg:"transparent"},_hover:{bg:"transparent"},_focus:{bg:"transparent"},value:t,borderRadius:0,onChangeText:r,pb:"12",focusOutlineColor:"transparent",pr:"2",textAlign:"right",isDisabled:i,rightCustomElement:null})]})})})]})]})}))};var ux=function(){var e=(0,b.default)(),t=(0,B.useNavigation)(),n=(0,B.useActiveWalletAccount)(),r=n.wallet,o=n.network,i=(0,B.useAppSelector)((function(e){return e.swapTransactions.swapMaintain})),l=!r||!o||i,s=(0,B.useAppSelector)((function(e){return e.limitOrder.typedValue})),u=(0,Qh.useLimitOrderOutput)(),d=(0,a.useCallback)((function(){t.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Swap,params:{screen:Fa.SwapRoutes.LimitOrderInput}})}),[t]),c=(0,a.useCallback)((function(){t.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Swap,params:{screen:Fa.SwapRoutes.LimitOrderOutput}})}),[t]),p=(0,a.useCallback)((function(e){E.default.serviceLimitOrder.userInputValue(e)}),[]),m=(0,a.useCallback)((function(){E.default.serviceLimitOrder.switchTokens()}),[]),h=(0,a.useMemo)((function(){return{upper:{pb:"0"},lower:{pt:"0"}}}),[]),x=(0,Ha.formatAmount)(u,8);return 0===Number(x)&&(x=(0,Ha.formatAmount)(u,16)),(0,G.jsx)(D.default,{w:"full",children:(0,G.jsxs)(D.default,{position:"relative",children:[(0,G.jsx)(D.default,{px:4,py:"5",bg:"surface-subdued",overflow:"hidden",children:(0,G.jsx)(sx,{type:"INPUT",label:e.formatMessage({id:"form__pay"}),inputValue:s,onChange:p,onPress:d,containerProps:h.upper})}),(0,G.jsx)(D.default,{w:"full",position:"relative",h:"1",bg:"background-default",zIndex:1,children:(0,G.jsx)(D.default,{position:"absolute",w:"full",h:"10",top:-20,left:0,children:(0,G.jsx)(T.default,{children:(0,G.jsx)(T.default,{w:"10",h:"10",bg:"background-default",borderRadius:"full",overflow:"hidden",children:(0,G.jsx)(It.default,{w:35,h:35,borderColor:"background-default",name:"ArrowDownOutline",borderRadius:"full",_disabled:{borderColor:"background-default"},onPress:m,size:"lg",bgColor:"surface-neutral-subdued"})})})})}),(0,G.jsx)(D.default,{px:4,py:"5",bg:"surface-subdued",overflow:"hidden",children:(0,G.jsx)(rx,{type:"OUTPUT",label:e.formatMessage({id:"action__receive"}),inputValue:x,onPress:c,containerProps:h.lower})}),l?(0,G.jsx)(D.default,{w:"full",h:"full",position:"absolute",zIndex:1}):null]})})};function dx(e){var t=Math.floor(e/1440);if(t>0)return`${t}D`;var n=Math.floor(e/60);return n>0?`${n}H`:`${e}M`}function cx(){var e,t=(0,b.default)(),n=(0,B.useAppSelector)((function(e){return e.limitOrder.typedPrice})),r=(0,B.useAppSelector)((function(e){return e.limitOrder.tokenIn})),o=(0,B.useAppSelector)((function(e){return e.limitOrder.tokenOut})),i=(0,B.useAppSelector)((function(e){return e.limitOrder.instantRate})),l=(0,B.useAppSelector)((function(e){return e.limitOrder.mktRate})),s=(0,a.useCallback)((function(e){E.default.dispatch((0,ox.setTypedPrice)({reversed:n.reversed,value:e}));var t=n.reversed?(0,Ha.formatAmountExact)((0,Ha.div)(1,e)):e;E.default.dispatch((0,ox.setInstantRate)(t))}),[n.reversed]),u=(0,a.useCallback)((function(){var e=n.reversed?(0,Ha.formatAmountExact)((0,Ha.div)(1,l)):l;s(e)}),[l,n.reversed,s]),d=(0,a.useCallback)((function(){var e=!n.reversed,t=e?(0,Ha.formatAmountExact)((0,Ha.div)(1,i)):i;E.default.dispatch((0,ox.setTypedPrice)({reversed:e,value:t}))}),[n.reversed,i]),c=n.reversed?null==o?void 0:o.symbol:null==r?void 0:r.symbol,f=n.reversed?null==r?void 0:r.symbol:null==o?void 0:o.symbol;return(0,G.jsxs)(D.default,{flex:"1",backgroundColor:"surface-subdued",px:"4",pb:"4",pt:"3",children:[(0,G.jsxs)(D.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[(0,G.jsx)(D.default,{flexDirection:"row",alignItems:"center",children:(0,G.jsx)(Y.default.Body1,{color:"text-subdued",fontSize:12,fontWeight:500,children:t.formatMessage({id:"form__str_price"},{0:null!=c?c:""})})}),(0,G.jsx)(Z.default,{onPress:u,children:(0,G.jsx)(Y.default.CaptionUnderline,{children:t.formatMessage({id:"action__set_to_mkt"})})})]}),(0,G.jsxs)(D.default,{flexDirection:"row",w:"full",alignItems:"center",children:[(0,G.jsx)(D.default,{flex:"1",children:(0,G.jsx)(Qi.default,{borderWidth:0,placeholder:"0.00",fontSize:20,fontWeight:"600",bg:"transparent",_disabled:{bg:"transparent"},_hover:{bg:"transparent"},_focus:{bg:"transparent"},borderRadius:0,pl:0,rightCustomElement:null,focusOutlineColor:"transparent",value:null!=(e=n.value)?e:"",onChangeText:s})}),(0,G.jsx)(D.default,{children:(0,G.jsxs)(Z.default,{flexDirection:"row",alignItems:"center",bg:"surface-neutral-subdued",py:"1",px:"1.5",borderRadius:8,onPress:d,children:[(0,G.jsx)(Y.default.CaptionStrong,{color:"text-subdued",mr:"1",children:null!=f?f:""}),(0,G.jsx)(J.default,{name:"ArrowsRightLeftMini",size:10})]})})]})]})}function fx(){var e=(0,b.default)(),t=(0,a.useMemo)((function(){return[{label:e.formatMessage({id:"form__str_minute"},{0:10}),value:10},{label:e.formatMessage({id:"form__str_hour"},{0:1}),value:60},{label:e.formatMessage({id:"form__str_hours"},{0:24}),value:1440},{label:e.formatMessage({id:"form__str_day"},{0:7}),value:10080},{label:e.formatMessage({id:"form__str_day"},{0:30}),value:43200}]}),[e]),n=(0,B.useAppSelector)((function(e){return e.limitOrder.expireIn})),r=(0,a.useCallback)((function(e){E.default.dispatch((0,ox.setExpireIn)(e))}),[]);return(0,G.jsxs)(D.default,{px:"4",pb:"4",pt:"3",w:"124px",backgroundColor:"surface-subdued",ml:"1",justifyContent:"space-between",children:[(0,G.jsx)(Y.default.Body1,{color:"text-subdued",fontSize:12,fontWeight:500,children:e.formatMessage({id:"form__expires_in"})}),(0,G.jsx)(U.default,{title:e.formatMessage({id:"form__expires_in"}),isTriggerPlain:!0,footer:null,value:n,defaultValue:n,headerShown:!1,options:t,dropdownProps:{width:"64"},dropdownPosition:"right",renderTrigger:function(e){var t=e.activeOption;return(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[(0,G.jsx)(Y.default.DisplayMedium,{children:dx(t.value)}),(0,G.jsx)(J.default,{size:20,name:"ChevronDownMini"})]})},onChange:r})]})}function px(){return(0,G.jsxs)(D.default,{flexDirection:"row",w:"full",h:"20",mt:"1",overflow:"hidden",children:[(0,G.jsx)(cx,{}),(0,G.jsx)(fx,{})]})}function mx(e){var t=(0,B.useNavigation)();return(0,a.useCallback)((function(){t.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Swap,params:{screen:Fa.SwapRoutes.LimitOrderDetails,params:{orderHash:e.orderHash}}})}),[e.orderHash,t])}var hx=function(e){var t=e.details,n=(0,a.useState)(!1),r=(0,h.default)(n,2),o=r[0],i=r[1],l=(0,B.useAccount)({accountId:t.accountId,networkId:t.networkId}).account,s=(0,Qh.useCancelLimitOrderCallback)(),u=(0,a.useCallback)((0,Pt.default)((function*(){if(l){i(!0);try{yield s({activeAccount:l,details:t})}finally{i(!1)}}})),[t,l,s]);return(0,G.jsx)(It.default,{isLoading:o,name:"XMarkMini",type:"plain",isDisabled:t.canceled,onPress:u})},xx=function(e){var t=e.order,n=(0,b.default)(),r=mx(t),o=t.tokenIn,a=t.tokenOut,i=t.tokenInValue,l=t.tokenOutValue,s=t.remainingFillable,u=t.canceled,d=(0,Ha.formatAmountExact)((0,Ha.getTokenAmountValue)(o,i)),c=(0,Ha.formatAmountExact)((0,Ha.getTokenAmountValue)(a,l)),f=`${d} ${o.symbol.toUpperCase()} \u2192 ${c} ${a.symbol.toUpperCase()}`,p=0===Number(s)?n.formatMessage({id:"form_opened"}):n.formatMessage({id:"form__str_filled"},{0:`${Math.floor(Number((0,Ha.getLimitOrderPercent)(t)))}%`});return(0,G.jsxs)(Z.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",onPress:r,children:[(0,G.jsxs)(D.default,{flex:1,flexDirection:"row",alignItems:"center",children:[(0,G.jsx)(D.default,{mr:"1",children:(0,G.jsx)(Rt.default,{size:"10",borderRadius:"full",token:o,bgColor:"surface-neutral-default"})}),(0,G.jsxs)(D.default,{flex:"1",children:[(0,G.jsx)(D.default,{children:(0,G.jsx)(Y.default.Body2Strong,{children:f})}),(0,G.jsx)(D.default,{flexDirection:"row",children:u?(0,G.jsx)(Hn.default,{type:"warning",size:"sm",title:n.formatMessage({id:"badge__cancelling"})}):(0,G.jsx)(Hn.default,{type:"info",size:"sm",title:p})})]})]}),(0,G.jsx)(D.default,{w:"9",flexDirection:"row",alignItems:"center",children:u?null:(0,G.jsx)(D.default,{children:(0,G.jsx)(hx,{details:t})})})]})},gx=function(e){var t=e.orders,n=(0,b.default)();return t&&0!==t.length?(0,G.jsx)(ce.default,{space:"4",py:"4",children:t.map((function(e){return(0,G.jsx)(xx,{order:e},e.orderHash)}))}):(0,G.jsx)(D.default,{py:"4",children:(0,G.jsx)(ct.default,{emoji:"\ud83d\udd16",title:n.formatMessage({id:"empty__you_have_no_orders"}),subTitle:n.formatMessage({id:"empty__you_have_no_orders_desc"}),mb:3})})},bx=function(e){var t=e.order,n=t.tokenIn,r=t.tokenOut,o=t.tokenInValue,a=t.tokenOutValue,i=t.remainingFillable,l=t.canceled,s=t.expiredIn,u=(0,b.default)(),d=mx(t),c=(0,Ha.formatAmountExact)((0,Ha.getTokenAmountValue)(n,o)),f=(0,Ha.formatAmountExact)((0,Ha.getTokenAmountValue)(r,a)),p=(0,Kr.default)().formatDate,m=0===Number(i)?u.formatMessage({id:"form_opened"}):u.formatMessage({id:"form__str_filled"},{0:`${Math.floor(Number((0,Ha.getLimitOrderPercent)(t)))}%`});return(0,G.jsxs)(Z.default,{onPress:d,children:[(0,G.jsxs)(D.default,{flexDirection:"row",children:[(0,G.jsxs)(D.default,{w:"20%",flexDirection:"row",alignItems:"center",children:[(0,G.jsx)(D.default,{mr:"1",children:(0,G.jsx)(Rt.default,{size:"8",borderRadius:"full",token:r,bgColor:"surface-neutral-default"})}),(0,G.jsx)(D.default,{flex:1,flexDirection:"row",alignItems:"center",children:(0,G.jsxs)(Y.default.Body2Strong,{overflow:"clip",children:[f," ",r.symbol.toUpperCase()]})})]}),(0,G.jsx)(D.default,{w:"20%",flexDirection:"row",alignItems:"center",children:(0,G.jsx)(D.default,{flex:1,flexDirection:"row",alignItems:"center",children:(0,G.jsxs)(Y.default.Body2Strong,{overflow:"clip",children:[c," ",n.symbol.toUpperCase()]})})}),(0,G.jsx)(D.default,{w:"30%",flexDirection:"row",alignItems:"center",children:(0,G.jsx)(D.default,{flex:1,flexDirection:"row",alignItems:"center",children:(0,G.jsx)(Y.default.Body2Strong,{overflow:"clip",children:p(new Date(1e3*s))})})}),(0,G.jsx)(D.default,{w:"20%",flexDirection:"row",alignItems:"center",children:l?(0,G.jsx)(Hn.default,{type:"warning",size:"sm",title:u.formatMessage({id:"badge__cancelling"})}):(0,G.jsx)(Hn.default,{type:"info",size:"sm",title:m})}),(0,G.jsx)(D.default,{w:"10%",children:l?null:(0,G.jsx)(D.default,{flexDirection:"row",alignItems:"center",children:(0,G.jsx)(hx,{details:t})})})]}),(0,G.jsx)(kn.default,{color:"text-subdued",my:"4"})]})},vx=function(e){var t=e.orders,n=(0,b.default)();return t&&0!==t.length?(0,G.jsxs)(D.default,{py:"4",children:[(0,G.jsxs)(D.default,{flexDirection:"row",children:[(0,G.jsx)(D.default,{w:"20%",children:(0,G.jsx)(Y.default.Subheading,{color:"text-subdued",children:n.formatMessage({id:"action__receive"}).toUpperCase()})}),(0,G.jsx)(D.default,{w:"20%",children:(0,G.jsx)(Y.default.Subheading,{color:"text-subdued",children:n.formatMessage({id:"form__pay"}).toUpperCase()})}),(0,G.jsx)(D.default,{w:"30%",children:(0,G.jsx)(Y.default.Subheading,{color:"text-subdued",children:n.formatMessage({id:"form__expiration"}).toUpperCase()})}),(0,G.jsx)(D.default,{w:"20%",children:(0,G.jsx)(Y.default.Subheading,{color:"text-subdued",children:n.formatMessage({id:"form__status"}).toUpperCase()})}),(0,G.jsx)(D.default,{w:"10%"})]}),(0,G.jsx)(D.default,{children:(0,G.jsx)(ce.default,{space:"4",py:"4",children:t.map((function(e){return(0,G.jsx)(bx,{order:e},e.orderHash)}))})})]}):(0,G.jsx)(D.default,{py:"4",children:(0,G.jsx)(ct.default,{emoji:"\ud83d\udd16",title:n.formatMessage({id:"empty__you_have_no_orders"}),subTitle:n.formatMessage({id:"empty__you_have_no_orders_desc"}),mb:3})})};function yx(){var e=(0,B.useAppSelector)((function(e){return e.limitOrder.activeAccount})),t=(0,B.useAppSelector)((function(e){return e.swap.mode})),n=(0,Qh.useLimitOrders)(null==e?void 0:e.id),r=(0,b.default)();return"limit"===t?(0,G.jsxs)(D.default,{px:"4",children:[(0,G.jsx)(D.default,{children:(0,G.jsx)(Y.default.Heading,{children:r.formatMessage({id:"title__open_order"})})}),(0,G.jsx)(gx,{orders:n})]}):null}function jx(){var e=(0,b.default)(),t=(0,B.useAppSelector)((function(e){return e.swap.mode})),n=(0,B.useAppSelector)((function(e){return e.limitOrder})).activeAccount,r=(0,Qh.useLimitOrders)(null==n?void 0:n.id);return"limit"===t?(0,G.jsxs)(D.default,{px:"4",mt:"4",children:[(0,G.jsx)(D.default,{children:(0,G.jsx)(Y.default.Heading,{children:e.formatMessage({id:"title__open_order"})})}),(0,G.jsx)(vx,{orders:r})]}):null}function wx(){var e,t=(0,b.default)(),n=(0,B.useAppSelector)((function(e){return e.limitOrder.tokenIn})),r=(0,B.useAppSelector)((function(e){return e.limitOrder.instantRate})),o=(0,B.useAppSelector)((function(e){return e.limitOrder.mktRate})),i=(0,a.useMemo)((function(){if(r&&o&&r!==o){var e=new(Dt())(o).minus(r).absoluteValue().div(o).multipliedBy(100).decimalPlaces(2).toFixed();return(0,Ha.gt)(e,5)&&(0,Ha.gt)(o,r)?`${e}%`:""}return""}),[r,o]);return i?(0,G.jsx)(D.default,{mb:"4",children:(0,G.jsx)(Ti.default,{title:t.formatMessage({id:"msg__limit_price_is_str_lower_than_the_current_market_price"},{0:i}),description:t.formatMessage({id:"msg__limit_price_is_str_lower_than_the_current_market_price_desc"},{0:null!=(e=null==n?void 0:n.symbol.toUpperCase())?e:""}),alertType:"warn",dismiss:!1})}):null}function kx(){var e=(0,Ci.useSwapChartMode)(),t=(0,p.default)();return(0,G.jsxs)(D.default,{children:[(0,G.jsxs)(D.default,{borderRadius:t?void 0:"12",overflow:"hidden",children:[(0,G.jsx)(ux,{}),(0,G.jsx)(px,{})]}),(0,G.jsx)(Si,{children:(0,G.jsxs)(D.default,{my:"6",children:[(0,G.jsx)(wx,{}),(0,G.jsx)(ex,{})]})}),"chart"!==e?(0,G.jsx)(yx,{}):null]})}function _x(){var e=(0,B.useAppSelector)((function(e){return e.swap.mode})),t=(0,Ci.useProgressStatusContext)(),n=(0,Ci.useProgressStatusContext)();return(0,G.jsx)(ii.Provider,{value:t,children:(0,G.jsx)(li.Provider,{value:n,children:(0,G.jsx)(D.default,{children:"limit"===e?(0,G.jsx)(kx,{}):(0,G.jsx)(Xl,{})})})})}var Ox=function(){var e=(0,a.useState)(1),t=(0,h.default)(e,2),n=t[0],r=t[1];(0,a.useEffect)((function(){var e=setInterval((function(){return r((function(e){return e>=3?1:e+1}))}),1e3);return function(){return clearInterval(e)}}),[]);var o=(0,a.useMemo)((function(){return Array.from({length:n},(function(e,t){return t}))}),[n]);return(0,G.jsx)(Ot.default,{w:"4",children:o.map((function(e){return(0,G.jsx)(Y.default.CaptionStrong,{children:"."},e)}))})},Ix=function(e){var t=e.onPress,n=e.text,r=e.iconName,o=e.backgroundColor,a=e.borderColor,i=e.rightSlot;return(0,G.jsx)(Z.default,{onPress:t,children:(0,G.jsxs)(D.default,{py:"2",px:"3",flexDirection:"row",alignItems:"center",backgroundColor:o,borderColor:a,borderRadius:12,children:[(0,G.jsx)(D.default,{mr:"2",children:(0,G.jsx)(J.default,{name:r,size:16})}),(0,G.jsx)(Y.default.CaptionStrong,{children:n}),i?(0,G.jsx)(D.default,{ml:"2",children:i}):null]})})},Sx=function(e){var t=e.onPress,n=(0,b.default)(),r=(0,ph.useWalletsSwapTransactions)().filter((function(e){return"pending"===e.status&&"swap"===e.type}));return(0,G.jsx)(Ix,{onPress:t,iconName:"ClockOutline",backgroundColor:"surface-highlight-default",text:n.formatMessage({id:"msg__str_in_progress"},{0:r.length}),rightSlot:(0,G.jsx)(Ox,{})})},Tx=function(e){var t=e.onPress,n=(0,b.default)(),r=(0,ph.useWalletsSwapTransactions)(),o=r.filter((function(e){return"sucesss"===e.status&&!1===e.viewed})),i=r.filter((function(e){return("failed"===e.status||"canceled"===e.status)&&!1===e.viewed})),l=(0,a.useCallback)((function(){var e=r.filter((function(e){return"pending"!==e.status&&!1===e.viewed}));E.default.dispatch((0,ai.setTransactionViewed)({txids:e.map((function(e){return e.hash}))})),null==t||t()}),[r,t]);return i.length?(0,G.jsx)(Ix,{iconName:"XCircleOutline",onPress:l,text:n.formatMessage({id:"msg__str_swap_failed"},{0:i.length}),backgroundColor:"surface-critical-default",borderColor:"surface-critical-subdued"}):o.length?(0,G.jsx)(Ix,{iconName:"CheckCircleOutline",onPress:l,text:n.formatMessage({id:"msg__str_swap_done"},{0:o.length}),backgroundColor:"surface-success-default",borderColor:"surface-success-subdued"}):(0,G.jsx)(It.default,{type:"plain",name:"ClockOutline",onPress:t})},Cx=function(){var e=(0,ph.useWalletsSwapTransactions)().filter((function(e){return"pending"===e.status&&"swap"===e.type})),t=(0,v.useNavigation)(),n=(0,a.useCallback)((function(){t.navigate(f.HomeRoutes.SwapHistory)}),[t]);return e.length>0?(0,G.jsx)(Sx,{onPress:n}):(0,G.jsx)(Tx,{onPress:n})},Mx=function(){var e=(0,b.default)(),t=(0,B.useAppSelector)((function(e){return e.swap.mode})),n=(0,B.useAppSelector)((function(e){return e.swap.inputToken})),r="swap"===t,o=(0,a.useCallback)((function(){n&&Yh.limitOrderNetworkIds.includes(n.networkId)||dt.default.show({title:e.formatMessage({id:"limit_orders_are_only_supported_for_str"},{0:"ETH, BSC, Polygon"})},{type:"default"}),E.default.serviceLimitOrder.setDefaultTokens(),E.default.dispatch((0,Na.setMode)("limit"))}),[n,e]);return(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",h:"30px",children:[(0,G.jsx)(Z.default,{mr:"3",onPress:function(){return E.default.dispatch((0,Na.setMode)("swap"))},children:(0,G.jsx)(Y.default.Body1Strong,{color:r?"text-default":"text-disabled",children:e.formatMessage({id:"title__swap"})})}),(0,G.jsxs)(Z.default,{onPress:o,flexDirection:"row",alignItems:"center",children:[(0,G.jsx)(Y.default.Body1Strong,{color:r?"text-disabled":"text-default",children:e.formatMessage({id:"form__limit"})}),(0,G.jsx)(D.default,{ml:"1",children:(0,G.jsx)(Hn.default,{type:"info",size:"sm",title:"Beta"})})]})]})},Px=function(){return(0,G.jsxs)(D.default,{width:"full",flexDirection:"row",h:"9",justifyContent:"space-between",alignItems:"center",children:[(0,G.jsx)(Mx,{}),(0,G.jsx)(Cx,{})]})},Ax={params:void 0,count:0},Dx=function(){var e=(0,Pt.default)((function*(e){var t=e.params,n=e.loading;if(Ax.params=t,t){n&&E.default.dispatch((0,ox.setLoading)(!0)),Ax.count+=1;try{var r=yield La.SwapQuoter.client.fetchLimitOrderQuote(t);r&&Ax.params===t&&E.default.serviceLimitOrder.setRate(r.instantRate)}finally{Ax.count-=1,0===Ax.count&&E.default.dispatch((0,ox.setLoading)(!1))}}else E.default.dispatch((0,ox.setInstantRate)(""),(0,ox.setMktRate)(""),(0,ox.setLoading)(!1),(0,ox.setTypedPrice)({reversed:!1,value:""}))}));return function(t){return e.apply(this,arguments)}}(),Rx=function(){var e=(0,Qh.useLimitOrderParams)();return(0,a.useEffect)((function(){Dx({params:e,loading:!0})}),[e]),null},Ex=function(){var e=(0,B.useAppSelector)((function(e){return e.limitOrder.tokenIn})),t=(0,B.useAppSelector)((function(e){return e.limitOrder.tokenOut}));return(0,a.useEffect)((function(){E.default.dispatch((0,ox.setMktRate)(""),(0,ox.setInstantRate)(""),(0,ox.setTypedPrice)({value:""}))}),[e,t]),null},Bx=function(){return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(Rx,{}),(0,G.jsx)(Ex,{})]})},Nx=function(){var e=(0,B.useNavigation)(),t=(0,v.useIsFocused)();return(0,a.useEffect)((function(){function n(){return(n=(0,Pt.default)((function*(){!(yield E.default.serviceSwap.getSwapWelcomeShown())&&t&&e.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Swap,params:{screen:Fa.SwapRoutes.Welcome}})}))).apply(this,arguments)}var r=setTimeout((function(){return n.apply(this,arguments)}),1e3);return function(){return clearTimeout(r)}}),[e,t]),null},Lx=function(){return(0,G.jsx)(Nx,{})};const Wx=function(){return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(Bx,{}),(0,G.jsx)(ti,{}),(0,G.jsx)(Lx,{})]})};var Fx=n(870291),Hx=function(){var e=(0,ph.useWalletsSwapTransactions)(),t=(0,a.useMemo)((function(){return e.filter((function(e){return"pending"===e.status}))}),[e]);return(0,G.jsx)(G.Fragment,{children:t.map((function(e){return(0,G.jsx)(Fx.default,{tx:e},e.hash)}))})},zx=function(){var e=(0,B.useAppSelector)((function(e){return e.limitOrder.activeAccount})),t=(0,a.useCallback)((function(){e&&E.default.serviceLimitOrder.syncAccount({accountId:null==e?void 0:e.id})}),[e]);return(0,a.useEffect)((function(){t();var e=setInterval(t,6e4);return function(){return clearInterval(e)}}),[t]),null},Ux=function(){return(0,a.useEffect)((function(){E.default.serviceSwap.getSwapConfig(),E.default.serviceSwap.setDefaultInputToken()}),[]),null};const Vx=function(){return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(Ux,{}),(0,G.jsx)(Hx,{}),(0,G.jsx)(zx,{})]})};var $x=function(){var e=(0,b.default)(),t=(0,Ci.useSwapChartMode)();return(0,G.jsxs)(D.default,{h:"16",px:"8",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[(0,G.jsx)(Y.default.Heading,{children:e.formatMessage({id:"title__Swap_Bridge"})}),(0,G.jsx)(D.default,{children:(0,G.jsx)(U.default,{isTriggerPlain:!0,footer:null,headerShown:!1,defaultValue:t,onChange:function(e){E.default.serviceSwap.setSwapChartMode(e)},options:[{label:e.formatMessage({id:"title__simple_mode"}),value:"simple"},{label:e.formatMessage({id:"title__chart_mode"}),value:"chart"}],dropdownProps:{width:"40"},dropdownPosition:"right",renderTrigger:function(e){var t=e.onPress;return(0,G.jsx)(Z.default,{onPress:t,children:function(e){var t=e.isHovered;return(0,G.jsx)(D.default,{bg:t?"surface-hovered":"transparent",w:"10",h:"10",justifyContent:"center",alignItems:"center",borderRadius:"full",children:(0,G.jsx)(J.default,{name:"EllipsisVerticalOutline",size:24})})}})}})})]})},Gx=function(){return(0,G.jsxs)(D.default,{children:[(0,G.jsx)(T.default,{children:(0,G.jsxs)(D.default,{maxW:{md:"480px"},width:"full",children:[(0,G.jsx)(D.default,{flexDirection:"row",justifyContent:"space-between",px:"4",mb:"4",zIndex:1,children:(0,G.jsx)(Px,{})}),(0,G.jsx)(D.default,{px:"4",children:(0,G.jsx)(_x,{})})]})}),(0,G.jsx)(Vx,{}),(0,G.jsx)(Wx,{})]})},qx=function(){var e=(0,B.useAppSelector)((function(e){return e.swap.inputToken})),t=(0,B.useAppSelector)((function(e){return e.swap.outputToken}));return e&&t?(0,G.jsxs)(D.default,{children:[(0,G.jsx)(D.default,{minH:"52px",children:(0,G.jsx)(Dh,{inputToken:e,outputToken:t})}),(0,G.jsx)(Gh,{fromToken:e,toToken:t})]}):null},Xx=function(){var e=(0,B.useNavigation)(),t=(0,Ci.useSwapChartMode)();return(0,a.useLayoutEffect)((function(){e.setOptions({headerShown:!1})}),[e]),(0,G.jsxs)(Ah.ScrollView,{children:[(0,G.jsx)($x,{}),(0,G.jsx)(D.default,{mt:"12",children:(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"flex-start",justifyContent:"center",px:"chart"===t?"8":void 0,overflow:"hidden",children:["chart"===t?(0,G.jsxs)(D.default,{flex:"1",children:[(0,G.jsx)(qx,{}),(0,G.jsx)(jx,{})]}):null,(0,G.jsx)(D.default,{w:"480px",bg:"background-default",children:(0,G.jsx)(Gx,{})})]})})]})},Yx=function(e){var t=e.currentPrice,n=e.basePrice,r=e.time,o=e.inputToken,a=e.outputToken;return(0,G.jsxs)(D.default,{children:[(0,G.jsx)(D.default,{mb:"4",children:(0,G.jsx)(Dh,{inputToken:o,outputToken:a})}),(0,G.jsx)(D.default,{flexDirection:"row",justifyContent:"space-between",children:(0,G.jsx)(Y.default.DisplayXLarge,{my:"1",children:t?(0,fu.formatDecimalZero)(t):""})}),(0,G.jsx)(D.default,{children:(0,G.jsx)(Uh,{price:t,time:r,basePrice:n})})]})},Qx=function(e){var t=e.token,n=e.data,r=null!=n&&n.length?n[0][1]:0,o=null!=n&&n.length?n[n.length-1][1]:0,i=(0,B.useReduxSingleTokenPriceSimple)({token:t}),l=(0,a.useMemo)((function(){return(0,Tu.calculateGains)({basePrice:r,price:o})}),[r,o]),s=l.gainTextBg,u=l.percentageGain,d=l.gainTextColor;return(0,G.jsxs)(D.default,{flexDirection:"row",justifyContent:"space-between",w:"full",children:[(0,G.jsxs)(D.default,{flexDirection:"row",children:[(0,G.jsx)(Rt.default,{token:t}),(0,G.jsxs)(D.default,{ml:"3",children:[(0,G.jsx)(Y.default.Body1Strong,{children:t.symbol}),(0,G.jsx)(Y.default.Body2,{color:"text-subdued",children:t.name})]})]}),(0,G.jsxs)(D.default,{flexDirection:"column",alignItems:"flex-end",children:[(0,G.jsx)(Y.default.Body1,{children:(0,G.jsx)(ca.FormatCurrencyNumber,{value:0,convertValue:i.price})}),(0,G.jsx)(D.default,{flexDirection:"row",children:(0,G.jsx)(D.default,{mt:"4px",bg:s,px:"6px",py:"2px",borderRadius:"6px",justifyContent:"center",alignItems:"center",children:(0,G.jsx)(Y.default.CaptionStrong,{color:d,children:u})})})]})]})},Kx=function(e){var t=e.enabled,n=e.selectedIndex,r=e.onTimeChange,o=e.fromToken,a=e.toToken,i=e.fromData,l=e.toData,s=(0,b.default)(),u=(0,ue.useSafeAreaInsets)().bottom;return(0,G.jsxs)(D.default,{pb:`${u}px`,children:[(0,G.jsx)(D.default,{w:"full",children:(0,G.jsx)(rd,{enabled:t,selectedIndex:n,onTimeChange:r})}),(0,G.jsxs)(D.default,{children:[(0,G.jsx)(Y.default.Heading,{my:"4",children:s.formatMessage({id:"title__token_info"})}),(0,G.jsxs)(ce.default,{space:"2",w:"full",children:[(0,G.jsx)(Qx,{token:o,data:i}),(0,G.jsx)(Qx,{token:a,data:l})]})]})]})},Zx=function(e){var t,n=e.fromToken,r=e.toToken,o=Hh({fromToken:n,toToken:r}),i=o.data,l=o.refreshDataOnTimeChange,s=o.isFetching,u=o.selectedTimeIndex,d=(0,Kr.default)().formatDate,c=(0,a.useState)(),f=(0,h.default)(c,2),p=f[0],m=f[1],x=(0,a.useState)(d(new Date)),g=(0,h.default)(x,2),b=g[0],v=g[1],y=i.finalData,j=i.fromData,w=i.toData,k=null!=y&&y.length?y[0][1]:0,_=null!=y&&y.length?y[y.length-1][1]:0;t=i?"undefined"===p||void 0===p?_:"string"===typeof p?+p:p:null;var O=(0,a.useCallback)((function(e){var t;t=e.time instanceof Date?d(e.time):"number"===typeof e.time?d(new Date(e.time)):"string"===typeof e.time?d(new Date(+e.time)):d(new Date),v(t),m(e.price)}),[d]);return(0,G.jsx)(Lh,{header:(0,G.jsx)(Yx,{currentPrice:t,basePrice:k,time:b,inputToken:n,outputToken:r}),footer:(0,G.jsx)(Kx,{selectedIndex:u,onTimeChange:l,enabled:!s&&!!i,fromToken:n,toToken:r,fromData:j,toData:w}),data:y,onHover:O,isFetching:s,height:200,mt:10})},Jx=function(e){return Vu({networkId:e.networkId,contract:e.tokenIdOnNetwork,days:"1",points:"100",vs_currency:"usd"})};const eg=function(e){var t=e.fromToken,n=e.toToken,r=(0,a.useState)(),o=(0,h.default)(r,2),i=o[0],l=o[1],s=(0,a.useCallback)((function(){(0,pr.showOverlay)((function(e){return(0,G.jsx)(Td.BottomSheetSettings,{closeOverlay:e,children:(0,G.jsx)(Zx,{fromToken:t,toToken:n})})}))}),[t,n]);return(0,a.useEffect)((function(){function e(){return e=(0,Pt.default)((function*(){var e=Jx(t),r=Jx(n),o=yield Promise.all([e,r]),a=(0,h.default)(o,2),i=a[0],s=a[1],u=Math.min(i.length,s.length),d=i.slice(0,u-1).map((function(e,t){return[e[0],e[1]/s[t][1]]})),c=null!=d&&d.length?d[0][1]:0,f=null!=d&&d.length?d[d.length-1][1]:0,p=(0,Tu.calculateGains)({basePrice:c,price:f}),m=p.percentageGain,x=p.gainTextColor;l({percentageGain:m,gainTextColor:x,latestPrice:f})})),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,n]),(0,G.jsx)(yl.default,{onPress:s,children:(0,G.jsxs)(D.default,{py:"2",px:"3",borderTopRadius:12,borderTopWidth:.5,borderLeftWidth:.5,borderRightWidth:.5,borderBottomWidth:0,borderColor:"divider",flexDirection:"row",justifyContent:"space-between",children:[(0,G.jsxs)(Y.default.Body2Strong,{children:[t.symbol.toUpperCase(),"/",n.symbol.toUpperCase()]}),i?(0,G.jsxs)(D.default,{flexDirection:"row",alignItems:"center",children:[(0,G.jsx)(Y.default.Body2Strong,{children:i.latestPrice?(0,fu.formatDecimalZero)(i.latestPrice):""}),(0,G.jsxs)(Y.default.Body2Strong,{color:i.gainTextColor,children:["(",i.percentageGain,")"]}),(0,G.jsx)(J.default,{name:"ChevronUpMini",size:20})]}):(0,G.jsx)(Y.default.Body2Strong,{color:"text-subdued",ml:"8px",children:"+0.00(+0.00%)"})]})})};var tg=function(){var e=(0,B.useAppSelector)((function(e){return e.swap.inputToken})),t=(0,B.useAppSelector)((function(e){return e.swap.outputToken}));return e&&t?(0,G.jsx)(D.default,{children:(0,G.jsx)(eg,{fromToken:e,toToken:t})}):null},ng=function(){var e=(0,ue.useSafeAreaInsets)().top,t=(0,a.useState)(!1),n=(0,h.default)(t,2),r=n[0],o=n[1],i=(0,B.useAppSelector)((function(e){return e.swap.mode})),l=(0,a.useCallback)((function(){o(!0),Ea.appUIEventBus.emit(Ea.AppUIEventBusNames.SwapRefresh),setTimeout((function(){return o(!1)}),500)}),[]);return(0,G.jsxs)(D.default,{flex:"1",position:"relative",pb:"swap"===i?"10":0,children:[(0,G.jsx)(de.ScrollView,{refreshControl:(0,G.jsx)(zu.default,{refreshing:r,onRefresh:l}),children:(0,G.jsx)(T.default,{pt:`${e+16}px`,children:(0,G.jsxs)(D.default,{maxW:{md:"480px"},width:"full",children:[(0,G.jsx)(D.default,{px:"4",mb:"4",zIndex:1,children:(0,G.jsx)(Px,{})}),(0,G.jsx)(_x,{})]})})}),"swap"===i?(0,G.jsx)(D.default,{position:"absolute",bottom:0,left:0,right:0,h:"9",children:(0,G.jsx)(tg,{})}):null,(0,G.jsx)(Wx,{}),(0,G.jsx)(Vx,{})]})};const rg=function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).hideBottomTabBar;return(0,p.default)()?(0,G.jsx)(D.default,{flex:1,children:(0,G.jsx)(ng,{})}):(0,G.jsx)(Xx,{})},og=(0,a.memo)(rg);function ag(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ig(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ag(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ag(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lg=f.TabRoutes.Swap;var sg=[Nf,sp,ig(ig({},ye[lg]),{},{hideDesktopNavHeader:!0,component:rt(ut(og,{rootTabName:lg}),lg),children:[{name:f.HomeRoutes.SwapHistory,component:Ph}]}),_t,fh],ug=be.map((function(e){var t=sg.find((function(t){return t.name===e}));if(t){if(t.hideOnProduction)return;return t}})).filter(Boolean),dg=n(967989);const cg=function(e){var t=e.headerLeft,n=e.headerRight,r=e.showOnDesktop,o=e.i18nTitle,a=e.testID,i=(0,p.default)(),l=i?57:65,s=(0,Fo.default)().themeVariant,u=(0,G.jsx)(le.default,{children:(0,G.jsx)(D.default,{testID:a,children:(0,G.jsx)(St.default,{style:{height:l},headerLeft:t,headerRight:n,i18nTitle:o})})});return i||r?(0,G.jsx)(G.Fragment,{children:"web"===I.default.OS?u:(0,G.jsx)(dg.default,{intensity:0,tint:"light"===s?"light":"dark"===s?"dark":"default",children:u})}):null};const fg=function(){return null};function pg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const mg=function(e){var t=(0,B.useAppSelector)((function(e){return e.data.isPasswordSet})),n=fg(),o=(0,a.useMemo)((function(){var e=[{id:"action__scan",onPress:function(){return(0,bm.gotoScanQrcode)()},icon:"ViewfinderCircleMini"},d.default.isExtensionUiPopup&&{id:"form__expand_view",onPress:function(){E.default.serviceApp.openExtensionExpandTab({routes:""})},icon:"ArrowsPointingOutOutline"},t&&{id:"action__lock_now",onPress:function(){return E.default.serviceApp.lock(!0)},icon:"LockClosedMini"}];return n?e.concat(n):e}),[t,n]);return(0,G.jsx)(Xs.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pg(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({options:o},e))};var hg=function(){return(0,G.jsx)(ie,{})},xg=function(){return(0,G.jsxs)(Ot.default,{space:3,alignItems:"center",children:[(0,G.jsx)(Ct.NetworkAccountSelectorTriggerMobile,{allowSelectAllNetworks:!0}),(0,G.jsx)(mg,{children:(0,G.jsx)(It.default,{name:"EllipsisVerticalOutline",type:"plain",size:"lg",circle:!0,m:-2})})]})};function gg(){return(0,G.jsx)(cg,{testID:"App-Layout-Header-Mobile",showOnDesktop:!1,headerLeft:hg,headerRight:xg})}function bg(e){var t=e.i18nTitle,n=function(){var e,t=(0,Qr.useAutoUpdate)(),n=t.latest,r=t.state,o=(null!=(e=(0,Qr.useSettings)().updateSetting)?e:{}).autoDownload;return{showUpdateBadge:(0,a.useMemo)((function(){var e=!1;return o||"available"!==r||(e=!0),"ready"===r&&(e=!0),n&&"version"in n&&Op.default.skipVersionCheck(n.version)&&(e=!1),V.default.autoUpdate.debug("useCheckUpdate render, showBadge: ",e),e}),[n,o,r]),showMobileUpdateBadge:(0,a.useMemo)((function(){return"available"===r&&(V.default.autoUpdate.debug("useCheckUpdate render, showMobileBadge: true"),!0)}),[r])}}().showUpdateBadge;(0,a.useEffect)((function(){V.default.autoUpdate.debug("LayoutHeaderDesktop showUpdateBadge effect: ",n)}),[n]);var r=(0,a.useCallback)((function(){return(0,G.jsxs)(Ot.default,{space:2,alignItems:"center",children:[(0,G.jsx)(Ct.NetworkAccountSelectorTriggerDesktop,{allowSelectAllNetworks:!0}),(0,G.jsxs)(D.default,{children:[(0,G.jsx)(mg,{children:(0,G.jsx)(It.default,{name:"EllipsisVerticalOutline",size:"lg",type:"plain",circle:!0,m:-2})}),n&&(0,G.jsx)(D.default,{position:"absolute",top:"-3px",right:"-8px",rounded:"full",p:"2px",pr:"9px",children:(0,G.jsx)(D.default,{rounded:"full",bgColor:"interactive-default",size:"8px"})})]})]})}),[n]);return(0,G.jsx)(cg,{testID:"App-Layout-Header-Desktop",showOnDesktop:!0,i18nTitle:t,headerRight:r})}function vg(e){var t=e.i18nTitle,n=(0,p.default)()?(0,G.jsx)(gg,{}):(0,G.jsx)(bg,{i18nTitle:t});return(0,G.jsx)(D.default,{testID:"WalletSelectorNavHeader",children:n})}function yg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yg(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wg=["name","component"],kg=Je(),_g=(0,g.default)(),Og=function(e,t){var n=ug.find((function(t){return t.name===e})),r=[{name:(0,tt.buildAppRootTabName)(n.name),component:n.component,alwaysShowBackButton:!1,i18nTitle:n.translationId}].concat((0,x.default)(n.children||[]));return function(){var e=(0,o.default)(["background-default","border-subdued"]),a=(0,h.default)(e,2),i=a[0],l=a[1];return(0,G.jsx)(_g.Navigator,{children:r.map((function(e,r){var o=e.name,a=e.component,s=(0,m.default)(e,wg),u=function(e){var t=e.tab,n=e.index,r=(e.name,e.i18nTitle),o=e.stackOptions,a=e.bgColor,i=e.borderBottomColor,l=e.isVerticalLayout,s=!0;return 0===n?(l&&t.hideMobileNavHeader&&(s=!1),!l&&t.hideDesktopNavHeader&&(s=!1)):s=!0,{headerRender:"AccountSelector"===(0===n?t.navHeaderType:"SimpleTitle")?function(e){return(0,G.jsx)(vg,{i18nTitle:r})}:function(e){return(0,G.jsx)(St.default,jg(jg({style:{backgroundColor:a,borderBottomWidth:0,shadowColor:i}},e),o))},headerShown:s}}({tab:n,index:r,name:o,i18nTitle:s.i18nTitle,stackOptions:s,bgColor:i,borderBottomColor:l,isVerticalLayout:t}),d=u.headerShown,c=u.headerRender;return(0,G.jsx)(_g.Screen,{name:o,component:a,options:{key:`${o}.Stack.Screen.component`,header:c,headerShown:d}},o)}))})}};const Ig=(0,a.memo)((function(){var e=(0,b.default)(),t=(0,p.default)(),n=(0,a.useMemo)((function(){return d.default.isNewRouteMode?function(){return null}:function(){return(0,G.jsx)(gg,{})}}),[]),r=(0,a.useMemo)((function(){var n=ug;return t&&!d.default.isNewRouteMode&&(n=ug.filter((function(e){return e.name!==f.TabRoutes.Swap}))),n.map((function(n){return(0,G.jsx)(kg.Screen,{name:n.name,component:d.default.isNewRouteMode||!t?Og(n.name,t):n.component,options:{tabBarIcon:n.tabBarIcon,tabBarLabel:e.formatMessage({id:n.translationId}),tabBarStyle:{display:"none",height:0}}},n.name)}))}),[e,t]);return(0,a.useMemo)((function(){return(0,G.jsx)(et.LazyDisplayView,{delay:100,hideOnUnmount:!1,isLazyDisabled:!1,children:(0,G.jsx)(kg.Navigator,{screenOptions:{header:n,freezeOnBlur:!0,lazy:!0},children:r})})}),[n,r])}));function Sg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Tg=(0,i.default)();const Cg=(0,a.memo)((function(){var e=(0,o.default)("background-default"),t=(0,a.useMemo)((function(){var t={width:u(),backgroundColor:e};return d.default.isRuntimeBrowser&&(t.opacity=1),{headerShown:!1,drawerType:"back",drawerStyle:t,swipeEnabled:!1}}),[e]),n=(0,a.useCallback)((function(e){return(0,G.jsx)(c.WalletSelectorMobile,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sg(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}),[]);return(0,G.jsx)(Tg.Navigator,{screenOptions:t,drawerContent:n,children:(0,G.jsx)(Tg.Screen,{name:f.MainRoutes.Tab,component:Ig})})}))},816829:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>D,useAddressBook:()=>A});var r=n(877531),o=n(505240),a=n(795116),i=n(510374),l=n(433996),s=n(854787),u=n(107867),d=n(18861),c=n(10918),f=n(669083),p=n(311631),m=n(202784),h=n(472719),x=n(783112),g=n(119804),b=n(292147),v=n(859071),y=n(481047),j=n(903730),w=n(256666),k=n(459740),_=n(945821),O=n(984495),I=n(331639),S=n(552322),T=["contact"];function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const M=function(e){var t=e.contact,n=(0,k.default)(e,T),r=(0,x.default)(),o=t.name,a=t.address,i=t.networkId,l=t.id,s=(0,h.useNavigation)(),u=(0,m.useCallback)((function(){s.navigate(y.RootRoutes.Modal,{screen:y.ModalRoutes.AddressBook,params:{screen:j.AddressBookRoutes.EditAddressRoute,params:{uuid:l,defaultValues:{name:o,address:a,networkId:i}}}})}),[s,o,a,i,l]),d=(0,m.useCallback)((function(){setTimeout((function(){(0,g.copyToClipboard)(a),f.default.show({title:r.formatMessage({id:"msg__address_copied"})})}),200)}),[r,a]),c=(0,m.useCallback)((function(){_.default.dispatch((0,O.remove)({uuid:l})),f.default.show({title:r.formatMessage({id:"msg__address_deleted"})})}),[l,r]),p=(0,m.useMemo)((function(){return[{id:"action__edit",onPress:u,icon:"PencilMini"},{id:"action__copy_address",onPress:d,icon:"Square2StackOutline"},{id:"action__delete",onPress:c,icon:"TrashMini",variant:"desctructive"}]}),[d,c,u]);return(0,S.jsx)(I.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,w.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({w:190,options:p},n))};var P=function(e){var t=e.networkId,n=e.onNew,r=e.onSelected,y=(0,x.default)(),j=(0,v.useAppSelector)((function(e){return e.contacts.contacts})),w=(0,p.useSafeAreaInsets)().bottom,k=(0,m.useMemo)((function(){var e=Object.values(j);if(e=e.sort((function(e,t){return e.createAt,t.createAt,-1})),b.default.common.info("contacts length is ",Object.keys(e).length),t){b.default.common.info("address list filter by networkId",t);var n=t.split("--")[0];n&&(e=e.filter((function(e){return e.badge.toUpperCase()===n.toUpperCase()})))}return e}),[j,t]),_=(0,m.useCallback)((function(e){(0,g.copyToClipboard)(e),f.default.show({title:y.formatMessage({id:"msg__address_copied"})})}),[y]),O=(0,h.useNavigation)(),I=(0,m.useCallback)((function(e){r&&(null==r||r({address:e.address,name:e.name}),O.goBack())}),[r,O]),T=(0,m.useCallback)((function(e){var t=e.item,n=t.name,r=t.badge,o=t.address;return(0,S.jsxs)(u.default,{onLongPress:function(){_(o)},onPress:function(){return I(t)},children:[(0,S.jsx)(u.default.Column,{children:(0,S.jsx)(d.default,{w:"40px",h:"40px",borderRadius:"full",bg:"decorative-surface-one",justifyContent:"center",alignItems:"center",children:(0,S.jsx)(c.default.Body2,{color:"decorative-icon-one",children:n.toUpperCase()[0]})})}),(0,S.jsx)(u.default.Column,{flex:1,text:{label:(0,S.jsxs)(d.default,{flexDirection:"row",alignItems:"center",children:[(0,S.jsx)(c.default.Body1Strong,{mr:"8px",isTruncated:!0,children:n}),(0,S.jsx)(s.default,{size:"sm",title:r.toUpperCase()})]}),description:(0,S.jsx)(c.default.Body2,{color:"text-subdued",children:o})}}),(0,S.jsx)(u.default.Column,{children:(0,S.jsx)(M,{contact:t,children:(0,S.jsx)(l.default,{name:"EllipsisVerticalMini",circle:!0,type:"plain"})})})]})}),[_,I]);return 0===k.length?(0,S.jsx)(a.default,{w:"full",h:"full",children:(0,S.jsx)(i.default,{title:y.formatMessage({id:"title__no_cantact"}),subTitle:y.formatMessage({id:"title__no_cantact_desc"}),actionTitle:y.formatMessage({id:"action__add_new_address"}),actionProps:{leftIconName:"PlusMini"},handleAction:n,emoji:"\ud83d\udcc7"})}):(0,S.jsx)(o.default,{data:k,renderItem:T,keyExtractor:function(e){return String(e.id)},ListFooterComponent:w>0?(0,S.jsx)(d.default,{h:`${w}px`}):null})};function A(){var e=(0,h.useNavigation)();return{showAddressBookModal:(0,m.useCallback)((function(t){e.navigate(y.RootRoutes.Modal,{screen:y.ModalRoutes.AddressBook,params:{screen:j.AddressBookRoutes.NewPickAddressRoute,params:t}})}),[e])}}const D=function(){var e,t=(0,x.default)(),n=null!=(e=(0,h.useRoute)().params)?e:{},o=n.networkId,a=n.onSelected,i=(0,h.useNavigation)(),s=(0,m.useCallback)((function(){i.navigate(j.AddressBookRoutes.NewAddressRoute)}),[i]);return(0,S.jsx)(r.default,{rightContent:(0,S.jsx)(l.default,{onPress:s,name:"PlusCircleOutline",type:"plain",size:"lg",circle:!0}),header:t.formatMessage({id:"title__contacts"}),hideSecondaryAction:!0,footer:null,height:"480px",children:(0,S.jsx)(P,{networkId:o,onSelected:a,onNew:s})})}},870686:(e,t,n)=>{"use strict";n.r(t),n.d(t,{amountDefaultTypeMap:()=>l,amountEditorTypeMap:()=>s});var r,o,a=n(655697),i=n(371905),l=((r={})[a.BulkTypeEnum.OneToMany]=i.AmountTypeEnum.Fixed,r[a.BulkTypeEnum.ManyToMany]=i.AmountTypeEnum.Random,r[a.BulkTypeEnum.ManyToOne]=i.AmountTypeEnum.All,r),s=((o={})[a.BulkTypeEnum.OneToMany]=[i.AmountTypeEnum.Fixed,i.AmountTypeEnum.Custom],o[a.BulkTypeEnum.ManyToOne]=[i.AmountTypeEnum.Fixed,i.AmountTypeEnum.Random,i.AmountTypeEnum.All,i.AmountTypeEnum.Custom],o[a.BulkTypeEnum.ManyToMany]=[i.AmountTypeEnum.Fixed,i.AmountTypeEnum.Random,i.AmountTypeEnum.All,i.AmountTypeEnum.Custom],o)},468555:(e,t,n)=>{"use strict";n.r(t),n.d(t,{browserSettingUrl:()=>d,default:()=>c});var r=n(877531),o=n(18861),a=n(433996),i=n(866904),l=n(783112),s=(n(213208),n(284315)),u=n(552322);function d(){}const c=function(){var e=(0,l.default)(),t=(0,s.useClipboard)().copyText;return(0,u.jsx)(r.default,{hidePrimaryAction:!0,hideSecondaryAction:!0,header:e.formatMessage({id:"action__clear_cache"}),footer:null,staticChildrenProps:{flex:1},children:(0,u.jsxs)(o.default,{justifyContent:"center",alignItems:"center",height:"200px",children:[(0,u.jsx)(i.default,{typography:"Body1Strong",children:e.formatMessage({id:"title__open_this_link_in_browser"})}),(0,u.jsx)(i.default,{mt:"8px",typography:"Body1",color:"text-subdued",children:void 0}),(0,u.jsx)(a.default,{onPress:function(){t(undefined)},mt:"24px",name:"DocumentDuplicateMini",children:e.formatMessage({id:"action__copy"})})]})})}},345428:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Desktop:()=>O,EmptySkeleton:()=>_});var r=n(10918),o=n(196234),a=n(333665),i=n(25655),l=n(561220),s=n(759900),u=n(529710),d=n(18861),c=n(202784),f=n(46486),p=n(13334),m=n(38814),h=n(859071),x=n(287595),g=n(47256),b=n(559306),v=n(552322),y=f.default.create({container:{paddingTop:32,paddingBottom:32}}),j=function(){return(0,v.jsx)(d.default,{h:"3"})},w=function(){return(0,v.jsx)(d.default,{h:"8"})},k=function(){var e=(0,p.default)().width-270-48,t=Math.floor(e/250),n=e/t,r=(0,c.useMemo)((function(){return[1,2,3,4,5,6,7,8]}),[]),o=(0,c.useCallback)((function(){return(0,v.jsx)(d.default,{width:n,maxWidth:n,minWidth:n,height:156,paddingX:"2",justifyContent:"center",alignItems:"center",children:(0,v.jsxs)(l.default,{bgColor:"surface-default",flexDirection:"column",borderRadius:"12px",padding:"4",width:n-16,height:144,borderWidth:1,_hover:{bgColor:"surface-hovered"},borderColor:"border-subdued",children:[(0,v.jsxs)(d.default,{flexDirection:"row",mb:"3",children:[(0,v.jsx)(d.default,{w:"12",h:"12",overflow:"hidden",borderRadius:12,children:(0,v.jsx)(u.default,{})}),(0,v.jsxs)(d.default,{ml:"3",children:[(0,v.jsx)(s.default,{shape:"Body1"}),(0,v.jsx)(s.default,{shape:"Caption"})]})]}),(0,v.jsx)(d.default,{h:"4",w:"full",mb:"2",borderRadius:8,overflow:"hidden",children:(0,v.jsx)(u.default,{})}),(0,v.jsx)(d.default,{h:"3",w:"80%",borderRadius:6,overflow:"hidden",children:(0,v.jsx)(u.default,{})})]})})}),[n]),a=(0,c.useMemo)((function(){return(0,v.jsx)(i.default,{paddingLeft:"24px",data:r,renderItem:o,numColumns:t,removeClippedSubviews:!0,windowSize:5,showsHorizontalScrollIndicator:!1,keyExtractor:function(e){return`${e}`},ItemSeparatorComponent:j},`key${t}`)}),[r,t,o]);return(0,v.jsx)(d.default,{width:"100%",children:a})},_=function(){return(0,v.jsx)(i.default,{contentContainerStyle:{paddingBottom:24,paddingTop:24},data:[1,2],renderItem:function(){return(0,v.jsx)(k,{})},keyExtractor:function(e){return String(e)},ItemSeparatorComponent:w})},O=function(e){var t=Object.assign({},((0,a.default)(e),e)),n=t.tagId,s=t.onItemSelect,u=(0,b.useTagDapps)(n),f=(0,c.useState)(0),p=(0,o.default)(f,2),j=p[0],w=p[1],k=(0,h.useDebounce)(j,200),O=k-48,I=Math.floor(O/250),S=O/I,T=(0,c.useCallback)((function(e){var t=e.item;return(0,v.jsx)(g.default,{url:t.url,hoverButtonProps:{right:"20px",top:"20px",iconSize:20},children:(0,v.jsx)(d.default,{width:S,maxWidth:S,minWidth:S,height:156,paddingX:"2",justifyContent:"center",alignItems:"center",children:(0,v.jsxs)(l.default,{flexDirection:"column",borderRadius:"12px",padding:"4",width:S-16,height:144,borderWidth:1,_hover:{bgColor:"surface-hovered"},borderColor:"border-subdued",onPress:function(){s&&s(t)},children:[(0,v.jsxs)(d.default,{flexDirection:"row",children:[(0,v.jsx)(x.default,{size:48,url:t.logoURL,networkIds:t.networkIds}),(0,v.jsxs)(d.default,{ml:"3",flex:"1",children:[(0,v.jsx)(r.default.Body2Strong,{numberOfLines:1,mb:"1",flex:"1",children:t.name}),(0,v.jsx)(m.NetworkIconGroup,{networkIds:t.networkIds})]})]}),(0,v.jsx)(r.default.Caption,{mt:"3",numberOfLines:2,textAlign:"left",color:"text-subdued",children:t.subtitle})]})})})}),[S,s]);return(0,v.jsxs)(d.default,{width:"100%",height:"100%",children:[(0,v.jsx)(d.default,{w:"full",onLayout:function(e){var t=e.nativeEvent.layout.width;w(t)}}),k?(0,v.jsx)(i.default,{contentContainerStyle:y.container,paddingLeft:"24px",paddingRight:"24px",data:u,renderItem:T,numColumns:I,keyExtractor:function(e,t){return`${I}key${t}${null==e?void 0:e._id}`},ListEmptyComponent:_},`key${I}`):(0,v.jsx)(_,{})]})}},259992:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Mobile:()=>b});var r=n(561220),o=n(10918),a=n(333665),i=n(25655),l=n(529710),s=n(18861),u=n(202784),d=n(46486),c=n(287595),f=n(47256),p=n(559306),m=n(552322),h=d.default.create({container:{paddingTop:24,paddingBottom:24}}),x=function(){return(0,m.jsx)(s.default,{h:"8"})},g=function(){return(0,m.jsx)(i.default,{contentContainerStyle:h.container,data:[1,2,3,4,5],renderItem:function(){return(0,m.jsxs)(s.default,{px:"4",w:"full",flexDirection:"row",alignItems:"center",children:[(0,m.jsx)(s.default,{w:"12",h:"12",borderRadius:12,mr:"3",overflow:"hidden",children:(0,m.jsx)(l.default,{})}),(0,m.jsxs)(s.default,{flex:"1",children:[(0,m.jsx)(s.default,{h:"4",borderRadius:8,mb:"3",overflow:"hidden",children:(0,m.jsx)(l.default,{})}),(0,m.jsx)(s.default,{h:"3",borderRadius:6,overflow:"hidden",width:"70%",children:(0,m.jsx)(l.default,{})})]})]})},showsVerticalScrollIndicator:!1,keyExtractor:function(e){return String(e)},ItemSeparatorComponent:x})},b=function(e){var t=Object.assign({},((0,a.default)(e),e)),n=t.onItemSelect,l=t.tagId,d=(0,p.useTagDapps)(l),x=(0,u.useCallback)((function(e){var t=e.item;return(0,m.jsx)(f.default,{url:t.url,hoverButtonProps:{right:"4px",top:"5px"},children:(0,m.jsxs)(r.default,{w:"full",mb:"5",flexDirection:"row",flex:1,alignItems:"center",onPress:function(){null==n||n(t)},children:[(0,m.jsx)(c.default,{size:48,url:t.logoURL,networkIds:t.networkIds}),(0,m.jsxs)(s.default,{flexDirection:"column",ml:"12px",flex:1,children:[(0,m.jsx)(o.default.Body2Strong,{flex:"1",numberOfLines:1,children:t.name}),(0,m.jsx)(o.default.Caption,{color:"text-subdued",mt:"4px",numberOfLines:1,children:t.subtitle})]})]})})}),[n]);return(0,m.jsx)(s.default,{flex:"1",bg:"background-default",children:(0,m.jsx)(i.default,{contentContainerStyle:h.container,data:d,px:"16px",renderItem:x,keyExtractor:function(e){return e._id},ListEmptyComponent:g})})}},907821:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r,o,a=n(18861),i=n(256666),l=n(539144),s=n(202784),u=n(472719),d=n(552322);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const p=function(){var e=(0,u.useNavigation)(),t=(0,u.useRoute)(),i=t.params.title,c=(0,l.default)();return c&&!r?r=n(259992).Mobile:c||o||(o=n(345428).Desktop),(0,s.useLayoutEffect)((function(){e.setOptions({title:i})}),[e,i]),(0,d.jsx)(a.default,{flex:"1",bg:"background-default",children:c?(0,d.jsx)(r,f({},t.params)):(0,d.jsx)(o,f({},t.params))})}},221924:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var r=n(202784),o=n(592323),a=n(633416),i=n(933790),l=n(552322),s=function(e){var t=e.id,n=e.url;return(0,r.useMemo)((function(){return(0,l.jsx)(o.default,{id:t,src:n,onWebViewRef:function(e){e&&e.innerRef&&(i.webviewRefs[t]||a.webTabsActions.setWebTabData({id:t,refReady:!0}),i.webviewRefs[t]=e)},allowpopups:!0})}),[t])};s.displayName="WebContent";const u=s},756237:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(256666),o=n(680805),a=n(998056),i=n(552322);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){var t=e.alwaysOpenNewWindow;return(0,i.jsx)(o.default,{onItemSelect:function(e){(0,a.openMatchDApp)({id:e._id,dapp:e,isNewWindow:t})},onItemSelectHistory:function(e){return(0,a.openMatchDApp)(s(s({},e),{},{isNewWindow:t}))}})};u.displayName="WebHomeContainer";const d=u},998056:(e,t,n)=>{"use strict";n.r(t),n.d(t,{gotoSite:()=>d,onItemSelect:()=>f,openMatchDApp:()=>c});var r=n(945821),o=n(380845),a=n(633416),i=n(520192),l=n(627009),s=n(933790),u=n(59984),d=function(e){var t=e.url,n=e.title,d=e.favicon,c=e.dAppId,f=e.isNewWindow,p=e.isInPlace,m=e.id,h=e.userTriggered,x=(0,o.appSelector)((function(e){return e})).discover.bookmarks,g=(0,u.getWebTabs)(),b=g.tabs,v=g.currentTabId,y=m||v,j=b.find((function(e){return e.id===y})),w=r.default.dispatch;if(t&&j){var k=(0,s.validateUrl)(t);if(!k)return;if(h&&(w((0,i.addUserBrowserHistory)({url:k,dappId:c,title:n,timestamp:Date.now()})),r.default.serviceDiscover.fillInUserBrowserHistory({dappId:c,url:k})),"browser"===s.webHandler)return(0,l.openUrl)(k);var _=j.id,O=!k.startsWith("http")&&"about:blank"!==k,I=(f||"home"===_||O)&&"tabbedWebview"===s.webHandler,S=null==x?void 0:x.map((function(e){return e.url})),T=null==S?void 0:S.includes(t);return I?a.webTabsActions.addWebTab({title:n,url:k,favicon:d,isCurrent:!0,isBookmarked:T}):a.webTabsActions.setWebTabData({id:_,url:k,title:n,favicon:d,isBookmarked:T}),I||p||(0,s.crossWebviewLoadUrl)({url:k,tabId:_}),O&&"tabbedWebview"===s.webHandler&&setTimeout((function(){a.webTabsActions.closeWebTab(_)}),1e3),!0}return!1},c=function(e){var t=e.dapp,n=e.webSite,r=e.isNewWindow;return n?d({url:n.url,title:n.title,favicon:n.favicon,isNewWindow:r,userTriggered:!0}):t?d({url:t.url,title:t.name,dAppId:t._id,favicon:t.logoURL,userTriggered:!0,isNewWindow:r}):void 0},f=function(e){c({id:e._id,dapp:e})}},142113:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useIncomingUrl:()=>s});var r=n(202784),o=n(576138),a=n(633416),i=n(998056),l=function(){return a.webTabsActions.setIncomingUrl("")},s=function(){var e=(0,o.useSelector)((function(){return a.incomingUrlObs.get()})),t=(0,r.useCallback)((function(){e&&((0,i.gotoSite)({url:e,isNewWindow:!0,userTriggered:!0}),l())}),[e]);return{incomingUrl:e,clearIncomingUrl:l,handleIncomingUrl:t}}},469465:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useNotifyChanges:()=>p});var r=n(912436),o=n.n(r),a=n(202784),i=n(292147),l=(n(213208),n(945821)),s=n(929483),u=n(461576),d=n(481047),c=n(933790),f=n(59984),p=(o()((function(e,t){i.default.webview.info("webview notify changed events",e,t),l.default.serviceAccount.notifyAccountsChanged(),l.default.serviceNetwork.notifyChainChanged()}),150,{leading:!1,trailing:!0}),function(){var e=(0,u.useIsMounted)(),t=(0,f.useWebTabs)().tab,n=null==t?void 0:t.url,r=null==t?void 0:t.id,o=(0,c.getWebviewWrapperRef)(r),i=(0,s.useIsFocusedAllInOne)({rootTabName:d.TabRoutes.Discover}),l=i.isFocused,p=i.rootTabFocused,m=l||p;(0,a.useEffect)((function(){}),[o,m]),(0,a.useEffect)((function(){}),[m,e,n,o])})},822555:(e,t,n)=>{"use strict";n.r(t),n.d(t,{onNavigation:()=>f,useWebController:()=>p});var r=n(256666),o=n(196234),a=n(202784),i=(n(213208),n(633416)),l=n(933790),s=n(998056),u=n(59984);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e){var t=e.url,n=e.isNewWindow,r=e.isInPlace,o=e.title,a=e.favicon,l=e.canGoBack,d=e.canGoForward,c=e.loading,f=e.id,p=Date.now(),m=(0,u.getWebTabs)(f).tab;if(m){var h=m.id;if("string"===typeof t&&t!==m.url){if(m.timestamp&&p-m.timestamp<500)return;if(i.homeResettingFlags[h]&&t!==i.homeTab.url&&p-i.homeResettingFlags[h]<1e3)return;(0,s.gotoSite)({url:t,title:o,favicon:a,isNewWindow:n,isInPlace:r,id:h})}i.webTabsActions.setWebTabData({id:h,title:o,favicon:a,canGoBack:l,canGoForward:d,loading:c})}},p=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id,r=t.navigationStateChangeEvent,s=(0,u.useWebTabs)(n),d=s.currentTabId,p=s.tabs,m=s.tab,h=n||d,x=(0,a.useState)(null==(e=l.webviewRefs[h])?void 0:e.innerRef),g=(0,o.default)(x,2),b=g[0],v=g[1];(0,a.useEffect)((function(){var e;null!=m&&m.refReady&&v(null==(e=l.webviewRefs[h])?void 0:e.innerRef)}),[h,null==m?void 0:m.refReady]);var y=function(e){var t=e.ref,n=e.onNavigation,r=e.tabId,o=(0,a.useRef)(!1);(0,a.useEffect)((function(){}),[t,n]);var i=(0,a.useCallback)((function(){o.current&&(null==t||t.goBack())}),[t]),s=(0,a.useCallback)((function(){o.current&&(null==t||t.goForward())}),[t]),u=(0,a.useCallback)((function(){o.current&&(null==t||t.stop())}),[t]),d=(0,a.useCallback)((function(){var e=(0,l.getWebviewWrapperRef)(r);null==e||e.reload()}),[r]);return{goBack:i,goForward:s,stopLoading:u,loadURL:(0,a.useCallback)((function(e){(0,l.crossWebviewLoadUrl)({url:e,tabId:r})}),[r]),reload:d}}({ref:b,onNavigation:f,navigationStateChangeEvent:r,tabId:h}),j=y.goBack,w=y.goForward,k=y.stopLoading,_=y.reload;return{tabs:p,currentTabId:d,currentTab:m,goBack:function(){var e=(null==m?void 0:m.refReady)&&(null==m?void 0:m.canGoBack);k(),e?j():i.webTabsActions.setWebTabData(c(c({},i.homeTab),{},{id:h}))},goForward:w,stopLoading:k,reload:_}}},395538:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>be});var r=n(417141),o=n(18861),a=n(311631);var i=n(756237),l=n(933790),s=n(470310),u=n(561220),d=n(433996),c=n(256666),f=n(170766),p=n(196234),m=n(459740),h=n(202784),x=n(783112),g=n(945821),b=n(313132),v=n(493877),y=n(481047),j=n(633416),w=n(733456),k=n(529710),_=n(10918),O=n(435581),I=n(129553),S=n(552322),T=function(e){var t=e.networkId,n=(0,I.useNetworkPrices)(t);return(0,S.jsx)(o.default,{flexDirection:"row",alignItems:"center",h:"full",children:n?(0,S.jsxs)(o.default,{flexDirection:"row",alignItems:"center",children:[(0,S.jsx)(O.default,{name:"GasIllus",size:16,color:"text-default"}),(0,S.jsx)(o.default,{ml:"1",children:(0,S.jsx)(_.default.Button2,{color:"text-default",children:Math.ceil(Number(n))})})]}):(0,S.jsx)(o.default,{w:"8",h:"3",mb:"1",overflow:"hidden",borderRadius:12,children:(0,S.jsx)(k.default,{})})})},C=n(998056),M=n(822555),P=n(303858),A=n(859071),D=n(331639),R=n(718739),E=function(e){var t=e.children,n=(0,A.useNavigation)(),r=(0,h.useCallback)((function(){n.navigate(y.RootRoutes.Modal,{screen:y.ModalRoutes.Discover,params:{screen:R.DiscoverModalRoutes.Favorites}})}),[n]),o=(0,h.useCallback)((function(){n.navigate(y.RootRoutes.Modal,{screen:y.ModalRoutes.Discover,params:{screen:R.DiscoverModalRoutes.History}})}),[n]),a=(0,h.useMemo)((function(){return[{id:"transaction__history",onPress:o,icon:"ClockMini"},{id:"title__favorites",onPress:r,icon:"StarMini"}]}),[o,r]);return(0,S.jsx)(D.default,{options:a,children:t})},B=["value","onClear","onChangeText","customLeftIcon"];function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var L=(0,h.forwardRef)((function(e,t){var n=e.value,r=e.onClear,o=e.onChangeText,a=e.customLeftIcon,i=(0,m.default)(e,B),l=(0,h.useState)(n),s=(0,p.default)(l,2),u=s[0],d=s[1],x=(0,h.useCallback)((function(e){"undefined"===typeof n?d(e):"undefined"!==typeof o&&o(e)}),[n,o]);return(0,S.jsx)(f.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ref:t,value:null!=n?n:u,leftIconName:null!=a?a:"MagnifyingGlassMini",placeholder:"Search...",autoCorrect:!1,autoCapitalize:"none",onPressRightIcon:r,onChangeText:x},i))}));L.displayName="BrowserURLInput";var W=function(){var e=(0,x.default)(),t=(0,h.useState)(!1),n=(0,p.default)(t,2),r=n[0],a=n[1],i=(0,M.useWebController)(),l=i.currentTab,c=i.stopLoading,f=i.goBack,m=i.goForward,k=i.reload,_=l.loading,O=l.canGoBack,I=l.canGoForward,A=function(e){if("string"===typeof e)return(0,C.gotoSite)({url:e,userTriggered:!0});(0,C.openMatchDApp)(e)},D=null!=l&&l.url&&"about:blank"!==l.url?l.url:"",R=(0,h.useState)(D),B=(0,p.default)(R,2),N=B[0],W=B[1],F=function(e){try{if(!e)return"SearchOutline";var t=new URL(e);if("https:"===t.protocol)return"LockClosedMini";if("http:"===t.protocol)return"ExclamationTriangleMini"}catch(n){return"SearchOutline"}return"SearchOutline"}(D);(0,h.useEffect)((function(){W(D)}),[D]);var H=(0,h.useRef)(null),z=(0,h.useRef)(null),U=function(e){var t;return null==(t=z.current)?void 0:t.onKeyPress(e)},V=(0,h.useCallback)((function(){(0,v.getAppNavigation)().navigate(y.RootRoutes.Modal,{screen:y.ModalRoutes.GasPanel,params:{screen:w.GasPanelRoutes.GasPanelModal,params:{networkId:""}}})}),[]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(s.default,{bg:"background-default",w:"100%",h:"48px",px:8,space:3,alignItems:"center",children:[(0,S.jsx)(d.default,{type:"plain",name:"ArrowLeftOutline",disabled:!O,isDisabled:!O,onPress:f}),(0,S.jsx)(d.default,{type:"plain",name:"ArrowRightOutline",disabled:!I,isDisabled:!I,onPress:m}),(0,S.jsx)(d.default,{type:"plain",name:_?"XMarkOutline":"ArrowPathOutline",onPress:_?c:k}),(0,S.jsx)(u.default,{flex:1,style:{WebkitAppRegion:"no-drag"},children:(0,S.jsx)(L,{ref:H,w:"100%",h:"32px",placeholder:e.formatMessage({id:"content__search_or_enter_dapp_url"}),customLeftIcon:F,size:"base",value:N,onClear:function(){return W("")},onChangeText:W,onSubmitEditing:function(e){var t=e.nativeEvent.text.trim();t&&(W(t),A(t))},onKeyPress:function(e){var t=e.nativeEvent.key;"ArrowUp"!==t&&"ArrowDown"!==t&&"Enter"!==t||null!=U&&U(t)&&e.preventDefault()},selectTextOnFocus:!0,onFocus:function(){a(!0)},onBlur:function(){""===(null==N?void 0:N.trim())&&W(D),a(!1)},rightElement:(null==l?void 0:l.id)!==j.homeTab.id?(0,S.jsx)(d.default,{onPress:function(){return l&&g.default.serviceDiscover.toggleFavorite(l.url)},type:"plain",name:"StarMini",iconColor:null!=l&&l.isBookmarked?"icon-warning":"icon-default"}):void 0})}),(0,S.jsx)(b.NetworkAccountSelectorTriggerDesktop,{}),(0,S.jsx)(u.default,{h:"full",onPress:V,children:function(e){var t=e.isHovered,n=e.isPressed;return(0,S.jsx)(o.default,{flexDirection:"row",h:"full",alignItems:"center",children:(0,S.jsx)(o.default,{px:2,py:1,bg:n?"surface-pressed":t?"surface-hovered":void 0,borderRadius:"full",children:(0,S.jsx)(T,{})})})}}),(0,S.jsx)(E,{children:(0,S.jsx)(d.default,{type:"plain",name:"EllipsisVerticalOutline",size:"xs"})})]}),(0,S.jsx)(P.default,{ref:z,visible:r,onSearchContentChange:W,searchContent:N,onSelectorItem:function(e){var t;A(e),null==(t=H.current)||t.blur()},relativeComponent:H.current})]})};W.displayName="ControllerBarDesktop";const F=W;var H=n(321668),z=n(941749),U=n(758248),V=n(213208),$=n(900527),G=(0,$.getDisplayKeysMap)(V.default.isDesktopMac),q=function(e){var t=e.children,n=G[t]||t;return(0,S.jsx)(o.default,{bg:"surface-neutral-subdued",borderRadius:"6px",px:"6px",height:"20px",justifyContent:"center",alignItems:"center",ml:"2px",children:(0,S.jsx)(_.default.CaptionStrong,{children:n})})};(0,h.memo)((function(e){var t=e.desc,n=e.keys,r=null==n?void 0:n.split("+").map((function(e,t){return(0,S.jsx)(q,{children:e},t)}));return(0,S.jsxs)(o.default,{p:"8px",flexDirection:"row",justifyContent:"space-between",children:[(0,S.jsx)(_.default.Body2,{children:t}),(0,S.jsx)(o.default,{ml:"6px",flexDirection:"row",children:r})]})})).displayName="ShortcutsDescription";const X=h.Fragment,Y=n.p+"static/media/dapp_favicon.79b7c17cf868bfac03e8.png";var Q=n(59984);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=(0,$.getShortcutsMap)(V.default.isDesktopMac),ee=function(e){var t=e.isCurrent,n=e.id,r=e.title,o=e.onLayout,a=e.favicon,i=(0,h.useCallback)((function(){j.webTabsActions.setCurrentWebTab(n)}),[n]),l=(0,h.useCallback)((function(){j.webTabsActions.closeWebTab(n)}),[n]);return"home"===n?(0,S.jsx)(H.default,{type:"plain",w:"52px",borderRadius:0,bg:t?"background-default":"background-hovered",leftIconName:"HomeMini",iconSize:16,iconColor:t?"icon-hovered":"icon-default",onPress:i,borderRightColor:"border-default",borderRightWidth:"0.5px",onLayout:o}):(0,S.jsxs)(u.default,{_hover:{bg:t?"background-default":"action-secondary-hovered"},borderRightColor:"border-default",borderRightWidth:"0.5px",px:"12px",bg:t?"background-default":"background-hovered",onPress:i,flexDirection:"row",justifyContent:"space-between",alignItems:"center",onLayout:o,children:[(0,S.jsx)(z.default,{style:{width:16,height:16,marginRight:8},source:{uri:a},defaultSource:Y}),(0,S.jsx)(_.default.Caption,{maxW:"82px",mr:"10px",isTruncated:!0,color:t?"text-default":"text-subdued",children:r}),(0,S.jsx)(X,{desc:J[$.ExplorerShortcutEvents.CloseTab].desc,keys:J[$.ExplorerShortcutEvents.CloseTab].keys,children:(0,S.jsx)(H.default,{size:"xs",type:"plain",iconSize:12,leftIconName:"XMarkMini",onPress:l})})]})},te=function(){return(0,S.jsx)(X,{desc:J[$.ExplorerShortcutEvents.NewTabAndFocus].desc,keys:J[$.ExplorerShortcutEvents.NewTabAndFocus].keys,children:(0,S.jsx)(H.default,{flex:1,borderRadius:0,type:"plain",leftIconName:"PlusMini",onPress:j.webTabsActions.addBlankWebTab})})},ne=function(){var e=(0,Q.useWebTabs)().tabs,t=(0,h.useMemo)((function(){return e.slice(1)}),[e]),n=(0,h.useRef)(null);return(0,h.useEffect)((function(){setTimeout((function(){var e;return null==(e=n.current)?void 0:e.scrollToEnd()}),50)}),[n,e.length]),(0,S.jsxs)(o.default,{flexDirection:"row",w:"100%",h:"32px",alignItems:"center",children:[(0,S.jsx)(ee,Z({},e[0])),(0,S.jsx)(o.default,{flex:1,h:"32px",children:(0,S.jsxs)(U.default,{ref:n,style:{maxWidth:"100%",flexGrow:0,height:32},leftButtonProps:{borderRadius:null},rightButtonProps:{borderRadius:null},children:[t.map((function(e){return(0,S.jsx)(ee,Z({},e),e.id)})),(0,S.jsx)(te,{})]})})]})};ne.displayName="TabBarDesktop";const re=ne;var oe=n(472719),ae=n(427751),ie=n(46486),le=n(824931),se=n(680805),ue=n(221924),de=n(142113),ce=n(469465);function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var me=ie.default.create({blankPage:pe(pe({},ie.default.absoluteFillObject),{},{zIndex:1})}),he=(0,h.memo)((function(){(0,ce.useNotifyChanges)();var e=(0,Q.useWebTabs)(),t=e.tabs,n=e.tab,r=(0,de.useIncomingUrl)().handleIncomingUrl,a=(null==n?void 0:n.url)===j.homeTab.url;return(0,oe.useFocusEffect)(r),(0,S.jsxs)(o.default,{flex:1,zIndex:3,children:[t.map((function(e){return(0,S.jsx)(ae.Freeze,{freeze:!e.isCurrent,children:(0,S.jsx)(ue.default,pe({},e))},e.id)})),(0,S.jsx)(ae.Freeze,{freeze:!a,children:(0,S.jsx)(le.default,{style:me.blankPage,children:(0,S.jsx)(se.default,{onItemSelect:C.onItemSelect,onItemSelectHistory:C.openMatchDApp})})})]})}));he.displayName="TabbedWebContainer";const xe=he;var ge="browser"!==l.webHandler;const be=function(){var e=(0,a.useSafeAreaInsets)().top;return(0,S.jsxs)(o.default,{flex:"1",zIndex:3,children:[ge&&(0,S.jsx)(r.default,{children:(0,S.jsxs)(o.default,{mt:`${e?e+10:0}px`,bg:"surface-subdued",zIndex:5,children:[(0,S.jsx)(re,{}),(0,S.jsx)(F,{})]})}),"tabbedWebview"===l.webHandler?(0,S.jsx)(xe,{}):(0,S.jsx)(i.default,{})]})}},47256:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var r=n(995030),o=n(256666),a=n(202784),i=n(945821),l=n(859071),s=n(552322);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const c=function(e){var t=e.url,n=e.children,o=e.hoverButtonProps,u=(0,a.useCallback)((function(){i.default.serviceDiscover.toggleFavorite(t),null==o||null==o.onPress||o.onPress()}),[o,t]),c=(0,l.useAppSelector)((function(e){return e.discover.bookmarks})),f=null==c?void 0:c.some((function(e){return e.url===t}));return(0,s.jsx)(r.default,{hoverButtonProps:d(d({type:"plain",position:"absolute",zIndex:1,pt:0,pr:0,pb:0,pl:0,iconSize:16,leftIconName:f?"StarSolid":"StarOutline",iconColor:f?"icon-warning":"icon-default"},o),{},{onPress:u}),children:n})}},726531:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Ue});var r=n(18861),o=n(196234),a=n(311631),i=n(202784),l=n(427751),s=(n(213208),n(929483)),u=n(481047),d=n(670911),c=n(756237),f=n(142113),p=n(217030),m=n(561220),h=n(46486),x=n(13334),g=n(558726),b=n(600378),v=n(651388),y=n(197856),j=n(505820),w=n(59984),k=n(321668),_=n(795116),O=n(10918),I=n(433996),S=n(256666),T=n(297263),C=n(439762),M=n(859071),P=n(633416),A=n(355231),D=n(718739),R=n(822555),E=n(259825),B=n(785192),N=n(470310),L=n(435581),W=n(669083),F=n(783112),H=n(190769),z=n(622470),U=n(119804),V=n(945821),$=n(493877),G=n(627009),q=n(793525),X=n(733456),Y=n(529710),Q=n(427309),K=n(129553),Z=n(552322),J=function(e){var t=e.networkId,n=(0,K.useNetworkPrices)(t);return(0,Z.jsxs)(_.default,{borderRadius:12,borderColor:"border-subdued",borderWidth:1,w:"12",h:"12",children:[n?(0,Z.jsx)(O.default.Body2Strong,{lineHeight:14,color:"text-warning",children:Math.ceil(Number(n))}):(0,Z.jsx)(r.default,{w:"8",h:"3",mb:"1",overflow:"hidden",borderRadius:12,children:(0,Z.jsx)(Y.default,{})}),(0,Z.jsx)(O.default.CaptionStrong,{lineHeight:12,color:"text-warning",children:t&&Q.priceUnit[t]||"Gwei"})]})};function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){(0,S.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne=function(e){var t=e.onClose,n=(0,F.default)(),o=(0,R.useWebController)(),a=o.currentTab,l=o.stopLoading,s=o.reload,d=(0,i.useCallback)((function(){var e;return null!=(e=null==a?void 0:a.url)?e:""}),[a]),c=(0,i.useCallback)((function(){t(),s()}),[s,t]),f=(0,i.useCallback)((function(){t(),(0,U.copyToClipboard)(d()),W.default.show({title:n.formatMessage({id:"msg__copied"})})}),[n,d,t]),p=(0,i.useCallback)((function(){setTimeout((function(){t(),z.default.share("ios"===H.default.OS?{url:d()}:{message:d()}).catch()}),100)}),[d,t]),h=(0,i.useCallback)((function(){t(),l(),P.webTabsActions.setWebTabData(te(te({},P.homeTab),{},{id:a.id}))}),[t,l,a]),x=(0,i.useCallback)((function(){a&&(t(),a.isBookmarked?V.default.serviceDiscover.removeFavorite(a.url):V.default.serviceDiscover.addFavorite(a.url),W.default.show({title:n.formatMessage({id:"msg__success"})}))}),[a,n,t]),g=(0,i.useCallback)((function(){t(),(0,G.openUrlExternal)(d())}),[d,t]),b=(0,i.useCallback)((function(){t(),(0,$.getAppNavigation)().navigate(u.RootRoutes.Modal,{screen:u.ModalRoutes.Discover,params:{screen:D.DiscoverModalRoutes.Favorites}})}),[t]),v=(0,i.useCallback)((function(){t(),(0,$.getAppNavigation)().navigate(u.RootRoutes.Modal,{screen:u.ModalRoutes.Discover,params:{screen:D.DiscoverModalRoutes.History}})}),[t]),y=(0,i.useCallback)((function(){t(),(0,$.getAppNavigation)().navigate(u.RootRoutes.Modal,{screen:u.ModalRoutes.GasPanel,params:{screen:X.GasPanelRoutes.GasPanelModal,params:{networkId:""}}})}),[t]);return(0,Z.jsx)(E.default,{title:n.formatMessage({id:"action__more"}),closeOverlay:t,children:(0,Z.jsxs)(r.default,{children:[(0,Z.jsxs)(N.default,{space:6,children:[(0,Z.jsxs)(m.default,{alignItems:"center",onPress:b,children:[(0,Z.jsx)(_.default,{borderRadius:12,borderColor:"border-subdued",borderWidth:1,w:"12",h:"12",children:(0,Z.jsx)(L.default,{size:20,name:"StarMini"})}),(0,Z.jsx)(O.default.Caption,{mt:"2",children:n.formatMessage({id:"title__favorites"})})]}),(0,Z.jsxs)(m.default,{alignItems:"center",onPress:v,children:[(0,Z.jsx)(_.default,{borderRadius:12,borderColor:"border-subdued",borderWidth:1,w:"12",h:"12",children:(0,Z.jsx)(L.default,{size:20,name:"ClockMini"})}),(0,Z.jsx)(O.default.Caption,{mt:"2",children:n.formatMessage({id:"transaction__history"})})]}),(0,Z.jsxs)(m.default,{alignItems:"center",onPress:y,children:[(0,Z.jsx)(J,{}),(0,Z.jsx)(O.default.Caption,{mt:"2",children:"\ud83d\udd25Gas"})]})]}),(0,Z.jsx)(B.default,{my:"4",w:"full"}),(0,Z.jsxs)(r.default,{children:[(0,Z.jsxs)(m.default,{flexDirection:"row",px:"4",py:"3",onPress:c,children:[(0,Z.jsx)(r.default,{mr:"3",children:(0,Z.jsx)(L.default,{name:"ArrowPathOutline"})}),(0,Z.jsx)(O.default.Body1Strong,{children:n.formatMessage({id:"action__refresh"})})]}),(0,Z.jsxs)(m.default,{flexDirection:"row",px:"4",py:"3",onPress:p,children:[(0,Z.jsx)(r.default,{mr:"3",children:(0,Z.jsx)(L.default,{name:"ShareOutline"})}),(0,Z.jsx)(O.default.Body1Strong,{children:n.formatMessage({id:"action__share"})})]}),(0,Z.jsxs)(m.default,{flexDirection:"row",px:"4",py:"3",onPress:f,children:[(0,Z.jsx)(r.default,{mr:"3",children:(0,Z.jsx)(L.default,{name:"LinkOutline"})}),(0,Z.jsx)(O.default.Body1Strong,{children:n.formatMessage({id:"action__copy_url"})})]}),(0,Z.jsxs)(m.default,{flexDirection:"row",px:"4",py:"3",onPress:x,children:[(0,Z.jsx)(r.default,{mr:"3",children:(0,Z.jsx)(L.default,{name:"SquaresPlusOutline"})}),(0,Z.jsx)(O.default.Body1Strong,{children:null!=a&&a.isBookmarked?n.formatMessage({id:"action__remove_from_favorites"}):n.formatMessage({id:"action__add_to_favorites"})})]}),(0,Z.jsxs)(m.default,{flexDirection:"row",px:"4",py:"3",onPress:g,children:[(0,Z.jsx)(r.default,{mr:"3",children:(0,Z.jsx)(L.default,{name:"GlobeAltOutline"})}),(0,Z.jsx)(O.default.Body1Strong,{children:n.formatMessage({id:"action__open_in_browser"})})]}),(0,Z.jsxs)(m.default,{flexDirection:"row",px:"4",py:"3",onPress:h,children:[(0,Z.jsx)(r.default,{mr:"3",children:(0,Z.jsx)(L.default,{name:"HomeOutline"})}),(0,Z.jsx)(O.default.Body1Strong,{children:n.formatMessage({id:"action__back_to_home_page"})})]})]})]})})},re=function(){return(0,q.showOverlay)((function(e){return(0,Z.jsx)(ne,{onClose:e})}))};function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){(0,S.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie={code:"function anonymous(){const{showTabGridAnim,MAX_OR_SHOW}=this._closure;return{zIndex:showTabGridAnim.value===MAX_OR_SHOW?-1:1,display:showTabGridAnim.value===MAX_OR_SHOW?'none':'flex',opacity:1-showTabGridAnim.value};}",location:"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discover/Explorer/Mobile/ControllerBarMobile.tsx"},le={code:"function anonymous(){const{bgColor,expandAnim,MIN_OR_HIDE,interpolate,MAX_OR_SHOW,tabBarHeight}=this._closure;return{backgroundColor:bgColor,zIndex:expandAnim.value===MIN_OR_HIDE?-1:1,display:expandAnim.value===MIN_OR_HIDE?'none':'flex',translateY:interpolate(expandAnim.value,[MIN_OR_HIDE,MAX_OR_SHOW],[-tabBarHeight,0]),opacity:expandAnim.value};}",location:"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discover/Explorer/Mobile/ControllerBarMobile.tsx"},se=function(){var e=(0,M.useNavigation)(),t=(0,R.useWebController)(),n=t.currentTab,o=t.goBack,i=t.goForward,l=t.tabs,s=(0,a.useSafeAreaInsets)().bottom,d=(0,C.default)(),c=(0,T.default)("surface-subdued"),f=n.canGoForward,m=(0,P.isTabLimitReached)(l),x=(0,Z.jsxs)(g.default,{style:[ae(ae({},h.default.absoluteFillObject),{},{flexDirection:"row"}),(0,b.useAnimatedStyle)(function(){var e=function(){return{zIndex:p.showTabGridAnim.value===p.MAX_OR_SHOW?-1:1,display:p.showTabGridAnim.value===p.MAX_OR_SHOW?"none":"flex",opacity:1-p.showTabGridAnim.value}};return e._closure={showTabGridAnim:p.showTabGridAnim,MAX_OR_SHOW:p.MAX_OR_SHOW},e.__initData=ie,e.__workletHash=6053321607959,e}(),[])],children:[(0,Z.jsx)(I.default,{pl:0,pr:0,flex:1,type:"plain",disabled:n.url===P.homeTab.url,onPress:o,name:"ChevronLeftOutline"}),(0,Z.jsx)(I.default,{pl:0,pr:0,flex:1,type:"plain",disabled:!f,onPress:i,name:"ChevronRightOutline"}),(0,Z.jsx)(I.default,{pl:0,pr:0,flex:1,type:"plain",disabled:m,onPress:P.webTabsActions.addBlankWebTab,iconSize:26,name:"PlusCircleMini"}),(0,Z.jsx)(k.default,{justifyContent:"center",alignItems:"center",textAlign:"center",type:"plain",pl:0,pr:0,flex:1,onPress:function(){e.navigate(u.RootRoutes.Modal,{screen:u.ModalRoutes.Discover,params:{screen:D.DiscoverModalRoutes.MobileTabs}})},children:(0,Z.jsx)(_.default,{w:"20px",h:"20px",borderRadius:"2px",borderWidth:"2px",borderColor:"icon-pressed",children:(0,Z.jsx)(O.default.CaptionStrong,{children:l.length-1})})}),(0,Z.jsx)(I.default,{pl:0,pr:0,flex:1,type:"plain",disabled:n.url===P.homeTab.url,onPress:re,name:"DotsHorizontalOutline"})]});return(0,Z.jsx)(A.PortalRender,{container:`BottomTab-Overlay-${u.TabRoutes.Discover}`,children:(0,Z.jsx)(g.default,{style:[h.default.absoluteFill,(0,b.useAnimatedStyle)(function(){var e=function(){return{backgroundColor:c,zIndex:p.expandAnim.value===p.MIN_OR_HIDE?-1:1,display:p.expandAnim.value===p.MIN_OR_HIDE?"none":"flex",translateY:(0,v.interpolate)(p.expandAnim.value,[p.MIN_OR_HIDE,p.MAX_OR_SHOW],[-d,0]),opacity:p.expandAnim.value}};return e._closure={bgColor:c,expandAnim:p.expandAnim,MIN_OR_HIDE:p.MIN_OR_HIDE,interpolate:v.interpolate,MAX_OR_SHOW:p.MAX_OR_SHOW,tabBarHeight:d},e.__initData=le,e.__workletHash=0xe3e14a87a99,e}(),[c])],children:(0,Z.jsx)(r.default,{flex:1,flexDirection:"row",overflow:"hidden",mb:`${s}px`,children:x})})})},ue=n(550398),de=n(313132),ce=function(e){var t=e.favicon,n=e.text;return(0,Z.jsxs)(r.default,{bg:"surface-subdued",px:"12px",py:"8px",h:"48px",w:"full",borderTopLeftRadius:"12px",borderTopRightRadius:"12px",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[(0,Z.jsx)(ue.default,{width:"30px",height:"30px",borderRadius:"6px",src:t},t),(0,Z.jsx)(O.default.Body2Strong,{color:"text-default",flex:1,textAlign:"left",mx:"8px",numberOfLines:1,children:n}),(0,Z.jsx)(L.default,{name:"ArrowsPointingOutOutline"})]})},fe=function(e){var t,n=e.onSearch,o=(0,w.useWebTabs)().tab;return(0,Z.jsxs)(r.default,{bg:"background-default",px:"16px",h:"56px",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[(0,Z.jsx)(L.default,{name:"ChevronDownMini",color:"icon-subdued"}),(0,Z.jsxs)(m.default,{flex:"1",bg:"action-secondary-default",h:"42px",borderRadius:"full",borderWidth:"1px",borderColor:"border-default",ml:"12px",px:"5px",flexDirection:"row",alignItems:"center",onPress:n,children:[(0,Z.jsx)(O.default.Body2,{mx:"6px",flex:"1",color:"text-subdued",numberOfLines:1,children:null==o||null==(t=o.url)?void 0:t.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"")}),(0,Z.jsx)(de.NetworkAccountSelectorTriggerMobile,{bg:"surface-neutral-default",type:"basic",labelTypography:"CaptionStrong",iconSize:5})]})]})},pe={code:"function anonymous(){const{expandAnim,MIN_OR_HIDE}=this._closure;return{opacity:1-expandAnim.value,display:expandAnim.value===MIN_OR_HIDE?'flex':'none'};}",location:"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discover/Explorer/Mobile/FloatingBar.tsx"},me={code:"function anonymous(){const{expandAnim,MIN_OR_HIDE}=this._closure;return{opacity:expandAnim.value,display:expandAnim.value===MIN_OR_HIDE?'none':'flex'};}",location:"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discover/Explorer/Mobile/FloatingBar.tsx"},he=function(e){var t=e.favicon,n=e.text,r=e.onSearch;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(g.default,{style:(0,b.useAnimatedStyle)(function(){var e=function(){return{opacity:1-p.expandAnim.value,display:p.expandAnim.value===p.MIN_OR_HIDE?"flex":"none"}};return e._closure={expandAnim:p.expandAnim,MIN_OR_HIDE:p.MIN_OR_HIDE},e.__initData=pe,e.__workletHash=0xe88693ffbb2,e}(),[]),children:(0,Z.jsx)(ce,{favicon:t,text:n})}),(0,Z.jsx)(g.default,{style:(0,b.useAnimatedStyle)(function(){var e=function(){return{opacity:p.expandAnim.value,display:p.expandAnim.value===p.MIN_OR_HIDE?"none":"flex"}};return e._closure={expandAnim:p.expandAnim,MIN_OR_HIDE:p.MIN_OR_HIDE},e.__initData=me,e.__workletHash=1626461086830,e}(),[]),children:(0,Z.jsx)(fe,{onSearch:r})})]})};he.displayName="FloatingBar";const xe=he;var ge=n(824931),be=n(680805),ve=n(221924),ye=n(998056),je=n(469465);function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){(0,S.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _e=h.default.create({container:{flex:1},blankPage:ke(ke({},h.default.absoluteFillObject),{},{zIndex:1})}),Oe=(0,i.memo)((function(){(0,je.useNotifyChanges)();var e=(0,w.useWebTabs)(),t=e.tabs,n=e.tab,r=(null==n?void 0:n.url)===P.homeTab.url,o=(0,i.useMemo)((function(){return t.slice(1).map((function(e){return(0,Z.jsx)(l.Freeze,{freeze:!e.isCurrent,children:(0,Z.jsx)(ve.default,ke({},e))},e.id)}))}),[t]);return(0,Z.jsxs)(ge.default,{style:_e.container,children:[o,(0,Z.jsx)(l.Freeze,{freeze:!r,children:(0,Z.jsx)(ge.default,{style:_e.blankPage,children:(0,Z.jsx)(be.default,{onItemSelect:ye.onItemSelect,onItemSelectHistory:ye.openMatchDApp})})})]})}));Oe.displayName="WebTabFront";const Ie=Oe;var Se=n(316044),Te=n(581734),Ce=n(602922),Me=n(790225);function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){(0,S.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var De=h.default.create({image:{flex:1},contentContainer:{paddingVertical:p.WEB_TAB_CELL_GAP}}),Re=function(e){var t=e.num,n=(0,F.default)();return(0,Z.jsx)(_.default,{children:(0,Z.jsx)(O.default.Heading,{children:n.formatMessage({id:"title__str_tabs"},{0:t})})})},Ee=function(e){var t=e.isCurrent,n=e.title,o=e.favicon,a=e.id,i=e.url;return(0,Z.jsx)(m.default,{w:"full",px:"2",mt:`${p.WEB_TAB_CELL_GAP}px`,onPress:function(){t||P.webTabsActions.setCurrentWebTab(a),(0,p.hideTabGrid)(a)},children:(0,Z.jsx)(r.default,{w:"full",py:"2",bg:"surface-default",borderRadius:"12px",borderWidth:"1px",borderColor:t?"interactive-default":"border-subdued",overflow:"hidden",children:(0,Z.jsx)(r.default,{flex:1,collapsable:!1,ref:function(e){p.tabGridRefs[a]=e},children:(0,Z.jsxs)(r.default,{px:"2",w:"full",borderTopLeftRadius:"12px",borderTopRightRadius:"12px",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[(0,Z.jsx)(ue.default,{width:"40px",height:"40px",borderRadius:"12px",src:o},o),(0,Z.jsxs)(r.default,{flex:"1",ml:"8px",mr:"4px",children:[(0,Z.jsx)(O.default.CaptionStrong,{color:"text-default",flex:1,textAlign:"left",numberOfLines:1,children:n||"Unknown"}),(0,Z.jsx)(O.default.Body2,{color:"text-subdued",children:i})]}),(0,Z.jsx)(I.default,{size:"sm",type:"plain",name:"XMarkMini",onPress:function(){P.webTabsActions.closeWebTab(a)}})]})})})})},Be={code:"function anonymous(){const{scrollTo,listRef,tabGridScrollY}=this._closure;scrollTo(listRef,0,tabGridScrollY.value,true);}",location:"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discover/Explorer/Mobile/WebTabGrid.tsx"},Ne={code:"function anonymous(){const{showTabGridAnim}=this._closure;return{opacity:showTabGridAnim.value};}",location:"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discover/Explorer/Mobile/WebTabGrid.tsx"},Le=function(){var e=(0,w.useWebTabs)().tabs,t=(0,Se.useAnimatedRef)(),n=(0,i.useState)(!1),r=(0,o.default)(n,2),a=r[0],l=r[1];(0,i.useEffect)((function(){setTimeout((function(){l(!0)}),100)}),[]),(0,j.default)((0,i.useCallback)((function(){return p.showTabGridAnim.value!==p.MIN_OR_HIDE&&((0,p.hideTabGrid)(),!0)}),[])),(0,Te.useDerivedValue)(function(){var e=function(){(0,Ce.scrollTo)(t,0,p.tabGridScrollY.value,!0)};return e._closure={scrollTo:Ce.scrollTo,listRef:t,tabGridScrollY:p.tabGridScrollY},e.__initData=Be,e.__workletHash=6478403035559,e}(),[]);var s=(0,i.useMemo)((function(){return e.slice(1)}),[e]),u=(0,i.useCallback)((function(e){var t=e.item;return(0,Z.jsx)(Ee,Ae({},t))}),[]),d=(0,i.useCallback)((function(e){return e.id}),[]),c=(0,T.default)("background-default"),f=(0,b.useAnimatedStyle)(function(){var e=function(){return{opacity:p.showTabGridAnim.value}};return e._closure={showTabGridAnim:p.showTabGridAnim},e.__initData=Ne,e.__workletHash=2597616415075,e}());return a?(0,Z.jsx)(Me.default,{ref:t,style:[Ae(Ae({},h.default.absoluteFillObject),{},{backgroundColor:c}),f],numColumns:1,ListHeaderComponent:(0,Z.jsx)(Re,{num:s.length}),showsVerticalScrollIndicator:!1,contentContainerStyle:De.contentContainer,data:s,renderItem:u,keyExtractor:d}):null};Le.displayName="WebTabGrid";const We=Le;var Fe={code:"function anonymous(){const{containerHeight,hasTabs,interpolate,expandAnim,MIN_OR_HIDE,MAX_OR_SHOW}=this._closure;return{opacity:containerHeight>0?1:0,zIndex:containerHeight>0&&hasTabs?1:-1,transform:[{translateY:interpolate(expandAnim.value,[MIN_OR_HIDE,MAX_OR_SHOW],[containerHeight-48,0])}]};}",location:"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discover/Explorer/Mobile/FloatingContainer.tsx"},He={code:"function anonymous(){const{targetPreviewWidth,targetPreviewHeight,targetPreviewX,screenWidth,targetPreviewY,containerHeight,top,showTabGridAnim,MAX_OR_SHOW,interpolate,screenHeight}=this._closure;const targetWidth=targetPreviewWidth.value;const targetHeight=targetPreviewHeight.value;const offsetX=targetPreviewX.value-(screenWidth-targetWidth)/2;const offsetY=targetPreviewY.value-(containerHeight-targetHeight)/2-top;return{opacity:1-showTabGridAnim.value,zIndex:showTabGridAnim.value===MAX_OR_SHOW?-1:1,display:showTabGridAnim.value===MAX_OR_SHOW?'none':'flex',transform:[{translateX:interpolate(showTabGridAnim.value,[0,1],[0,offsetX])},{translateY:interpolate(showTabGridAnim.value,[0,1],[0,offsetY])},{scaleX:interpolate(showTabGridAnim.value,[0,1],[1,targetWidth/screenWidth])},{scaleY:interpolate(showTabGridAnim.value,[0,1],[1,targetHeight/(containerHeight||screenHeight)])}]};}",location:"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discover/Explorer/Mobile/FloatingContainer.tsx"},ze=function(e){var t=e.beforeMaximize,n=e.afterMaximize,l=e.beforeMinimize,s=e.afterMinimize,u=e.onSearch,d=(0,w.useWebTabs)(),c=d.tabs,f=d.tab,k=c.length>1,_=(0,i.useRef)(c.length),O=(0,i.useState)(0),I=(0,o.default)(O,2),S=I[0],T=I[1],C=(0,i.useState)(!1),M=(0,o.default)(C,2),P=M[0],A=M[1],D=(0,a.useSafeAreaInsets)().top,R=(0,i.useCallback)((function(){(0,p.hideTabGrid)(),P||A(!0),null==t||t()}),[t,P]),E=(0,i.useCallback)((function(){P&&A(!1),null==s||s()}),[s,P]);(0,j.default)((0,i.useCallback)((function(){return p.expandAnim.value!==p.MIN_OR_HIDE&&((0,p.minimizeFloatingWindow)({before:l}),!0)}),[l])),(0,i.useEffect)((function(){var e=c.length>_.current;_.current=c.length,e&&p.expandAnim.value===p.MIN_OR_HIDE?(R(),setTimeout((function(){(0,p.expandFloatingWindow)({after:n})}),100)):1===c.length&&((0,p.hideTabGrid)(),(0,p.minimizeFloatingWindow)({before:l}))}),[c.length,R]);var B=(0,x.default)(),N=B.height,L=B.width,W=(0,i.useCallback)((function(e){var t=e.nativeEvent.layout.height;return T(t)}),[]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(g.default,{style:[h.default.absoluteFill,(0,b.useAnimatedStyle)(function(){var e=function(){return{opacity:S>0?1:0,zIndex:S>0&&k?1:-1,transform:[{translateY:(0,v.interpolate)(p.expandAnim.value,[p.MIN_OR_HIDE,p.MAX_OR_SHOW],[S-48,0])}]}};return e._closure={containerHeight:S,hasTabs:k,interpolate:v.interpolate,expandAnim:p.expandAnim,MIN_OR_HIDE:p.MIN_OR_HIDE,MAX_OR_SHOW:p.MAX_OR_SHOW},e.__initData=Fe,e.__workletHash=0xa7be659de7e,e}(),[S,k])],onLayout:W,children:[(0,Z.jsx)(g.default,{style:[h.default.absoluteFill,(0,b.useAnimatedStyle)(function(){var e=function(){var e=p.targetPreviewWidth.value,t=p.targetPreviewHeight.value,n=p.targetPreviewX.value-(L-e)/2,r=p.targetPreviewY.value-(S-t)/2-D;return{opacity:1-p.showTabGridAnim.value,zIndex:p.showTabGridAnim.value===p.MAX_OR_SHOW?-1:1,display:p.showTabGridAnim.value===p.MAX_OR_SHOW?"none":"flex",transform:[{translateX:(0,v.interpolate)(p.showTabGridAnim.value,[0,1],[0,n])},{translateY:(0,v.interpolate)(p.showTabGridAnim.value,[0,1],[0,r])},{scaleX:(0,v.interpolate)(p.showTabGridAnim.value,[0,1],[1,e/L])},{scaleY:(0,v.interpolate)(p.showTabGridAnim.value,[0,1],[1,t/(S||N)])}]}};return e._closure={targetPreviewWidth:p.targetPreviewWidth,targetPreviewHeight:p.targetPreviewHeight,targetPreviewX:p.targetPreviewX,screenWidth:L,targetPreviewY:p.targetPreviewY,containerHeight:S,top:D,showTabGridAnim:p.showTabGridAnim,MAX_OR_SHOW:p.MAX_OR_SHOW,interpolate:v.interpolate,screenHeight:N},e.__initData=He,e.__workletHash=0xe715944a96b,e}(),[S,L,N,D])],children:(0,Z.jsxs)(r.default,{flex:1,bg:"background-default",children:[(0,Z.jsx)(m.default,{h:"56px",onPress:function(){(0,p.toggleFloatingWindow)({beforeMinimize:l,afterMaximize:n,beforeMaximize:R,afterMinimize:E})},children:(0,Z.jsx)(xe,{favicon:null==f?void 0:f.favicon,text:null==f?void 0:f.title,onSearch:u})}),(0,Z.jsx)(y.default,{freeze:!P,children:(0,Z.jsx)(Ie,{})})]})}),(0,Z.jsx)(We,{},String(k))]}),(0,Z.jsx)(se,{})]})};ze.displayName="FloatingContainer";const Ue=function(){var e=(0,a.useSafeAreaInsets)().top,t=(0,f.useIncomingUrl)().handleIncomingUrl,n=(0,i.useState)(!1),m=(0,o.default)(n,2),h=m[0],x=m[1],g=(0,i.useState)(!0),b=(0,o.default)(g,2),v=b[0],y=b[1],j=(0,i.useCallback)((function(){return y(!0)}),[]),w=(0,s.useIsFocusedAllInOne)({rootTabName:u.TabRoutes.Discover}),k=w.isFocused,_=w.rootTabFocused,O=k||_;(0,i.useEffect)((function(){O?h?t():setTimeout((function(){x(!0),t()}),100):(0,p.minimizeFloatingWindow)({before:j})}),[j,t,O,h]);(0,d.useExplorerSearch)();return(0,Z.jsxs)(r.default,{flex:"1",bg:"background-default",mt:`${e}px`,children:[(0,Z.jsx)(l.Freeze,{freeze:!v,children:(0,Z.jsx)(c.default,{alwaysOpenNewWindow:!0})}),h&&false]})}},303858:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>T});var r=n(208593),o=n(561220),a=n(470310),i=n(10918),l=n(866904),s=n(196234),u=n(18861),d=n(321668),c=n(202784),f=n(550580),p=n(553197),m=n(783112),h=n(13334),x=n(25655),g=n(600795),b=n(501240),v=n(859071),y=n(481047),j=n(287595),w=n(559306),k=n(238859),_=n(718739),O=n(552322),I=function(){var e=(0,m.default)(),t=(0,v.useNavigation)(),n=(0,c.useCallback)((function(){t.navigate(y.RootRoutes.Modal,{screen:y.ModalRoutes.Discover,params:{screen:_.DiscoverModalRoutes.History}})}),[t]);return(0,O.jsx)(u.default,{px:"3",pb:"3",children:(0,O.jsx)(d.default,{type:"basic",onPress:n,children:e.formatMessage({id:"action__view_all_history"})})})},S=(0,c.forwardRef)((function(e,t){var n=e.visible,d=e.searchContent,y=void 0===d?"":d,_=e.relativeComponent,S=e.onSelectorItem,T=e.onHoverItem,C=(0,m.default)(),M=(0,c.useState)(),P=(0,s.default)(M,2),A=P[0],D=P[1],R=(0,v.useDebounce)(null!=y?y:"",150),E=(0,c.useRef)(null),B=(0,c.useRef)(null),N=(0,k.useSearchDapps)(R,y).searchedDapps,L=(0,w.useUserBrowserHistories)(),W=(0,c.useMemo)((function(){return R?N:L.slice(0,8)}),[R,L,N]),F=!R&&L.length,H=(0,c.useMemo)((function(){return W}),[W]),z=(0,h.default)(),U=(0,c.useMemo)((function(){return.6*z.height}),[z]),V=(0,g.default)({name:"SelectSearch",visible:n}).domId,$=(0,b.useDropdownPosition)({triggerEle:_,contentRef:E,visible:!0,dropdownPosition:"right",translateY:9,setPositionOnlyMounted:!1,autoAdjust:!0}),G=$.position,q=$.toPxPositionValue,X=$.triggerWidth,Y=function(e){if("ArrowDown"===e)void 0!==A&&A<H.length-1?D(A+1):void 0===A&&D(0);else if("ArrowUp"===e)void 0!==A&&A>0?D(A-1):0===A&&D(void 0);else{if("Enter"!==e)return!1;if(void 0===A||!H.length)return!1;var t=H[A];null==S||S(t)}return!0};return(0,c.useEffect)((function(){D(void 0)}),[y]),(0,c.useEffect)((function(){if(void 0!==A){var e,t=H[A];null==T||T(t),null==B||null==(e=B.current)||e.scrollToIndex({index:A,viewOffset:U/2})}}),[A]),(0,c.useImperativeHandle)(t,(function(){return{onKeyPress:Y}})),(0,O.jsx)(r.default,{children:(0,O.jsx)(f.AnimatePresence,{children:n&&(0,O.jsx)(p.View,{from:{opacity:0,translateY:0},animate:{opacity:1,translateY:9},transition:{type:"timing",duration:150},exit:{opacity:0,translateY:0},children:(0,O.jsx)(u.default,{ref:E,maxH:q(U),nativeID:V,position:"absolute",width:X?q(X+35):"full",left:q(G.left),right:q(G.right),top:q(G.top),borderRadius:"12",bg:"surface-default",borderColor:"border-subdued",borderWidth:H.length>0?"1px":"0px",shadow:"depth.3",overflow:"hidden",children:(0,O.jsx)(x.FlatListRef,{ref:B,data:H,renderItem:function(e){var t,n,r,s,u,d,c=e.item,f=e.index,p=(null==(t=c.dapp)?void 0:t.name)||(null==(n=c.webSite)?void 0:n.title)||"",m=(null==(r=c.dapp)?void 0:r.url)||(null==(s=c.webSite)?void 0:s.url)||"",h=(null==(u=c.dapp)?void 0:u.logoURL)||(null==(d=c.webSite)?void 0:d.favicon)||"";return(0,O.jsx)(o.default.Item,{focusable:A===f,px:3,py:2,borderColor:A===f?"border-success-subdued":"surface-default",borderWidth:1,borderRadius:12,onPress:function(){null==S||S(c)},children:(0,O.jsxs)(a.default,{space:3,w:"100%",alignItems:"center",children:[h?(0,O.jsx)(j.default,{size:24,url:h}):(0,O.jsx)(j.FallbackIcon,{size:24}),(0,O.jsx)(l.default,{flexWrap:"wrap",typography:{sm:"Body1Strong",md:"Body2Strong"},children:function(){var e=p||"Unknown";return e.length>24?`${e.slice(0,24)}...`:e}()}),(0,O.jsx)(i.default.Body2,{flex:1,numberOfLines:1,color:"text-subdued",children:m})]})})},keyboardShouldPersistTaps:"handled",ListHeaderComponent:H.length>0?(0,O.jsx)(u.default,{p:3,children:(0,O.jsx)(i.default.Subheading,{color:"text-subdued",children:C.formatMessage({id:R?"title__search_results":"transaction__history"})})}):null,ListFooterComponent:F?(0,O.jsx)(I,{}):null,keyExtractor:function(e){return e.id},showsVerticalScrollIndicator:!1})})})})})}));S.displayName="SearchView";const T=S},702573:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Desktop:()=>k});var r=n(18861),o=n(202784),a=n(156236),i=n(657861),l=n(825031),s=n(795116),u=n(225447),d=n(561220),c=n(10918),f=n(170766),p=n(634795),m=n(196234),h=n(329503),x=n(783112);const g=n.p+"static/media/header_bg.be6c66b54924886ea725.png";var b=n(998056),v=n(303858),y=n(552322),j=function(){var e=(0,x.default)(),t=(0,o.useRef)(null),n=(0,o.useRef)(null),a=(0,o.useState)(""),i=(0,m.default)(a,2),s=i[0],u=i[1],g=(0,o.useState)(!1),j=(0,m.default)(g,2),w=j[0],k=j[1],_=(0,o.useCallback)((0,p.default)((function*(){s&&(k(!1),yield(0,h.wait)(200),(0,b.gotoSite)({url:s,userTriggered:!0}),setTimeout((function(){u("")}),100))})),[s]),O=function(e){var t;return null==(t=n.current)?void 0:t.onKeyPress(e)},I=(0,o.useCallback)(function(){var e=(0,p.default)((function*(e){"string"===typeof e?(0,b.gotoSite)({url:e,userTriggered:!0}):(0,b.openMatchDApp)(e),k(!1),yield(0,h.wait)(200),setTimeout((function(){u("")}),100)}));return function(t){return e.apply(this,arguments)}}(),[]);return(0,o.useEffect)((function(){var e=function(){var e;k(!1),null==(e=t.current)||null==e.blur||e.blur()};return l.discoverUIEventBus.on("scroll",e),function(){l.discoverUIEventBus.off("scroll",e)}}),[]),(0,y.jsxs)(r.default,{position:"relative",children:[(0,y.jsxs)(r.default,{position:"relative",children:[(0,y.jsx)(f.default,{size:"xl",w:"full",placeholder:e.formatMessage({id:"content__search_dapps_or_type_url"}),bgColor:"white",color:"#000",leftIconName:"SearchOutline",value:s,onChangeText:u,onSubmitEditing:_,onFocus:function(){return k(!0)},onBlur:function(){return setTimeout((function(){return k(!1)}),200)},ref:t,pr:"80px",onKeyPress:function(e){var t=e.nativeEvent.key;"ArrowUp"!==t&&"ArrowDown"!==t&&"Enter"!==t||null!=O&&O(t)&&e.preventDefault()}}),(0,y.jsx)(r.default,{position:"absolute",right:"0",top:"0",children:(0,y.jsx)(r.default,{h:"12",w:"72px",p:"2",children:(0,y.jsx)(d.default,{w:"full",h:"full",borderRadius:12,bgColor:"#000",justifyContent:"center",alignItems:"center",onPress:_,_hover:{bgColor:"#222"},children:(0,y.jsx)(c.default.Button2,{color:"#fff",children:e.formatMessage({id:"action__go"})})})})})]}),w?(0,y.jsx)(v.default,{ref:n,visible:w,relativeComponent:t.current,onSearchContentChange:u,searchContent:s,onSelectorItem:function(e){k(!1),setTimeout((function(){var n;I(e),null==(n=t.current)||null==n.blur||n.blur()}),100)}}):null]})},w=function(){var e=(0,x.default)();return(0,y.jsx)(r.default,{pb:"8",px:"4",children:(0,y.jsxs)(r.default,{width:"full",h:"220px",borderRadius:12,overflow:"hidden",position:"relative",children:[(0,y.jsx)(u.default,{source:g,w:"full",h:"full"}),(0,y.jsxs)(s.default,{position:"absolute",w:"full",h:"full",children:[(0,y.jsx)(c.default.PageHeading,{color:"#fff",fontSize:36,lineHeight:50,children:e.formatMessage({id:"title__discover_dapps"})}),(0,y.jsx)(r.default,{w:"4/5",mt:"6",children:(0,y.jsx)(j,{})}),(0,y.jsx)(c.default.Body2,{color:"text-subdued",mt:"4",children:e.formatMessage({id:"form__explore_web3_world_with_onekey_a_safer_and_simpler_way"})})]})]})})},k=function(){var e=(0,o.useRef)(null);(0,i.usePressTagEffect)({ref:e});var t=(0,i.useTabConfig)(),n=(0,i.useOnTabChange)(),s=(0,o.useCallback)((function(){l.discoverUIEventBus.emit("scroll")}),[]);return(0,y.jsx)(r.default,{flex:"1",flexDirection:"column",bg:"background-default",alignItems:"center",py:"8",children:(0,y.jsx)(r.default,{flex:"1",w:"full",maxW:"998px",children:(0,y.jsx)(a.Tabs.Container,{headerHeight:114,stickyTabBar:!0,onIndexChange:n,headerView:(0,y.jsx)(w,{}),ref:e,onScroll:s,children:t.map((function(e){return(0,y.jsx)(a.Tabs.Tab,{name:e.name,label:e.label,children:(0,y.jsx)(a.Tabs.ScrollView,{children:e.component})},e.name)}))})})})}},589510:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Mobile:()=>y});var r=n(18861),o=n(202784),a=n(156236),i=(n(213208),n(657861)),l=n(433996),s=n(561220),u=n(10918),d=n(435581),c=n(783112),f=n(859071),p=n(481047),m=n(249831),h=n(670911),x=n(718739),g=n(552322),b=function(e){var t=e.onSearch,n=(0,c.default)();return(0,g.jsxs)(r.default,{h:"42px",bg:"action-secondary-default",flexDirection:"row",alignItems:"center",borderColor:"border-default",borderWidth:"1px",borderRadius:"12px",children:[(0,g.jsxs)(s.default,{px:"13px",py:"13px",onPress:t,flex:1,flexDirection:"row",alignItems:"center",children:[(0,g.jsx)(d.default,{name:"MagnifyingGlassMini",size:20,color:"icon-subdued"}),(0,g.jsx)(u.default.Body2,{flex:1,h:"full",color:"text-subdued",numberOfLines:1,ml:"13px",children:n.formatMessage({id:"content__search_dapps_or_type_url"})})]}),(0,g.jsx)(s.default,{h:"42px",justifyContent:"center",alignItems:"center",px:"15px",onPress:function(){(0,m.gotoScanQrcode)()},children:(0,g.jsx)(d.default,{name:"ViewfinderCircleMini",size:20,color:"icon-subdued"})})]})},v=function(){var e=(0,c.default)(),t=(0,h.useExplorerSearch)(),n=(0,f.useNavigation)(),a=(0,o.useCallback)((function(){n.navigate(p.RootRoutes.Modal,{screen:p.ModalRoutes.Discover,params:{screen:x.DiscoverModalRoutes.History}})}),[n]);return(0,g.jsxs)(r.default,{px:"4",py:"3",background:"background-default",children:[(0,g.jsxs)(r.default,{flexDirection:"row",bg:"background-default",justifyContent:"space-between",alignItems:"center",children:[(0,g.jsx)(u.default.PageHeading,{children:e.formatMessage({id:"form__explore"})}),(0,g.jsx)(l.default,{name:"ClockOutline",type:"plain",onPress:a})]}),(0,g.jsx)(r.default,{h:"3"}),(0,g.jsx)(b,{onSearch:function(){return t({isNewWindow:!0,defaultUrl:""})}})]})},y=function(){var e=(0,o.useRef)(null);(0,i.usePressTagEffect)({ref:e});var t=(0,i.useTabConfig)(),n=(0,i.useOnTabChange)(),l=(0,o.useMemo)((function(){return{flex:1}}),[]),s=(0,o.useMemo)((function(){}),[]);return(0,g.jsx)(r.default,{flex:"1",bg:"background-default",children:(0,g.jsx)(a.Tabs.Container,{headerHeight:114,stickyTabBar:!0,onIndexChange:n,headerView:(0,g.jsx)(v,{}),containerStyle:l,disableRefresh:!0,ref:e,children:t.map((function(e){return(0,g.jsx)(a.Tabs.Tab,{name:e.name,label:e.label,children:(0,g.jsx)(a.Tabs.ScrollView,{contentContainerStyle:s,children:e.component})},e.name)}))})})}},657861:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useOnTabChange:()=>je,usePressTagEffect:()=>we,useTabConfig:()=>ye});var r=n(202784),o=n(783112),a=n(207040),i=n(590478),l=n(825031),s=n(196234),u=n(18861),d=n(510374),c=n(849877),f=n(47256),p=n(538732),m=n(552322),h=function(){var e=(0,r.useContext)(i.DiscoverContext),t=e.categoryId,n=e.setCategoryId,o=e.categories,a=(0,r.useMemo)((function(){var e=o.findIndex((function(e){return e.id===t}));return Math.max(0,e)}),[o,t]),l=(0,r.useCallback)((function(e){var t=o[e].id;n(t)}),[o,n]),s=(0,r.useMemo)((function(){return o.map((function(e){return{text:e.name}}),[])}),[o]);return o.length?(0,m.jsx)(p.default,{px:"4",buttons:s,selectedIndex:a,onButtonPress:l,bg:"background-default"}):null},x=n(10918),g=n(795116),b=n(38814),v=n(287595),y=n(998056),j=n(93586),w=n.n(j),k=n(527984),_=n(539144),O=n(254073),I=n.n(O),S=(0,r.createContext)({}),T=function(e){var t=e.children,n=(0,r.useState)({}),o=(0,s.default)(n,2),a=o[0],i=o[1],l=(0,r.useCallback)(I()(i,500,{trailing:!0}),[]),d=(0,r.useCallback)((function(e){var t=e.nativeEvent.layout.width;l({fullwidth:t})}),[l]);return(0,m.jsxs)(u.default,{children:[(0,m.jsx)(u.default,{onLayout:d}),(0,m.jsx)(S.Provider,{value:a,children:t})]})},C=(0,r.createContext)({}),M=function(e){var t=e.children,n=(0,_.default)(),o=(0,r.useContext)(C).width;return n?(0,m.jsx)(u.default,{children:t}):(0,m.jsx)(u.default,{minW:"280px",maxW:"360px",width:o?`${o}px`:void 0,mb:o?"4":void 0,children:t})},P=function(e){var t=e.children,n=e.space,o=(0,r.useMemo)((function(){return{width:0}}),[]);return(0,m.jsx)(C.Provider,{value:o,children:(0,m.jsx)(k.default,{direction:"column",space:n,children:t})})},A=function(e){var t=e.children,n=e.space,o=e.offset,a=(0,r.useContext)(S).fullwidth,i=(0,r.useMemo)((function(){var e={};if(!a)return e;for(var t=6;t>=2;t-=1){var r=a-4*n*(t-1);void 0!==o&&(r+=o);var i=Math.ceil(r/t);if(i>=280&&i<=360||2===t)return e={width:i,num:t}}return e}),[a,o,n]),l=(0,r.useMemo)((function(){if(!i.num)return(0,m.jsx)(k.default,{direction:"row",space:n,w:"full",children:t});var e=w()(r.Children.toArray(t),i.num);return(0,m.jsx)(u.default,{children:e.map((function(e,t){return(0,m.jsx)(k.default,{direction:"row",space:n,w:"full",children:e},t)}))})}),[i,n,t]);return(0,m.jsx)(C.Provider,{value:i,children:l})},D=function(e){var t=e.children,n=e.space,r=e.offset;return(0,_.default)()?(0,m.jsx)(P,{space:n,offset:r,children:t}):(0,m.jsx)(A,{space:n,offset:r,children:t})},R=n(709267),E=function(e){e.dappId?(0,y.openMatchDApp)({id:e.dappId,dapp:{_id:e.dappId,name:e.title,logoURL:e.logoURI,url:e.url,subtitle:e.description||"",networkIds:e.networkIds||[]},isNewWindow:!0}):(0,y.openMatchDApp)({id:e.url,webSite:{url:e.url,favicon:e.logoURI,title:e.title},isNewWindow:!0})},B=function(e){var t=e.title,n=e.description,o=e.logoURI,a=e.networkIds,i=(0,r.useCallback)((function(){E(e)}),[e]);return(0,m.jsxs)(R.Pressable,{p:"4",w:"152px",h:"204",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:12,borderWidth:.5,borderColor:"border-subdued",_hover:{bgColor:"surface-hovered"},_pressed:{bgColor:"surface-pressed"},onPress:i,children:[(0,m.jsx)(g.default,{mb:"4",children:(0,m.jsx)(v.default,{url:o,size:48})}),(0,m.jsx)(x.default.Body2Strong,{textAlign:"center",numberOfLines:1,children:t}),(0,m.jsx)(u.default,{pt:"1",pb:"4",children:(0,m.jsx)(b.NetworkIconGroup,{networkIds:null!=a?a:[]})}),(0,m.jsx)(u.default,{flex:"1",w:"full",children:(0,m.jsx)(x.default.Caption,{w:"full",numberOfLines:3,textAlign:"center",color:"text-subdued",children:null!=n?n:""})})]})},N=function(e){var t=e.title,n=e.description,o=e.logoURI,a=e.networkIds,i=e.rightElement,l=(0,r.useCallback)((function(){E(e)}),[e]);return(0,m.jsx)(M,{children:(0,m.jsxs)(R.Pressable,{w:"full",flexDirection:"row",_hover:{bgColor:"surface-hovered"},_pressed:{bgColor:"surface-pressed"},p:"2",borderRadius:12,onPress:l,justifyContent:"space-between",alignItems:"center",children:[(0,m.jsxs)(u.default,{flex:"1",flexDirection:"row",children:[(0,m.jsx)(u.default,{mr:"4",children:(0,m.jsx)(v.default,{url:o,size:48})}),(0,m.jsxs)(u.default,{flex:"1",children:[(0,m.jsx)(x.default.Body1Strong,{numberOfLines:1,children:t}),(0,m.jsx)(x.default.Body2,{color:"text-subdued",numberOfLines:2,children:n}),(0,m.jsx)(b.NetworkIconGroup,{networkIds:null!=a?a:[]})]})]}),(0,m.jsx)(u.default,{children:i})]})})},L=n(529710),W=(0,r.memo)((function(){return(0,m.jsx)(u.default,{py:"2",children:[1,2,3,4].map((function(e){return(0,m.jsxs)(u.default,{px:"4",w:"full",flexDirection:"row",alignItems:"center",mb:"4",children:[(0,m.jsx)(u.default,{mr:"3",children:(0,m.jsx)(u.default,{w:"12",h:"12",borderRadius:12,overflow:"hidden",children:(0,m.jsx)(L.default,{})})}),(0,m.jsxs)(u.default,{flex:"1",children:[(0,m.jsx)(u.default,{h:"4",borderRadius:8,mb:"3",overflow:"hidden",children:(0,m.jsx)(L.default,{})}),(0,m.jsx)(u.default,{h:"3",borderRadius:6,overflow:"hidden",width:"70%",children:(0,m.jsx)(L.default,{})})]})]},e)}))})})),F=n(321668),H=n(225447),z=n(481047),U=n(859071),V=n(493877),$=n(718739),G=function(e){var t=e.networkIds,n=e.networkId,o=e.onItemSelect,a=(0,U.useNetwork)({networkId:n}).network,i=(0,r.useCallback)((function(e){null==o||o(e)}),[o]);return(0,m.jsx)(F.default,{onPress:function(){(0,V.getAppNavigation)().navigate(z.RootRoutes.Modal,{screen:z.ModalRoutes.Discover,params:{screen:$.DiscoverModalRoutes.ChainSelector,params:{currentNetworkId:n,networkIds:t,onSelect:i}}})},height:"32px",type:"plain",size:"sm",rightIconName:"ChevronDownMini",textProps:{color:"text-subdued"},leftIcon:(0,m.jsx)(H.default,{size:"6",src:null==a?void 0:a.logoURI}),children:(null==a?void 0:a.name)||"All Network"})},q=function(e){var t=e.loading,n=e.data,a=e.networkId,i=(0,o.default)(),l=(0,r.useContext)(S).fullwidth;return t||!l?(0,m.jsx)(W,{}):0!==n.length||(0,c.isAllNetworks)(a)?(0,m.jsx)(D,{space:2,offset:-32,children:n.map((function(e){return(0,m.jsx)(f.default,{url:e.url,hoverButtonProps:{right:"8px",top:"8px"},children:(0,m.jsx)(N,{logoURI:e.logoURL,title:e.name,description:e.subtitle,networkIds:e.networkIds,url:e.url,dappId:e._id})},e._id)}))}):(0,m.jsx)(u.default,{w:"full",children:(0,m.jsx)(d.default,{title:i.formatMessage({id:"empty__no_dapp"}),subTitle:i.formatMessage({id:"empty__no_dapp_desc"}),emoji:"\ud83e\udd37\u200d\u2642\ufe0f"})})},X=function(){var e=(0,i.useContextCategoryDapps)(),t=e.data,n=e.loading,o=(0,r.useState)("all--0"),a=(0,s.default)(o,2),l=a[0],d=a[1],f=(0,r.useMemo)((function(){return t.reduce((function(e,t){return Array.from(new Set(e.concat(t.networkIds)))}),[])}),[t]),p=(0,r.useMemo)((function(){return(0,c.isAllNetworks)(l)?t:t.filter((function(e){return e.networkIds.includes(l)}))}),[l,t]);return t?(0,m.jsxs)(u.default,{children:[(0,m.jsx)(u.default,{px:"2",pb:"2",flexDirection:"row",justifyContent:"space-between",children:(0,m.jsx)(G,{networkIds:f,networkId:l,onItemSelect:d})}),(0,m.jsx)(u.default,{py:"2",px:"4",children:(0,m.jsx)(q,{data:p,networkId:l,loading:n})})]}):(0,m.jsx)(W,{})},Y=function(){return(0,m.jsx)(T,{children:(0,m.jsxs)(u.default,{children:[(0,m.jsx)(u.default,{py:"4",children:(0,m.jsx)(h,{})}),(0,m.jsx)(X,{})]})})},Q=n(433996),K=n(221500),Z=n(559306),J=n(951518),ee=function(e){var t=e.item;return(0,m.jsx)(u.default,{flexDirection:"column",justifyContent:"center",children:(0,m.jsx)(K.default,{isFav:!0,item:t,children:(0,m.jsx)(Q.default,{type:"plain",name:"EllipsisVerticalOutline",size:"sm"})})})},te=function(){var e=(0,o.default)();return(0,m.jsx)(u.default,{py:"10",children:(0,m.jsx)(d.default,{emoji:"\u2b50\ufe0f",title:e.formatMessage({id:"title__no_favorite_dapp"}),subTitle:e.formatMessage({id:"title__no_favorite_dapp_desc"})})})},ne=function(){var e=(0,Z.useDiscoverFavorites)();return(0,r.useContext)(S).fullwidth?e.length?(0,m.jsx)(u.default,{py:"4",px:"4",children:(0,m.jsx)(D,{space:2,offset:-32,children:e.map((function(e){var t=(0,J.convertMatchDAppItemType)(e);return(0,m.jsx)(N,{title:t.name||"Unknown",description:t.subtitle,networkIds:t.networkIds,logoURI:t.logoURL,url:t.url,rightElement:(0,m.jsx)(ee,{item:e})},e.id)}))})}):(0,m.jsx)(te,{}):(0,m.jsx)(u.default,{mt:"2",children:(0,m.jsx)(W,{})})},re=function(){return(0,m.jsx)(T,{children:(0,m.jsx)(ne,{})})},oe=n(561220),ae=n(435581),ie=n(758248),le=function(e){var t=e.title,n=e.description,o=e.image,a=e.url,i=(0,r.useCallback)((function(){(0,y.openMatchDApp)({id:a,webSite:{url:a,title:t},isNewWindow:!0})}),[a,t]);return(0,m.jsxs)(R.Pressable,{onPress:i,width:"320px",h:"215px",borderColor:"border-subdued",borderWidth:.5,borderRadius:12,flexDirection:"column",overflow:"hidden",_hover:{bgColor:"surface-hovered"},_pressed:{bgColor:"surface-pressed"},children:[(0,m.jsx)(u.default,{w:"full",h:"140px",bg:"surface-default",children:o?(0,m.jsx)(H.default,{src:o,width:"100%",height:"100%"}):null}),(0,m.jsx)(u.default,{w:"full",flex:"1",px:"4",justifyContent:"center",alignItems:"center",children:(0,m.jsxs)(u.default,{w:"full",children:[(0,m.jsx)(x.default.Body1Strong,{numberOfLines:1,children:t}),(0,m.jsx)(x.default.Body2,{color:"text-subdued",numberOfLines:2,children:n})]})})]})},se=n(472719),ue=(n(213208),function(e){var t=e.title,n=e.tagId,a=(0,o.default)(),l=(0,se.useNavigation)(),s=(0,r.useContext)(i.DiscoverContext).onItemSelect,u=(0,r.useCallback)((function(e){null==s||s(e),(0,V.getAppNavigation)().goBack()}),[s]);return(0,m.jsx)(F.default,{onPress:function(){l.navigate(z.HomeRoutes.DAppListScreen,{tagId:n||"",title:t,onItemSelect:u})},height:"32px",type:"plain",size:"sm",rightIconName:"ChevronRightMini",textProps:{color:"text-subdued"},children:a.formatMessage({id:"action__see_all"})})}),de=function(){var e=(0,i.useBanners)(),t=(0,_.default)();return e.length?(0,m.jsx)(u.default,{w:"full",py:"4",pl:"4",pr:t?void 0:"4",children:(0,m.jsx)(ie.default,{justifyContent:"center",bg:"transparent",leftButtonProps:{size:"base",type:"basic",ml:"16px"},rightButtonProps:{size:"base",type:"basic",mr:"16px"},children:e.map((function(n,r){return(0,m.jsx)(u.default,{pr:t||r!==e.length-1?"4":void 0,children:(0,m.jsx)(le,{title:n.title,description:n.description,image:n.logoURL,url:n.url},n._id)})}))})}):null},ce=function(e){var t=e.title,n=e.id;return(0,m.jsxs)(u.default,{w:"full",justifyContent:"space-between",flexDirection:"row",py:"2",children:[(0,m.jsx)(x.default.Heading,{children:t}),(0,m.jsx)(ue,{title:t,tagId:n})]})},fe=function(e){var t=e.data;return(0,m.jsxs)(u.default,{children:[(0,m.jsx)(u.default,{px:"4",children:(0,m.jsx)(ce,{title:t.label,id:t.id})}),(0,m.jsx)(u.default,{px:"4",children:(0,m.jsx)(D,{space:4,offset:-32,children:t.items.map((function(e){return(0,m.jsx)(f.default,{url:e.url,hoverButtonProps:{right:"8px",top:"8px"},children:(0,m.jsx)(N,{title:e.name,logoURI:e.logoURL,description:e.subtitle,networkIds:e.networkIds,url:e.url})},e._id)}))})})]})},pe=function(e){var t=e.data;return t.items&&0!==t.items.length?(0,m.jsxs)(u.default,{pb:"4",children:[(0,m.jsx)(u.default,{px:"4",children:(0,m.jsx)(ce,{title:t.label,id:t.id})}),(0,m.jsx)(u.default,{children:(0,m.jsx)(ie.default,{justifyContent:"center",bg:"transparent",leftButtonProps:{size:"base",type:"basic",ml:"16px"},rightButtonProps:{size:"base",type:"basic",mr:"16px"},pl:"4",children:t.items.map((function(e){return(0,m.jsx)(u.default,{mr:"3",children:(0,m.jsx)(f.default,{url:e.url,hoverButtonProps:{right:"8px",top:"8px"},children:(0,m.jsx)(B,{title:e.name,logoURI:e.logoURL,description:e.subtitle,networkIds:e.networkIds,url:e.url})})},e._id)}))})})]}):null},me=function(e){var t=e.item,n=(0,r.useCallback)((function(){l.discoverUIEventBus.emit("pressTag",t)}),[t]);return(0,m.jsxs)(oe.default,{py:"1",px:"2.5",borderRadius:"full",bg:"surface-neutral-subdued",mr:"2",mb:"2",flexDirection:"row",_hover:{bg:"surface-neutral-hovered"},_pressed:{bg:"surface-neutral-pressed"},onPress:n,children:[(0,m.jsx)(u.default,{mr:.5,children:(0,m.jsx)(ae.default,{name:"HashtagMini",size:20,color:"icon-success"})}),(0,m.jsx)(x.default.Body2Strong,{children:t.name})]})},he=function(){var e=(0,r.useContext)(i.DiscoverContext).categories,t=(0,o.default)();return(0,m.jsxs)(u.default,{mt:"4",px:"4",children:[(0,m.jsx)(u.default,{children:(0,m.jsx)(x.default.Heading,{children:t.formatMessage({id:"form__all_tags"})})}),(0,m.jsx)(u.default,{flexDirection:"row",mt:"4",w:"full",flexWrap:"wrap",children:e.map((function(e){return(0,m.jsx)(me,{item:e},e.id)}))})]})},xe=function(){var e=(0,i.useGroupDapps)(),t=(0,r.useContext)(S).fullwidth;return 0!==e.length&&t?(0,m.jsxs)(u.default,{w:"full",pb:"2",children:[(0,m.jsx)(de,{}),(0,m.jsx)(u.default,{children:e.map((function(e,t){return t%2===0?(0,m.jsx)(fe,{data:e},e.label):(0,m.jsx)(pe,{data:e},e.label)}))}),(0,m.jsx)(he,{})]}):(0,m.jsx)(u.default,{py:"2",children:(0,m.jsx)(W,{})})},ge=function(){return(0,m.jsx)(T,{children:(0,m.jsx)(xe,{})})},be=n(571254);function ve(e){return e.toUpperCase()}var ye=function(){var e=(0,o.default)(),t=(0,a.useShowBookmark)();return(0,r.useMemo)((function(){return[{name:be.TabName.Featured,label:ve(e.formatMessage({id:"form__featured_uppercase"})),component:(0,m.jsx)(ge,{}),hide:!t},{name:be.TabName.Explore,label:ve(e.formatMessage({id:"form__explore"})),component:(0,m.jsx)(Y,{}),hide:!t},{name:be.TabName.Favorites,label:ve(e.formatMessage({id:"title__favorites"})),component:(0,m.jsx)(re,{})}].filter((function(e){return!e.hide}))}),[t,e])},je=function(){var e=(0,r.useContext)(i.DiscoverContext).setTabName,t=ye();return(0,r.useCallback)((function(n){var r=t[n];null==e||e(r.name)}),[t,e])},we=function(e){var t=e.ref,n=(0,r.useContext)(i.DiscoverContext).setCategoryId;(0,r.useEffect)((function(){var e=function(e){t.current&&(n(e.id),t.current.setPageIndex(1))};return l.discoverUIEventBus.on("pressTag",e),function(){l.discoverUIEventBus.off("pressTag",e)}}),[t])}},590478:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DiscoverContext:()=>o,useBanners:()=>l,useCategories:()=>s,useContextCategoryDapps:()=>a,useGroupDapps:()=>i});var r=n(202784),o=(0,r.createContext)({groupDapps:[],setGroupDapps:function(){},banners:[],setBanners:function(){},dapps:{},setDapps:function(){},categoryId:"",setCategoryId:function(){},categories:[],setCategories:function(){},onItemSelect:function(){},onItemSelectHistory:function(){}}),a=function(){var e,t=(0,r.useContext)(o),n=t.dapps,a=t.categoryId;return{data:null!=(e=n[a])?e:[],loading:!n[a]}},i=function(){return(0,r.useContext)(o).groupDapps},l=function(){return(0,r.useContext)(o).banners},s=function(){return(0,r.useContext)(o).categories}},825031:(e,t,n)=>{"use strict";n.r(t),n.d(t,{discoverUIEventBus:()=>r});var r=new(n(28524).CrossEventEmitter)},680805:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>j});var r,o,a=n(18861),i=n(256666),l=n(539144),s=n(196234),u=n(202784),d=n(213208),c=n(590478),f=n(634795),p=n(945821),m=n(859071),h=n(571254),x=function(){var e=(0,u.useContext)(c.DiscoverContext),t=e.categoryId,n=e.setDapps,r=e.setCategories,o=e.setCategoryId,a=(0,u.useRef)(t),i=(0,m.useAppSelector)((function(e){return e.settings.locale}));return(0,u.useEffect)((function(){function e(){return(e=(0,f.default)((function*(e){a.current=e;var i=yield p.default.serviceDiscover.getExplore({categoryId:t});if(a.current===e)if(r(i.categories),t)n(t,i.list);else{var l=i.categories[0].id;l&&(o(l),n(l,i.list))}}))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(t)}),[t,i]),null},g=function(){var e=(0,u.useContext)(c.DiscoverContext),t=e.setBanners,n=e.setGroupDapps,r=e.tabName;return(0,u.useEffect)((function(){function e(){return(e=(0,f.default)((function*(){if(r===h.TabName.Featured){var e=yield p.default.serviceDiscover.getFeatured();e.banners&&t(e.banners),e.list&&n(e.list)}}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r]),null},b=n(552322);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}d.default.isNativeIOSPad&&(o=n(702573).Desktop);const j=function(e){var t=e.onItemSelect,i=e.onItemSelectHistory,d=(0,u.useState)(h.TabName.Featured),f=(0,s.default)(d,2),p=f[0],m=f[1],v=(0,u.useState)([]),j=(0,s.default)(v,2),w=j[0],k=j[1],_=(0,u.useState)([]),O=(0,s.default)(_,2),I=O[0],S=O[1],T=(0,u.useState)({}),C=(0,s.default)(T,2),M=C[0],P=C[1],A=(0,u.useState)(""),D=(0,s.default)(A,2),R=D[0],E=D[1],B=(0,u.useState)([]),N=(0,s.default)(B,2),L=N[0],W=N[1],F=(0,l.default)();F&&!r?r=n(589510).Mobile:F||o||(o=n(702573).Desktop);var H=(0,u.useMemo)((function(){return{tabName:p,setTabName:m,banners:w,setBanners:k,groupDapps:I,setGroupDapps:S,dapps:M,setDapps:function(e,t){var n,r=y(y({},M),{},((n={})[e]=t,n));P(r)},categories:L,setCategories:W,categoryId:R,setCategoryId:E,onItemSelect:t,onItemSelectHistory:i}}),[R,L,M,w,I,p,t,i]);return(0,b.jsx)(c.DiscoverContext.Provider,{value:H,children:(0,b.jsxs)(a.default,{flex:"1",children:[F?(0,b.jsx)(r,{}):(0,b.jsx)(o,{}),(0,b.jsx)(x,{}),(0,b.jsx)(g,{})]})})}},571254:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{TabName:()=>r}),function(e){e.Featured="Featured",e.Explore="Explore",e.Favorites="Favorites"}(r||(r={}))},287595:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FallbackIcon:()=>b,default:()=>v});var r=n(256666),o=n(435581),a=n(459740),i=n(550398),l=n(18861),s=n(225447);const u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAAA/CAYAAABgkd/rAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJdSURBVHgB7ZztcdNQEEWvaQDTgTrAqQBTAVABoQLoAFEBoYKYClKCTAfuwKICQgWb3XlPM5okTuxET9qr7JlZyx4rP3LmzurjrQwEwVwQkeUrBGNQhehxCNEj8RFBebRH7xGURSWvtSRaR3nOEZRFg1xJBkE51O8mRBdG3Z5LDwTDk1vGvxBdkCx5L7dAMByHJIfoAVGXq0OSQ/RAqMfv8ggIno6kq769HAGC01Bny5zgowR3LPACMVm6saqO2N32ea210lof+Td3eBGis9jPeKas5zBr0dZDdfMVSe4SEzJL0TnBF0gpdsHsRKtkW824xMQJvs2s7kfb2YBuruBMsjGbRGfJNZwyC9HeJRv0onNPvoJzqEWr5Eo3DSY4Lz4V9oNhDQLJBm2ic5pp5iWYE12DCGbR70AEpeh8D6MCEayJphsaZBX9FmSwiq7ARRuix4FWNBv/Q/Q47EL0OGwpL8EJ5yTeRKLLs10sFtchujwbewnR5fljLyG6LNY2WntDJzrPbLDwo3vDmOgKHLSa5m33IUSX40v/A6PoNfyz6afZYBTtfWWlRa83d1CJzguyK/im7s40+rAluoZvfqnk3/d9QXOvg2BYZqeSzw59yZRoGyiv4JNW69NDO1Ak2vmwTKv1/r6+3Md9ovOVYAOf7LTOHpNsMLQOm96v4A878Jnka7Cjab4Uf9ivFnzDHJD00GQj/mgkHS/4kRMe+x2RRtIYGj+SUvxTfNHIQIInP73L/4jN0tkzgR7uNW+RVkUuhjzQjSpaUn8zmatcHzDdGUWrZSJ3uf4iL6SiADfgDPvDqYetVAAAAABJRU5ErkJggg==",d=n.p+"static/media/dappIcon_multichain.54d7ea0791890a047a2a.png";var c=n(859071),f=n(552322),p=["url","size","networkIds"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e){return{24:{borderRadius:8,innerSize:22,innerRadius:6,chainIconPadding:1.57},28:{borderRadius:9,innerSize:25,innerRadius:6,chainIconPadding:1.57},38:{borderRadius:10,innerSize:36,innerRadius:10,chainIconPadding:1.57},40:{borderRadius:12,innerSize:36,innerRadius:10,chainIconPadding:1.57},48:{borderRadius:12,innerSize:44,innerRadius:10,chainIconPadding:2.69}}[e]}var g=function(e){var t=e.networkIds,n=e.size,r=x(n).chainIconPadding,o=(0,c.useNetworkSimple)(t[0]);return t.length>1?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.default,{position:"absolute",bottom:"0.1px",right:"0.1px",width:.625*n+"px",height:.4375*n+"px",source:u}),(0,f.jsx)(l.default,{position:"absolute",bottom:`${null!=r?r:0}px`,right:`${null!=r?r:0}px`,borderRadius:"full",children:(0,f.jsx)(s.default,{width:.2*n+"px",height:.2*n+"px",source:d})})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.default,{position:"absolute",bottom:"0.1px",right:"0.1px",width:.625*n+"px",height:.4375*n+"px",source:u}),(0,f.jsx)(l.default,{position:"absolute",bottom:`${null!=r?r:0}px`,right:`${null!=r?r:0}px`,children:(0,f.jsx)(i.default,{width:.2*n+"px",height:.2*n+"px",src:null==o?void 0:o.logoURI,borderRadius:"full"})})]})},b=function(e){var t=x(e.size).innerSize;return(0,f.jsx)(l.default,{borderRadius:12,justifyContent:"center",alignItems:"center",width:`${t}px`,height:`${t}px`,children:(0,f.jsx)(o.default,{size:16,name:"GlobeAltMini"})})};const v=function(e){var t=e.url,n=e.size,r=e.networkIds,s=(0,a.default)(e,p),u=x(n),d=u.innerSize,c=u.innerRadius,m=u.borderRadius;return(0,f.jsx)(l.default,h(h({justifyContent:"center",alignItems:"center",width:`${n}px`,height:`${n}px`,borderRadius:`${m}px`,borderWidth:"1px",borderColor:"border-subdued"},s),{},{children:(0,f.jsxs)(l.default,{width:`${d}px`,height:`${d}px`,children:[t?(0,f.jsx)(i.default,{src:t,width:`${d}px`,height:`${d}px`,borderRadius:`${c}px`,bgColor:"surface-neutral-default",fallbackElement:(0,f.jsx)(l.default,{borderRadius:12,justifyContent:"center",alignItems:"center",width:`${d}px`,height:`${d}px`,children:(0,f.jsx)(o.default,{size:16,name:"GlobeAltMini"})})}):(0,f.jsx)(l.default,{borderRadius:12,justifyContent:"center",alignItems:"center",width:`${d}px`,height:`${d}px`,children:(0,f.jsx)(o.default,{size:16,name:"GlobeAltMini"})}),r&&r.length>0?(0,f.jsx)(g,{size:n,networkIds:r}):null]})}))}},559306:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useCategoryDapps:()=>u,useDiscoverFavorites:()=>s,useTagDapps:()=>d,useUserBrowserHistories:()=>l});var r=n(196234),o=n(202784),a=n(859071),i=n(945821);function l(){var e=(0,a.useAppSelector)((function(e){return e.discover.userBrowserHistories}));return(0,o.useMemo)((function(){return e?e.map((function(e){return{id:e.url,webSite:{url:e.url,title:e.title,favicon:e.logoUrl},timestamp:e.timestamp}})):[]}),[e])}function s(){var e=(0,a.useAppSelector)((function(e){return e.discover.bookmarks}));return(0,o.useMemo)((function(){return e?e.map((function(e){return{id:e.url,webSite:{title:e.title,favicon:e.icon,url:e.url}}})):[]}),[e])}function u(e){var t=(0,o.useState)([]),n=(0,r.default)(t,2),a=n[0],l=n[1];return(0,o.useEffect)((function(){e&&i.default.serviceDiscover.getCategoryDapps(e).then(l)}),[e]),a}function d(e){var t=(0,o.useState)([]),n=(0,r.default)(t,2),a=n[0],l=n[1];return(0,o.useEffect)((function(){e&&i.default.serviceDiscover.getTagDapps(e).then(l)}),[e]),a}},207040:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useSearchControl:()=>l,useShowBookmark:()=>i});var r=n(202784),o=n(859071),a=n(213208);function i(){var e=a.default.isNativeIOS||a.default.isMas,t=(0,o.useAppSelector)((function(e){return e.discover.showBookmark})),n=(0,o.useAppSelector)((function(e){var t;return null==(t=e.settings.devMode)?void 0:t.hideDiscoverContent}));return(0,r.useMemo)((function(){return!n&&(!e||Boolean(t))}),[t,e,n])}function l(){var e=a.default.isNativeIOS||a.default.isMas,t=(0,o.useAppSelector)((function(e){return e.discover.enableIOSDappSearch}));return(0,r.useMemo)((function(){return!e||Boolean(t)}),[t,e])}},670911:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useExplorerSearch:()=>c});var r=n(256666),o=n(202784),a=n(859071),i=n(481047),l=n(998056),s=n(718739);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(){var e=(0,a.useNavigation)();return(0,o.useCallback)((function(t){var n=t.isNewWindow,r=t.defaultUrl;e.navigate(i.RootRoutes.Modal,{screen:i.ModalRoutes.Discover,params:{screen:s.DiscoverModalRoutes.SearchHistoryModal,params:{url:r,onSelectorItem:function(e){if("string"===typeof e)return(0,l.gotoSite)({url:e,isNewWindow:n,userTriggered:!0});(0,l.openMatchDApp)(d(d({},e),{},{isNewWindow:n}))}}}})}),[e])}},238859:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useSearchDapps:()=>u});var r=n(196234),o=n(202784),a=n(571659),i=n(945821),l=n(207040),s={includeScore:!0,threshold:.4,keys:[{name:"name",weight:1},{name:"url",weight:.5},{name:"subtitle",weight:.3}]};var u=function(e,t){var n=(0,o.useState)(!1),u=(0,r.default)(n,2),d=u[0],c=u[1],f=(0,l.useSearchControl)(),p=(0,o.useState)([]),m=(0,r.default)(p,2),h=m[0],x=m[1];return(0,o.useEffect)((function(){e?i.default.serviceDiscover.searchDapps(e).then(x):x([])}),[e,t]),{loading:d,searchedDapps:(0,o.useMemo)((function(){if(0===e.length)return c(!1),[];c(!0);try{return f?function(e,t){return new a.default(e,s).search(t).filter((function(e){return e.score&&e.score<.9})).map((function(e){return e.item}))}(h,e).map((function(e){return{id:e._id,dapp:e}})):[]}finally{c(!1)}}),[h,e,f])}}},718739:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{DiscoverModalRoutes:()=>r}),function(e){e.SearchHistoryModal="SearchHistoryModal",e.ShareModal="ShareModal",e.DAppListModal="DAppListModal",e.EditBookmark="EditBookmark",e.History="History",e.Favorites="Favorites",e.ChainSelector="ChainSelector",e.MobileTabs="MobileTabs"}(r||(r={}))},951518:(e,t,n)=>{"use strict";n.r(t),n.d(t,{convertMatchDAppItemType:()=>o,getUrlHost:()=>r});var r=function(e){try{return new URL(e).host}catch(t){return e}},o=function(e){var t,n,o,a,i,l,s,u,d=(null==(t=e.dapp)?void 0:t.name)||(null==(n=e.webSite)?void 0:n.title)||"",c=(null==(o=e.dapp)?void 0:o.subtitle)||"",f=(null==(a=e.dapp)?void 0:a.url)||(null==(i=e.webSite)?void 0:i.url)||"",p=(null==(l=e.dapp)?void 0:l.logoURL)||(null==(s=e.webSite)?void 0:s.favicon)||"",m=(null==(u=e.dapp)?void 0:u.networkIds)||[];return{_id:e.id,name:d,subtitle:c||r(f),url:f,logoURL:p,networkIds:m}}},519018:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{EnableLocalAuthenticationRoutes:()=>r}),function(e){e.EnableLocalAuthenticationModal="EnableLocalAuthenticationModal",e.EnableWebAuthn="EnableWebAuthn"}(r||(r={}))},427309:(e,t,n)=>{"use strict";n.r(t),n.d(t,{btcMockLimit:()=>c,networkPendingTransactionThresholds:()=>d,priceUnit:()=>s,supportedNetworks:()=>l,supportedNetworksSettings:()=>u});var r,o,a,i=n(942013),l=[i.OnekeyNetwork.btc,i.OnekeyNetwork.eth,i.OnekeyNetwork.polygon],s=((r={})[i.OnekeyNetwork.btc]="sat/vB",r[i.OnekeyNetwork.eth]="Gwei",r[i.OnekeyNetwork.polygon]="Gwei",r),u=((o={})[i.OnekeyNetwork.btc]={supportOverview:!1,EIP1559Enabled:!1},o[i.OnekeyNetwork.eth]={supportOverview:!0,EIP1559Enabled:!0},o[i.OnekeyNetwork.polygon]={supportOverview:!0,EIP1559Enabled:!0},o),d=((a={})[i.OnekeyNetwork.eth]={low:0,stable:100,busy:200},a[i.OnekeyNetwork.polygon]={low:0,stable:200,busy:300},a),c="340"},733456:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{GasPanelRoutes:()=>r}),function(e){e.GasPanelModal="GasPanelModal"}(r||(r={}))},129553:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useNetworkPrices:()=>s});var r=n(202784),o=n(942013),a=n(945821),i=n(859071),l=n(427309);function s(e){var t=(0,i.useAppSelector)((function(e){return e.discover.networkPrices})),n=e&&l.supportedNetworks.includes(e)?e:o.OnekeyNetwork.eth,s=null==t?void 0:t[n];return(0,r.useEffect)((function(){a.default.serviceGas.refreshGasPrice({networkId:n});var e=setInterval((function(){return a.default.serviceGas.refreshGasPrice({networkId:n})}),6e4);return function(){return clearInterval(e)}}),[n]),s}},218513:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{HistoryRequestRoutes:()=>r}),function(e){e.HistoryRequestModal="HistoryRequestModal",e.TicketDetailModal="TicketDetailModal",e.ReplyTicketModel="ReplyTicketModel",e.SubmitRequestModal="SubmitRequestModal"}(r||(r={}))},910884:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{ManageConnectedSitesRoutes:()=>r}),function(e){e.ManageConnectedSitesModel="ManageConnectedSitesModal"}(r||(r={}))},601634:(e,t,n)=>{"use strict";n.r(t),n.d(t,{showMarketCellMoreMenu:()=>b});var r=n(18861),o=n(866904),a=n(435581),i=n(669083),l=n(539144),s=n(202784),u=n(783112),d=n(540366),c=n(945821),f=n(393093),p=n(793525),m=n(779025),h=n(752683),x=n(552322),g=function(e){var t=e.closeOverlay,n=e.token,p=(0,u.default)(),m=(0,h.useMarketSelectedCategoryId)(),g=(0,l.default)(),b=(0,s.useMemo)((function(){var e={id:p.formatMessage({id:"action__remove_from_favorites"}),onPress:function(){c.default.serviceMarket.cancelMarketFavoriteToken(n.coingeckoId),i.default.show({title:p.formatMessage({id:"msg__removed"})})},icon:"TrashMini",textColor:"text-critical",iconColor:"icon-critical"};return m&&m===f.MARKET_FAVORITES_CATEGORYID?[e,{id:p.formatMessage({id:"action__move_to_top"}),onPress:function(){c.default.serviceMarket.moveTopMarketFavoriteToken(n.coingeckoId)},icon:"ArrowUpMini"}]:n.favorited?[e]:[{id:p.formatMessage({id:"action__add_to_favorites"}),onPress:function(){c.default.serviceMarket.saveMarketFavoriteTokens([{coingeckoId:n.coingeckoId,symbol:n.symbol}]),i.default.show({title:p.formatMessage({id:"msg__added_to_favorites"})})},icon:"StarOutline"}]}),[p,m,n.favorited,n.coingeckoId,n.symbol]);return(0,x.jsx)(r.default,{children:b.map((function(e){var n=e.id,r=e.onPress,i=e.icon,l=e.textColor,s=e.iconColor;return(0,x.jsxs)(d.default,{flexDirection:"row",alignItems:"center",py:{base:"12px",sm:"8px"},px:{base:"16px",sm:"8px"},bg:"transparent",borderRadius:"12px",onPress:function(){t(),r()},children:[(0,x.jsx)(a.default,{size:g?24:20,name:i,color:null!=s?s:"icon-default"}),(0,x.jsx)(o.default,{typography:g?"Body1Strong":"Body2Strong",ml:"12px",color:null!=l?l:"text-default",children:n})]},n)}))})},b=function(e,t,n){return(0,p.showOverlay)((function(r){return(0,x.jsx)(m.OverlayPanel,{triggerEle:n,closeOverlay:r,modalProps:t,useDropdownProps:{autoAdjust:!0},children:(0,x.jsx)(g,{closeOverlay:r,token:e})})}))}},393495:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>L});var r=n(433996),o=n(866904),a=n(18861),i=n(737790),l=n(107867),s=n(470310),u=n(10918),d=n(539144),c=n(561220),f=n(435581),p=n(669083),m=n(759900),h=n(321668),x=n(202784),g=n(472719),b=n(783112),v=n(945821),y=n(859071),j=n(481047),w=n(393093),k=n(925743),_=n(375814),O=n(354703),I=n(542457),S=n(752683),T=n(629397),C=n(444092),M=n(516535),P=n(601634),A=n(968079),D=n(634795),R=(n(381527),n(213208),n(552322));const E=(0,x.memo)((function(e){var t=e.data,n=e.lineColor,r=void 0===n?"rgba(0, 184, 18, 1)":n,o=e.linearGradientColor,a=void 0===o?"rgba(0, 184, 18, 0.3)":o,i=e.height,l=void 0===i?40:i,s=e.width,u=void 0===s?50:s,d=e.lineWidth,c=void 0===d?2:d,f=e.smooth,p=void 0===f||f,m=e.scale,h=void 0===m?.1:m,g=(0,T.useDevicePixelRatio)(),b=(0,x.useCallback)(function(){var e=(0,D.default)((function*(e){if(e){e.width=u*g,e.height=l*g;var n=l-5,o=t||[],i=Math.max.apply(Math,(0,A.default)(o)),s=Math.min.apply(Math,(0,A.default)(o)),d=n/(i-s),f=e.getContext("2d");if(f){f.scale(g,g),f.beginPath(),f.lineWidth=c,f.strokeStyle=r;var m=u/(o.length-1),x=0,b=0;o.forEach((function(e,t){var r=n-(e-s)*d;if(p&&t>=2&&t<o.length-1){var a=m*(t-1),i=n-(o[t-1]-s)*d,l=m*(t-2),u=n-(o[t-2]-s)*d,c=m*(t+1),g=n-(o[t+1]-s)*d,v=a+(x-l)*h,y=i+(r-u)*h,j=x-(c-a)*h,w=r-(g-i)*h;y<0&&(y=0),w<0&&(w=0),f.bezierCurveTo(v,y,j,w,x,r)}else f.lineTo(x,r);t===o.length-1&&(b=r),x+=m})),f.lineTo(x+m,b),f.lineTo(x+m,l),f.lineTo(0,l),f.stroke(),f.closePath();var v=f.createLinearGradient(0,0,0,n);v.addColorStop(0,a),v.addColorStop(1,"rgba(255,255,255,0)"),f.fillStyle=v,f.fill(),f.clearRect(0,l-c,u,c)}}}));return function(t){return e.apply(this,arguments)}}(),[u,g,l,t,c,r,p,h,a]);return(0,R.jsx)("div",{style:{width:u,height:l},children:(0,R.jsx)("canvas",{style:{width:`${u}px`,height:`${l}px`},ref:b})})}));var B=function(e){var t=e.tokens,n=(0,g.useNavigation)(),r=(0,b.default)();return t?(0,R.jsx)(h.default,{borderRadius:12,isDisabled:!t.length,type:"basic",size:"xs",onPress:function(){v.default.serviceSwap.buyToken(t[0]),n.navigate(j.TabRoutes.Swap)},children:r.formatMessage({id:"title__swap"})}):(0,R.jsx)(m.default,{shape:"Caption"})},N=function(e){var t=e.marketTokenItem,n=(0,b.default)();return(0,R.jsx)(c.default,{flexDirection:"row",alignItems:"center",p:"1",rounded:"full",_hover:{bgColor:"surface-hovered"},_pressed:{bgColor:"surface-pressed"},onPress:function(){t.favorited?(v.default.serviceMarket.cancelMarketFavoriteToken(t.coingeckoId),p.default.show({title:n.formatMessage({id:"msg__removed"})})):(v.default.serviceMarket.saveMarketFavoriteTokens([{coingeckoId:t.coingeckoId,symbol:t.symbol}]),p.default.show({title:n.formatMessage({id:"msg__added_to_favorites"})}))},children:(0,R.jsx)(f.default,{name:t.favorited?"StarSolid":"StarOutline",size:20,color:t.favorited?"icon-warning":"icon-subdued"})})};const L=(0,x.memo)((function(e){var t=e.onPress,n=e.marketTokenId,c=e.headTags,f=e.onLongPress,p=(0,d.default)(),h=(0,y.useSettings)().selectedFiatMoneySymbol,g=(0,k.useCurrencyUnit)(h),b=(0,T.useMarketWidthLayout)().marketFillWidth,v=(0,S.useMarketSelectedCategoryId)(),j=_.coingeckoId2StakingTypes[n],A=(0,C.useMarketTokenItem)({coingeckoId:n,isList:!0}),D=(0,x.useRef)(),L=(0,x.useCallback)((function(){var e,t;return A&&(0,P.showMarketCellMoreMenu)(A,{header:`${null!=(e=null!=(t=null==A?void 0:A.symbol)?t:null==A?void 0:A.name)?e:""}`},D.current)}),[A]);return(0,R.jsx)(l.default,{onLongPress:function(){p&&A&&f&&f(A)},onPress:function(){A&&t&&t(A)},children:c.map((function(e){switch(e.id){case I.EMarketCellData.CollectionStarOrSerialNumber:var t,n,d;return(0,R.jsx)(l.default.Column,{children:(0,R.jsx)(s.default,{alignItems:"center",justifyContent:e.isSearch?"center":null!=(t=null==e?void 0:e.textAlign)?t:"center",w:e.isSearch?void 0:e.minW,children:A?(0,R.jsx)(R.Fragment,{children:e.isSearch?(0,R.jsx)(N,{marketTokenItem:A}):(0,R.jsx)(u.default.Body2Strong,{ml:.5,textAlign:null!=(n=null==e?void 0:e.textAlign)?n:"center",children:null!=(d=A.serialNumber)?d:"-"})}):(0,R.jsx)(m.default,{shape:"Avatar",size:20})})},e.id);case I.EMarketCellData.TokenInfo:var c;return(0,R.jsx)(l.default.Column,{children:(0,R.jsxs)(s.default,{alignItems:"center",w:null!=(c=null==e?void 0:e.minW)?c:"100px",space:3,children:[A&&void 0!==A.logoURI?(0,R.jsx)(i.default,{size:8,token:{logoURI:A.logoURI,name:A.name,symbol:A.symbol}}):(0,R.jsx)(a.default,{children:(0,R.jsx)(m.default,{shape:"Avatar",size:32})}),(0,R.jsxs)(a.default,{children:[A&&void 0!==A.symbol?(0,R.jsx)(o.default,{typography:e.isSearch?"Body2Strong":"Body1Strong",ellipsizeMode:"tail",numberOfLines:1,w:"80px",children:A.symbol}):(0,R.jsx)(m.default,{shape:"Body2"}),A&&void 0!==A.marketCap?(0,R.jsx)(u.default.Body2,{numberOfLines:1,color:"text-subdued",ellipsizeMode:"tail",w:"80px",children:p||b<=I.MARKET_LIST_COLUMN_SHOW_WIDTH_1?(0,M.formatMarketUnitPosition)(g,(0,M.formatMarketValueForInfo)(A.marketCap)):A.name}):(0,R.jsx)(m.default,{shape:"Body2"})]})]})},e.id);case I.EMarketCellData.TokenPrice:return A&&void 0!==A.price?(0,R.jsx)(l.default.Column,{text:{label:(0,M.formatMarketUnitPosition)(g,A.price<=1?(0,M.formatDecimalZero)(A.price):(0,M.formatMarketValueForComma)(A.price)),labelProps:{textAlign:e.textAlign},size:"sm"},flex:1},e.id):(0,R.jsx)(l.default.Column,{children:(0,R.jsx)(a.default,{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:(0,R.jsx)(m.default,{shape:"Body2"})})},e.id);case I.EMarketCellData.Token24hChange:return A&&void 0!==A.priceChangePercentage24H?p?(0,R.jsx)(l.default.Column,{children:(0,R.jsx)(a.default,{w:e.minW,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:(0,R.jsx)(a.default,{width:"72px",height:"32px",borderRadius:"6px",backgroundColor:A.priceChangePercentage24H>=0?"surface-success-subdued":"surface-critical-subdued",alignItems:"center",justifyContent:"center",children:(0,R.jsx)(u.default.Body2Strong,{textAlign:"center",color:A.priceChangePercentage24H>=0?"text-success":"text-critical",children:`${(0,M.formatMarketVolatility)(A.priceChangePercentage24H)}%`})})})},e.id):(0,R.jsx)(l.default.Column,{text:{label:`${(0,M.formatMarketVolatility)(A.priceChangePercentage24H)}%`,labelProps:{textAlign:e.textAlign,color:A.priceChangePercentage24H>=0?"text-success":"text-critical"},size:"sm"},w:e.minW},e.id):(0,R.jsx)(l.default.Column,{flex:1,alignItems:"center",justifyContent:"flex-end",children:(0,R.jsx)(a.default,{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:(0,R.jsx)(m.default,{shape:"Body2"})})},e.id);case I.EMarketCellData.Token24hVolume:return A&&void 0!==A.totalVolume?(0,R.jsx)(l.default.Column,{text:{label:(0,M.formatMarketUnitPosition)(g,(0,M.formatMarketValueForComma)(A.totalVolume)),labelProps:{textAlign:e.textAlign},size:"sm"},flex:1},e.id):(0,R.jsx)(l.default.Column,{children:(0,R.jsx)(a.default,{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:(0,R.jsx)(m.default,{shape:"Body2"})})},e.id);case I.EMarketCellData.TokenMarketCap:return A&&void 0!==A.marketCap?(0,R.jsx)(l.default.Column,{text:{label:(0,M.formatMarketUnitPosition)(g,(0,M.formatMarketValueForComma)(A.marketCap)),labelProps:{textAlign:e.textAlign},size:"sm"},flex:1},e.id):(0,R.jsx)(l.default.Column,{children:(0,R.jsx)(a.default,{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:(0,R.jsx)(m.default,{shape:"Body2"})})},e.id);case I.EMarketCellData.TokenSparklineChart:return(0,R.jsx)(l.default.Column,{children:(0,R.jsx)(a.default,{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:A&&A.sparkline?(0,R.jsx)(E,{data:A.sparkline,width:100,height:40,lineColor:A.priceChangePercentage24H&&A.priceChangePercentage24H>=0?"#33C641":"#FF6259",linearGradientColor:A.priceChangePercentage24H&&A.priceChangePercentage24H>=0?"rgba(0, 184, 18, 0.2)":"rgba(255, 98, 89, 0.2)"}):(0,R.jsx)(m.default,{shape:"DisplayMedium"})})},e.id);case I.EMarketCellData.TokenSwapStatus:return(0,R.jsx)(l.default.Column,{children:(0,R.jsx)(a.default,{flexDirection:"row",justifyContent:"left",flex:1,ref:D,children:A?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(B,{tokens:A.tokens}),j&&(0,R.jsx)(a.default,{ml:"2",children:(0,R.jsx)(O.MarketStakeButton,{stakingType:j,buttonType:"text"})})]}):(0,R.jsx)(m.default,{shape:"DisplaySmall"})})},e.id);case I.EMarketCellData.TokenCollectionStarAndMore:return(0,R.jsx)(l.default.Column,{children:(0,R.jsxs)(a.default,{flexDirection:"row",justifyContent:"center",flex:1,ref:D,children:[A?(0,R.jsx)(N,{marketTokenItem:A}):(0,R.jsx)(m.default,{shape:"Caption"}),v===w.MARKET_FAVORITES_CATEGORYID?(0,R.jsx)(r.default,{isDisabled:Boolean(!A),size:"xs",name:"EllipsisVerticalMini",type:"plain",ml:"2",circle:!0,onPress:L}):null]})},e.id);default:return null}}))})}))},752683:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useMarketCategoryList:()=>h,useMarketFavoriteCategoryTokenIds:()=>g,useMarketFavoriteRecommentedList:()=>x,useMarketSearchCategoryList:()=>b,useMarketSelectedCategory:()=>m,useMarketSelectedCategoryId:()=>d,useSimplyMarketSearchCategoryList:()=>f,useSimplyMarketTabCategoryList:()=>p});var r=n(968079),o=n(539144),a=n(202784),i=n(472719),l=n(945821),s=n(859071),u=n(393093),d=function(){return(0,s.useAppSelector)((function(e){return e.market.selectedCategoryId}))},c=function(){return(0,s.useAppSelector)((function(e){return e.market.categorys}))},f=function(){return(0,s.useAppSelector)((function(e){return e.market.searchSimplyCategories}))},p=function(){return(0,s.useAppSelector)((function(e){return e.market.tabSimplyCategories}))},m=function(){var e=d(),t=c();return(0,a.useMemo)((function(){return e?t[e]:null}),[t,e])},h=function(){var e=(0,i.useIsFocused)();(0,a.useEffect)((function(){e&&l.default.serviceMarket.fetchMarketCategorys()}),[e])},x=function(){var e=c(),t=(0,o.default)(),n=e[u.MARKET_FAVORITES_CATEGORYID];return(0,a.useMemo)((function(){var e,o,a;return n&&null!=(e=n.recommendedTokens)&&e.length?(null==(o=n.recommendedTokens)?void 0:o.length)>12?(0,r.default)(n.recommendedTokens).slice(0,t?8:12):(null==(a=n.recommendedTokens)?void 0:a.length)>8&&t?(0,r.default)(n.recommendedTokens).slice(0,8):(0,r.default)(n.recommendedTokens):[]}),[n,t])},g=function(){var e=c()[u.MARKET_FAVORITES_CATEGORYID];return(0,a.useMemo)((function(){return e&&e.coingeckoIds?e.coingeckoIds:[]}),[e])},b=function(){var e=c();return(0,a.useMemo)((function(){return e&&Object.values(e).length>0?Object.values(e).filter((function(e){return e.type===u.MarketCategoryType.MRKET_CATEGORY_TYPE_SEARCH})):[]}),[e])}},629397:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GRID_MAX_WIDTH:()=>p,GridLayout:()=>f,GridLayoutContext:()=>c,useDevicePixelRatio:()=>g,useGridBoxStyle:()=>m,useMarketMidLayout:()=>x,useMarketWidthLayout:()=>h});var r=n(384247),o=n(539144),a=n(18861),i=n(196234),l=n(202784),s=(n(213208),n(859071)),u=n(542457),d=n(552322),c=(0,l.createContext)({}),f=function(e){var t=e.children,n=(0,l.useState)({}),r=(0,i.default)(n,2),o=r[0],s=r[1],u=(0,l.useCallback)((function(e){var t=e.nativeEvent.layout.width;s({width:t})}),[]);return(0,d.jsx)(c.Provider,{value:o,children:(0,d.jsxs)(a.default,{w:"full",children:[(0,d.jsx)(a.default,{onLayout:u,w:"full"}),(0,d.jsx)(a.default,{children:t})]})})},p=700,m=function(e){var t=e.index,n=e.space,a=e.maxW,i=e.outPadding,s=(0,o.default)(),u=(0,r.default)(),d=u.screenWidth,f=u.size,m=(0,l.useMemo)((function(){return["XLARGE"].includes(f)?256:224}),[f]),h=(0,l.useContext)(c).width,x=null!=n?n:s?12:24,g=null!=a?a:p,b=s?d-(null!=i?i:0):d-m-(null!=i?i:0);h&&(b=h);var v=b<g?b:g,y=s?2:v>p?4:3;return{ml:(0,l.useMemo)((function(){return t?`${t%(s?2:y)!==0?x:0}px`:"0px"}),[t,s,x,y]),my:(0,l.useMemo)((function(){return x/2+"px"}),[x]),width:(0,l.useMemo)((function(){return void 0===t?"full":Math.floor((v-x*(y-1))/y)}),[v,x,y,t])}},h=function(){var e=(0,r.default)(),t=e.screenWidth,n="SMALL"===e.size,o=(0,s.useAppSelector)((function(e){return e.settings.leftSidebarCollapsed}));return{marketFillWidth:(0,l.useMemo)((function(){return n?t:o?t-72:t-224}),[n,o,t]),isVerticalLayout:n}},x=function(){var e=h().marketFillWidth;return(0,l.useMemo)((function(){return e<u.MARKET_LIST_COLUMN_SHOW_WIDTH_3}),[e])},g=function(){return(0,l.useMemo)((function(){return window.devicePixelRatio||1}),[])}},444092:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useMarketTokenChart:()=>u,useMarketTokenItem:()=>d});var r=n(539144),o=n(202784),a=n(472719),i=n(945821),l=n(859071),s=n(629397),u=function(e){var t=e.coingeckoId,n=e.days,r=void 0===n?"1":n,s=e.points,u=e.pollingIntervall,d=void 0===u?120:u,c=(0,l.useAppSelector)((function(e){return e.market.charts})),f=(0,a.useIsFocused)();return(0,o.useEffect)((function(){var e;return f&&(i.default.serviceMarket.fetchMarketTokenChart({coingeckoId:t,days:r,points:s}),e=setInterval((function(){i.default.serviceMarket.fetchMarketTokenChart({coingeckoId:t,days:r,points:s})}),1e3*d)),function(){e&&clearInterval(e)}}),[d,r,s,t,f]),{chart:(0,o.useMemo)((function(){var e=c[t];return e?e[r]:null}),[c,t,r])}},d=function(e){var t=e.coingeckoId,n=e.isList,a=(0,r.default)(),u=(0,s.useMarketMidLayout)(),d=(0,l.useAppSelector)((function(e){return e.market.marketTokens}));return(0,o.useEffect)((function(){if(null!=t&&t.length){var e=d[t];n||e||i.default.serviceMarket.fetchMarketListDebounced({ids:t,sparkline:!a&&!u})}}),[t,n,u,a,d]),(0,o.useMemo)((function(){if(t)return d[t]}),[d,t])}},150295:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{MarketRoutes:()=>r}),function(e){e.MarketSearchModal="MarketSearchModal"}(r||(r={}))},925743:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useCurrencyData:()=>d,useCurrencyListData:()=>c,useCurrencyUnit:()=>f});var r=n(968079),o=n(230898),a=n.n(o),i=n(202784),l=n(859071),s=["usd","eur","gbp","jpy","cny","hkd"],u=["btc","eth","sats","bits"],d=function(e){var t=(0,l.useAppSelector)((function(e){return e.fiatMoney.map}));return(0,i.useMemo)((function(){var n;return null!=(n=t[e])?n:{}}),[t,e])},c=function(){var e=(0,l.useAppSelector)((function(e){return e.fiatMoney.symbolList})),t=(0,l.useAppSelector)((function(e){return e.fiatMoney.map})),n=a()(s,e),o=a()(u,e);return{popularList:n,ratesSectionList:[{title:"crypto",data:(0,r.default)(o)},{title:"fiat",data:e.filter((function(e){var n,r;return null==(n=t[e])||null==(r=n.type)?void 0:r.includes("fiat")}))}]}},f=function(e){var t=d(e).unit;return(0,i.useMemo)((function(){return null!=t?t:"$"}),[t])}},142127:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{CurrencySelectModal:()=>r}),function(e){e.CurrencySelectHome="CurrencySelectHome"}(r||(r={}))},555596:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GroupedBackupDetails:()=>z,checkHasData:()=>V,default:()=>$});var r=n(719392),o=n(612210),a=n(669083),i=n(634795),l=n(539144),s=n(321668),u=n(459740),d=n(256666),c=n(196234),f=n(361301),p=n(18861),m=n(795116),h=n(435581),x=n(866904),g=n(202784),b=n(472719),v=n(571747),y=n(783112),j=n(46486),w=n(220033),k=n(677346),_=n(140368),O=n(945821),I=n(859071),S=n(747225),T=n(74008),C=n(364519),M=n(327226),P=n(33809),A=n(481047),D=n(793525),R=n(235014),E=n(973274),B=n(47675),N=n(552322),L=["size","ready","onImport","onDelete"];function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){(0,d.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e){var t=e.section,n=t.title,r=t.items;return(0,N.jsxs)(p.default,{children:[(0,N.jsx)(x.default,{typography:"Body2",color:"text-subdued",mb:"12px",children:n}),(0,N.jsx)(f.default,{space:"16px",children:r.map((function(e){var t=e.icon,n=e.iconType,r=e.name,o=e.desc,a=e.uuid;return(0,N.jsxs)(p.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[(0,N.jsx)(m.default,{rounded:"full",size:"8",bgColor:"surface-neutral-default",children:"Avatar"===n?(0,N.jsx)(x.default,{typography:"DisplayMedium",children:t.emoji}):(0,N.jsx)(h.default,{name:t,size:20,color:"icon-default"})}),(0,N.jsx)(x.default,{px:"12px",typography:"Body2Strong",flex:"1",isTruncated:!0,children:r}),(0,N.jsx)(x.default,{typography:"Body2Strong",color:"text-subdued",children:o})]},a)}))})]})}var z=function(e){var t=e.title,n=e.publicBackupData,r=(0,y.default)(),o=(0,g.useState)([]),a=(0,c.default)(o,2),i=a[0],l=a[1];return(0,g.useEffect)((function(){var e,t,o,a,i,s,u=[],d=Object.entries(n.HDWallets).map((function(e){var t=(0,c.default)(e,2),n=t[0],o=t[1];return{uuid:n,iconType:"Avatar",name:o.name,icon:o.avatar,desc:r.formatMessage({id:"form__str_accounts"},{count:o.accountUUIDs.length})}})).sort((function(e,t){return(0,v.default)({insensitive:!0})(e.name,t.name)})),f=Object.entries(n.importedAccounts).map((function(e){var t=(0,c.default)(e,2);return F({uuid:t[0]},t[1])}));f.length>0&&d.push({uuid:f[0].uuid,name:r.formatMessage({id:"wallet__imported_accounts"}),iconType:"Icon",icon:"InboxArrowDownOutline",desc:r.formatMessage({id:"form__str_accounts"},{count:f.length})});var p=Object.entries(n.watchingAccounts).map((function(e){var t=(0,c.default)(e,2);return F({uuid:t[0]},t[1])}));p.length>0&&d.push({uuid:p[0].uuid,name:r.formatMessage({id:"wallet__watched_accounts"}),iconType:"Icon",icon:"EyeOutline",desc:r.formatMessage({id:"form__str_accounts"},{count:p.length})}),d.length>0&&u.push({title:r.formatMessage({id:"wallet__app_wallet"}),items:d});var m=[],h=null!=(e=null==n||null==(t=n.simpleDb)||null==(o=t.market)?void 0:o.favorites)?e:[];h.length>0&&m.push({uuid:h[0],name:r.formatMessage({id:"form__Watchlist"}),iconType:"Icon",icon:"HeartOutline",desc:r.formatMessage({id:"content__int_items"},{0:h.length})}),m.length>0&&u.push({title:r.formatMessage({id:"form__token"}),items:m});var x=[],g=Object.entries(n.contacts).map((function(e){var t=(0,c.default)(e,2);return F({uuid:t[0]},t[1])}));g.length>0&&x.push({uuid:g[0].name,name:r.formatMessage({id:"title__address_book"}),iconType:"Icon",icon:"BookOpenOutline",desc:r.formatMessage({id:"content__int_items"},{0:g.length})});var b=null==n||null==(a=n.simpleDb)||null==(i=a.utxoAccounts)?void 0:i.utxos;b&&b.length>0&&x.push({uuid:b[0].key,name:r.formatMessage({id:"form__utxo_label"}),iconType:"Icon",icon:"TagOutline",desc:r.formatMessage({id:"content__int_items"},{0:b.length})}),x.length>0&&u.push({title:r.formatMessage({id:"form__address_book_labels_uppercase"}),items:x});var y=null!=(s=n.discoverBookmarks)?s:[],j=[];y.length>0&&j.push({uuid:y[0].id,name:r.formatMessage({id:"form__favorite_dapps"}),iconType:"Icon",icon:"StarOutline",desc:r.formatMessage({id:"content__int_items"},{0:y.length})}),j.length>0&&u.push({title:r.formatMessage({id:"title__explore"}),items:j}),l(u)}),[r,n]),(0,N.jsxs)(p.default,{mx:12,mb:4,children:[t&&(0,N.jsx)(x.default,{typography:"Heading",pb:"4",children:t}),(0,N.jsx)(f.default,{space:"32px",children:i.map((function(e){return(0,N.jsx)(H,{section:e},e.title)}))})]})},U=function(e){var t=e.size,n=e.ready,r=e.onImport,o=e.onDelete,a=(0,u.default)(e,L),i=(0,y.default)();return(0,N.jsxs)(p.default,F(F({flexDirection:"row"},a),{},{children:["undefined"===typeof r||n?void 0:(0,N.jsx)(s.default,{onPress:r,type:"primary",size:t,flexGrow:{base:1,sm:0},children:i.formatMessage({id:"action__import"})}),"undefined"===typeof o||n?void 0:(0,N.jsx)(s.default,{onPress:o,type:"destructive",size:t,ml:4,flexGrow:{base:1,sm:0},children:i.formatMessage({id:"action__delete"})})]}))};function V(e){var t,n,r,o;return!(null==e||null==(t=e.simpleDb)||null==(n=t.utxoAccounts)||!n.utxos.length)||(!(null==e||null==(r=e.simpleDb)||null==(o=r.market)||!o.favorites.length)||Object.entries(e).filter((function(e){var t=(0,c.default)(e,2),n=t[0],r=t[1];return"simpleDb"!==n&&Object.keys(r).length>0})).length>0)}const $=function(e){var t=e.onboarding,n=void 0!==t&&t,s=(0,y.default)(),u=(0,l.default)(),d=(0,I.useNavigation)(),f=(0,b.useRoute)(),m=(0,S.useAppSelector)((function(e){return e.settings.version})),h=(0,S.useData)().isPasswordSet,v=O.default.serviceCloudBackup,L=(0,M.default)().showVerify,W=(0,C.default)().requestBackupPassword,F=(0,P.useOnboardingDone)();(0,g.useLayoutEffect)((function(){var e=s.formatMessage({id:"title__backup_details"});d.setOptions({title:e})}),[d,s]);var H=(0,T.default)(),$=f.params,G=$.backupUUID,q=$.backupTime,X=$.numOfHDWallets,Y=$.numOfAccounts,Q=(0,g.useState)(!0),K=(0,c.default)(Q,2),Z=K[0],J=K[1],ee=(0,g.useState)({alreadyOnDevice:{contacts:{},importedAccounts:{},watchingAccounts:{},HDWallets:{},simpleDb:{},discoverBookmarks:[]},notOnDevice:{contacts:{},importedAccounts:{},watchingAccounts:{},HDWallets:{},simpleDb:{},discoverBookmarks:[]}}),te=(0,c.default)(ee,2),ne=te[0],re=te[1],oe=(0,g.useState)(!1),ae=(0,c.default)(oe,2),ie=ae[0],le=ae[1],se=(0,g.useState)(),ue=(0,c.default)(se,2),de=ue[0],ce=ue[1],fe=(0,g.useState)(!1),pe=(0,c.default)(fe,2),me=pe[0],he=pe[1],xe=(0,g.useCallback)((function(){return void 0===de||(!de||!(0,_.gtIgnore)(de,m,"patch"))}),[m,de]);(0,g.useEffect)((function(){v.getBackupDetails(G).then((function(e){var t=e.backupDetails,n=e.appVersion;ce(n),re(t),le(V(t.alreadyOnDevice)),he(V(t.notOnDevice)),J(!1)}))}),[J,v,G]);var ge=(0,g.useCallback)((0,i.default)((function*(){a.default.show({title:s.formatMessage({id:"msg__backup_imported"})}),n?yield F({delay:200}):(null==d||d.popToTop(),null==d||d.navigate(A.RootRoutes.Main,{screen:A.MainRoutes.Tab,params:{screen:A.TabRoutes.Home}}))})),[s,n,F,d]),be=(0,g.useCallback)((function(){a.default.show({title:s.formatMessage({id:"msg__import_icloud_backup_failed_version"})},{type:"error"}),d.goBack()}),[s,d]),ve=(0,g.useCallback)((function(){!1!==xe()?h?L((function(e){v.restoreFromBackup({backupUUID:G,notOnDevice:ne.notOnDevice,localPassword:e}).then((function(t){t===k.RestoreResult.SUCCESS?ge():t===k.RestoreResult.WRONG_PASSWORD?W((function(t){return v.restoreFromBackup({backupUUID:G,notOnDevice:ne.notOnDevice,localPassword:e,remotePassword:t})}),ge,be):be()}))}),(function(){})):W((function(e){return v.restoreFromBackup({backupUUID:G,notOnDevice:ne.notOnDevice,localPassword:e,remotePassword:e})}),ge,be):(0,E.showUpgrateDialog)()}),[h,xe,L,v,G,ne.notOnDevice,ge,W,be]),ye=(0,g.useCallback)((function(){(0,D.showOverlay)((function(e){return(0,N.jsx)(o.default,{visible:!0,onClose:e,footerButtonProps:{primaryActionTranslationId:"action__delete",secondaryActionTranslationId:"action__cancel",primaryActionProps:{type:"destructive",onPromise:function(){var t=(0,i.default)((function*(){yield v.removeBackup(G),e(),d.pop(2)}));return function(){return t.apply(this,arguments)}}()}},contentProps:{iconType:"danger",title:s.formatMessage({id:"dialog__delete_backup"}),content:s.formatMessage({id:"dialog__delete_backup_desc"},{cloudName:(0,w.backupPlatform)().cloudName})}})}))}),[G,s,d,v]);return(0,N.jsxs)(B.default,{footer:u?(0,N.jsx)(U,{ready:Z,onImport:me?ve:void 0,onDelete:n?void 0:ye,size:"xl",position:"absolute",bottom:0}):void 0,children:[(0,N.jsxs)(p.default,{flexDirection:u?"column":"row",alignItems:"center",children:[(0,N.jsx)(p.default,{mb:{base:6,sm:0},mr:{sm:6},children:(0,N.jsx)(R.default,{size:"lg",enabled:!0})}),(0,N.jsx)(x.default,{typography:"PageHeading",children:H.format(new Date(q),"MMM d, yyyy, HH:mm")}),(0,N.jsx)(x.default,{typography:"Body2",mt:"12px",color:"text-subdued",children:`${s.formatMessage({id:"form__str_wallets"},{0:X})} \xb7 ${s.formatMessage({id:"form__str_accounts"},{count:Y})}`}),u?void 0:(0,N.jsx)(U,{ready:Z,onImport:me?ve:void 0,onDelete:n?void 0:ye,size:"base",ml:"auto"})]}),(0,N.jsx)(p.default,{borderBottomWidth:j.default.hairlineWidth,borderBottomColor:"divider",my:{base:8,sm:6}}),Z?(0,N.jsx)(r.default,{size:"lg"}):(0,N.jsxs)(p.default,{flexDirection:u?"column":"row",mx:-12,children:[ie?(0,N.jsx)(z,{title:s.formatMessage({id:"content__active_on_this_device"}),publicBackupData:ne.alreadyOnDevice}):void 0,me?(0,N.jsx)(z,{title:s.formatMessage({id:"content__not_on_this_device"}),publicBackupData:ne.notOnDevice}):void 0]})]})}},235014:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(795116),o=n(435581),a=n(552322);const i=function(e){var t=e.enabled,n=e.size;return(0,a.jsx)(r.default,{rounded:"full",size:"lg"===n?"56px":"48px",bgColor:`surface-${t?"success":"warning"}-subdued`,children:(0,a.jsx)(o.default,{name:"CloudOutline",size:24,color:"icon-"+(t?"success":"warning")})})}},224255:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C});var r=n(256666),o=n(866904),a=n(18861),i=n(795116),l=n(719392),s=n(634795),u=n(196234),d=n(202784),c=n(783112),f=n(46486),p=n(945821),m=n(859071),h=n(481047),x=n(107867),g=n(435581),b=n(539144),v=n(459740),y=n(74008),j=n(552322),w=["backupTime","numOfHDWallets","numOfAccounts","size"];function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const O=function(e){var t=e.backupTime,n=e.numOfHDWallets,r=e.numOfAccounts,o=(e.size,(0,v.default)(e,w)),i=(0,b.default)(),l=(0,y.default)(),s=(0,c.default)();return(0,j.jsxs)(x.default,_(_({mx:-4},o),{},{children:[(0,j.jsx)(a.default,{bgColor:"surface-neutral-subdued",padding:"6px",borderRadius:"full",children:(0,j.jsx)(g.default,{size:20,name:"DeviceMobileOutline"})}),(0,j.jsx)(x.default.Column,{flex:1,flexDirection:i?"column":"row",text:{label:l.format(new Date(t),"MMM d, yyyy, HH:mm"),labelProps:{flex:1,typography:"Body1Strong"},description:`${s.formatMessage({id:"form__str_wallets"},{0:n})} \xb7 ${s.formatMessage({id:"form__str_accounts"},{count:r})}`}}),(0,j.jsx)(x.default.Column,{icon:{size:20,name:"ChevronRightMini",color:"icon-subdued"}})]}))};var I=n(47675);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var T=function(e){var t=e.backupUUID,n=e.backupTime,r=e.numOfHDWallets,o=e.numOfAccounts,a=(0,m.useNavigation)();return(0,j.jsx)(O,{onPress:function(){a.navigate(h.HomeRoutes.CloudBackupDetails,{backupUUID:t,backupTime:n,numOfHDWallets:r,numOfAccounts:o})},backupTime:n,numOfHDWallets:r,numOfAccounts:o,size:"normal"})};const C=function(){var e=(0,c.default)(),t=(0,m.useNavigation)(),n=p.default.serviceCloudBackup;(0,d.useLayoutEffect)((function(){var n=e.formatMessage({id:"content__previous_backups"});t.setOptions({title:n})}),[t,e]);var h=(0,d.useState)(!0),x=(0,u.default)(h,2),g=x[0],b=x[1],v=(0,d.useState)([]),y=(0,u.default)(v,2),w=y[0],k=y[1];return(0,d.useEffect)((function(){var e=function(){var e=(0,s.default)((function*(){k(yield n.getPreviousBackups()),b(!1)}));return function(){return e.apply(this,arguments)}}();e()}),[n]),(0,j.jsx)(I.default,{children:g?(0,j.jsx)(i.default,{py:16,children:(0,j.jsx)(l.default,{size:"lg"})}):(0,j.jsx)(j.Fragment,{children:w.map((function(e,t){return(0,j.jsxs)(a.default,{children:[0!==t?(0,j.jsx)(a.default,{borderBottomWidth:f.default.hairlineWidth,borderBottomColor:"divider",my:6,bgColor:"divider"}):null,(0,j.jsx)(o.default,{typography:"Body2Strong",color:"text-subdued",children:e[0].deviceInfo.deviceName}),(0,j.jsx)(a.default,{children:e.map((function(e){return(0,j.jsx)(T,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),e.backupUUID)}))})]},t)}))})})}},973274:(e,t,n)=>{"use strict";n.r(t),n.d(t,{showUpgrateDialog:()=>c});var r=n(612210),o=n(669083),a=n(634795),i=n(783112),l=n(358499),s=n(793525),u=n(552322);function d(e){var t=e.onClose,n=(0,i.default)();return(0,u.jsx)(r.default,{visible:!0,onClose:t,footerButtonProps:{primaryActionTranslationId:"action__upgrade",secondaryActionTranslationId:"action__cancel",primaryActionProps:{type:"primary",onPromise:function(){var e=(0,a.default)((function*(){try{var e=yield l.default.getPackageInfo();e&&(l.default.openAppUpdate({package:e}),null==t||t())}catch(r){o.default.show({title:n.formatMessage({id:"msg__network_request_failed"})})}}));return function(){return e.apply(this,arguments)}}()}},contentProps:{iconType:"info",title:n.formatMessage({id:"dialog__import_data_upgrade_required"}),content:n.formatMessage({id:"dialog__import_data_upgrade_required_desc"})}})}var c=function(){(0,s.showDialog)((0,u.jsx)(d,{}))}},47675:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(18861),o=n(468702),a=n(311631),i=n(552322),l=function(e){var t=e.children,n=e.footer,l=(0,a.useSafeAreaInsets)().bottom;return l=0===l?20:l,(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.ScrollView,{alignSelf:"stretch",flex:1,px:4,py:{base:4,sm:8},_contentContainerStyle:{w:"full",maxW:800,mx:"auto"},children:t}),n?(0,i.jsx)(r.default,{mx:4,py:4,my:`${l}px`,children:n}):null]})};l.defaultProps={};const s=l},210201:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{MonitorRoutes:()=>r}),function(e){e.monitorSetting="monitorSetting"}(r||(r={}))},146144:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{NFTMarketRoutes:()=>r}),function(e){e.SearchModal="SearchModal",e.FilterModal="FilterModal",e.ShareNFTPNLModal="ShareNFTPNLModal",e.CalculatorModal="CalculatorModal",e.MarketPlaceScreen="MarketPlaceScreen"}(r||(r={}))},950123:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PriceString:()=>p,default:()=>m,floorPriceSymbolMap:()=>f});var r,o=n(256666),a=n(866904),i=n(459740),l=n(942013),s=n(552322),u=["prefix","price","networkId","symbol"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=((r={})[l.OnekeyNetwork.eth]="ETH",r[l.OnekeyNetwork.optimism]="ETH",r[l.OnekeyNetwork.bsc]="BNB",r[l.OnekeyNetwork.polygon]="MATIC",r[l.OnekeyNetwork.arbitrum]="ETH",r[l.OnekeyNetwork.sol]="SOL",r[l.OnekeyNetwork.avalanche]="AVAX",r);function p(e){var t=e.prefix,n=e.price,r=e.networkId,o=e.symbol,a=null!=o?o:f[null!=r?r:""],i="\u2013";return n&&null!==n&&(i=`${n} ${null!=a?a:""}`),t?`${t} ${i}`:`${i}`}const m=function(e){var t=e.prefix,n=void 0===t?"":t,r=e.price,o=e.networkId,l=e.symbol,d=(0,i.default)(e,u);return(0,s.jsx)(a.default,c(c({},d),{},{children:p({prefix:n,price:r,networkId:o,symbol:l})}))}},221500:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var r=n(256666),o=n(669083),a=n(539144),i=n(459740),l=n(202784),s=n(783112),u=n(119804),d=(n(213208),n(945821)),c=n(859071),f=n(481047),p=n(718739),m=n(331639),h=n(552322),x=["item","isFav"];function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const b=function(e){var t=e.item,n=e.isFav,b=(0,i.default)(e,x),v=(0,a.default)(),y=(0,s.default)(),j=(0,c.useAppSelector)((function(e){return e.discover.bookmarks})),w=(0,c.useNavigation)(),k=(0,l.useMemo)((function(){return[!1,{id:"action__copy_url",onPress:function(){setTimeout((function(){var e,n,r=(null==t||null==(e=t.dapp)?void 0:e.url)||(null==t||null==(n=t.webSite)?void 0:n.url)||"";(0,u.copyToClipboard)(r)}),600),o.default.show({title:y.formatMessage({id:"msg__copied"})})},icon:"LinkMini"},n&&{id:"action__edit",onPress:function(){var e,n,r,a,i=null!=(e=null!=(n=null==(r=t.dapp)?void 0:r.url)?n:null==(a=t.webSite)?void 0:a.url)?e:"",l=null==j?void 0:j.find((function(e){return e.url===i}));l?w.navigate(f.RootRoutes.Modal,{screen:f.ModalRoutes.Discover,params:{screen:p.DiscoverModalRoutes.EditBookmark,params:{bookmark:l}}}):o.default.show({title:y.formatMessage({id:"msg__engine__internal_error"})})},icon:"PencilAltOutline"},{id:"action__remove",onPress:function(){n?d.default.serviceDiscover.removeFavorite(t.id):d.default.serviceDiscover.removeMatchItem(t),o.default.show({title:y.formatMessage({id:"transaction__success"})})},icon:"TrashMini",variant:"desctructive"}]}),[v,n,t,w,y,j]);return(0,h.jsx)(m.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({options:k},b))}},779025:(e,t,n)=>{"use strict";n.r(t),n.d(t,{OverlayPanel:()=>v});var r=n(539144),o=n(121815),a=n(18861),i=n(256666),l=n(877531),s=n(311631),u=n(297263),d=n(202784),c=n(17756),f=n(501240),p=n(328012),m=n(552322);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e){var t=e.closeOverlay,n=e.modalProps,r=e.children,o=e.modalLizeProps,a=(0,d.useRef)(null),i=(0,u.default)("surface-subdued"),f=(0,s.useSafeAreaInsets)().bottom;return(0,d.useEffect)((function(){setTimeout((function(){var e;return null==(e=a.current)?void 0:e.open()}),10)}),[]),(0,m.jsx)(c.Modalize,x(x({ref:a,onClosed:t,closeOnOverlayTap:!0,adjustToContentHeight:!0,withHandle:!1,modalStyle:{backgroundColor:i,borderTopLeftRadius:24,borderTopRightRadius:24,overflow:"hidden"}},o),{},{children:(0,m.jsx)(l.default,x(x({visible:!0,footer:null,closeAction:t,staticChildrenProps:{padding:"8px",paddingBottom:`${f+8}px`}},n),{},{children:r}))}))},b=function(e){var t=e.closeOverlay,n=e.children,r=e.triggerEle,i=e.dropdownStyle,l=e.useDropdownProps,s=(0,d.useRef)(),u=(0,f.useDropdownPosition)(x({contentRef:s,triggerEle:r,visible:!0,translateY:2,dropdownPosition:"right",autoAdjust:!1},l)),c=u.position,h=u.toPxPositionValue,g=u.isPositionNotReady;return(0,m.jsxs)(a.default,{position:"absolute",w:"full",h:"full",children:[(0,m.jsx)(p.CloseBackDrop,{onClose:t}),(0,m.jsx)(o.default,{visible:!g,initial:{opacity:0,translateY:0},animate:{opacity:1,translateY:2,transition:{duration:150}},children:(0,m.jsx)(a.default,x(x({overflow:"hidden",bg:"surface-subdued",position:"absolute",w:"240px",p:"4px",borderRadius:"12px",borderWidth:1,borderColor:"border-subdued",ref:s,left:h(c.left),right:h(c.right),top:h(c.top),bottom:h(c.bottom)},i),{},{children:n}))})]})},v=function(e){return(0,r.default)()?(0,m.jsx)(g,x({},e)):(0,m.jsx)(b,x({},e))}},769707:(e,t,n)=>{"use strict";n.r(t),n.d(t,{OverviewDefiProtocol:()=>L,OverviewDefiProtocolWithoutMemo:()=>N,useOpenProtocolUrl:()=>E});var r=n(196234),o=n(866904),a=n(539144),i=n(612210),l=n(361301),s=n(10918),u=n(18861),d=n(225447),c=n(202784),f=n(206391),p=n.n(f),m=n(783112);var h=n(174276),x=n(534159),g=n(859071),b=n(627009),v=n(793525),y=n(470310),j=n(737790),w=n(92168),k=n(552322),_=function(e){var t=e.icon,n=e.name,r=e.rate,i=e.desc,s=e.extra,u=e.onOpenDapp,d=(0,a.default)(),f=(0,c.useMemo)((function(){return(0,k.jsx)(w.OverviewBadge,{rate:r})}),[r]);return d?(0,k.jsxs)(l.default,{px:4,py:4,alignItems:"center",bg:"surface-subdued",borderTopRadius:"12px",children:[(0,k.jsx)(y.default,{w:"full",mb:"2",children:(0,k.jsx)(y.default,{alignItems:"center",flex:"1",justifyContent:"space-around",children:(0,k.jsxs)(y.default,{flex:"1",children:[(0,k.jsx)(j.TokenIcon,{size:6,token:{logoURI:t,name:n}}),(0,k.jsx)(o.default,{onPress:u,typography:"Body1Strong",ml:"2",children:n}),r.isNaN()?null:f]})})}),(0,k.jsxs)(l.default,{w:"full",children:[i,s]})]}):(0,k.jsxs)(y.default,{px:6,py:3,alignItems:"center",bg:"surface-subdued",borderTopRadius:"12px",children:[(0,k.jsx)(y.default,{alignItems:"center",flex:"1",justifyContent:"space-around",children:(0,k.jsxs)(y.default,{flex:"1",children:[(0,k.jsx)(j.TokenIcon,{size:8,token:{logoURI:t,name:n}}),(0,k.jsx)(o.default,{typography:"Heading",ml:"2",onPress:u,children:n}),r.isNaN()?null:f]})}),(0,k.jsx)(y.default,{alignItems:"center",children:(0,k.jsxs)(l.default,{children:[i,s]})})]})},O=n(545455),I=n.n(O),S=n(256666),T=n(645130),C=n.n(T);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,S.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(e){var t,n=e.pool,r=e.tokenKey,i=(0,a.default)();return(0,k.jsx)(l.default,{children:null==n||null==(t=n[r])?void 0:t.map((function(e,t){var n,r;return(0,k.jsxs)(y.default,{alignItems:"center",mt:t>0?"4px":0,flexWrap:"wrap",children:[(0,k.jsx)(j.TokenIcon,{token:e,size:i?5:4,mr:"1"}),(0,k.jsx)(o.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},mr:"1",children:(0,k.jsx)(x.FormatCurrencyNumber,{onlyNumber:!0,value:new(p())(null!=(n=e.balanceParsed)?n:0)})}),(0,k.jsx)(o.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},mx:"1",children:e.symbol}),(0,k.jsx)(s.default.Body2,{color:"text-subdued",children:(0,k.jsx)(x.FormatCurrencyNumber,{value:0,convertValue:new(p())(null!=(r=e.value)?r:0)})})]},e.tokenAddress)}))})},D=function(e){var t=e.pools,n=(0,m.default)(),r=(0,a.default)(),o=(0,c.useCallback)((function(e){return!e.visibleOn||(null==e.visibleOn?void 0:e.visibleOn({pools:t,isVertical:r}))}),[r,t]),i=(0,c.useMemo)((function(){var e,t,n=[{dataIndex:"supplyTokens",header:"form__pool_uppercase",render:function(e){return(0,k.jsx)(A,P(P({},e),{},{tokenKey:"supplyTokens"}))},visibleOn:function(e){return e.pools.some((function(e){var t;return(null==(t=e.supplyTokens)?void 0:t.length)>0}))}},{dataIndex:"borrowTokens",header:"form__borrowed_uppercase",visibleOn:function(e){return e.pools.some((function(e){var t;return(null==(t=e.borrowTokens)?void 0:t.length)>0}))},render:function(e){return(0,k.jsx)(A,P(P({},e),{},{tokenKey:"borrowTokens"}))}},{dataIndex:"rewardTokens",header:"form__rewards_uppercase",visibleOn:function(e){return e.pools.some((function(e){var t;return(null==(t=e.rewardTokens)?void 0:t.length)>0}))},render:function(e){return(0,k.jsx)(A,P(P({},e),{},{tokenKey:"rewardTokens"}))}}].filter(o),r=[{dataIndex:"lockedInfo",header:"form__unlock_time_uppercase",visibleOn:function(e){return e.pools.some((function(e){var t;return!(null==e||null==(t=e.lockedInfo)||!t.unlockTime)}))},render:function(e){var t,n=e.pool,r=null==n||null==(t=n.lockedInfo)?void 0:t.unlockTime;return"number"!==typeof r?r:(0,k.jsx)(s.default.Body2Strong,{children:C()(1e3*r).format("YYYY/MM/DD HH:mm")})}},{dataIndex:"apr",header:"form__apr_uppercase",visibleOn:function(e){return e.pools.some((function(e){return!!e.apr}))},render:function(e){var t,n=e.pool;return(0,k.jsxs)(s.default.Body2Strong,{children:[(0,k.jsx)(x.FormatCurrencyNumber,{onlyNumber:!0,value:new(p())(null!=(t=n.apr)?t:0)}),"%"]})}},{dataIndex:"poolValue",header:"form__value_uppercase",render:function(e){var t,n=e.pool;return(0,k.jsx)(s.default.Body2Strong,{children:(0,k.jsx)(x.FormatCurrencyNumber,{value:0,convertValue:new(p())(null!=(t=n.poolValue)?t:0)})})},boxProps:{textAlign:"right",justifyContent:"flex-end"}}].filter(o);return 1===(null==n?void 0:n.length)&&null!=n&&null!=(e=n[0])&&e.dataIndex&&n.push({header:"content__price",render:function(e){var n=e.pool;return(0,k.jsx)(l.default,{children:null==n?void 0:n[t].map((function(e){var t;return(0,k.jsx)(s.default.Body2Strong,{children:(0,k.jsx)(x.FormatCurrencyNumber,{value:0,convertValue:new(p())(null!=(t=e.price)?t:0)})},e.tokenAddress)}))})},dataIndex:t=n[0].dataIndex}),n.concat(r)}),[o]),d=(0,c.useMemo)((function(){return t.length}),[t]),f=(0,c.useCallback)((function(e,t){var r=t===d-1;return(0,k.jsx)(l.default,{mb:"4",pb:r?0:4,borderBottomWidth:r?0:"1px",borderBottomColor:"border-subdued",mx:"4",children:i.map((function(t,r){return t.dataIndex&&I()(e[t.dataIndex])?null:(0,k.jsxs)(l.default,{mt:0===r?0:"4",children:[(0,k.jsx)(s.default.Subheading,{mb:"4",color:"text-subdued",children:n.formatMessage({id:t.header})}),t.dataIndex&&!I()(e[t.dataIndex])?t.render({pool:e}):null]},t.header)}))},e.poolCode)}),[i,n,d]),h=(0,c.useCallback)((function(e,n){var r=n===t.length-1;return(0,k.jsx)(y.default,{alignItems:"flex-start",borderBottomColor:"border-subdued",borderBottomWidth:r?0:"1px",mx:"6",py:"4",children:i.map((function(t){var n;return(0,c.createElement)(u.default,P(P({flex:"1"},null!=(n=t.boxProps)?n:{}),{},{key:t.header}),t.render({pool:e}))}))},e.poolCode)}),[t,i]),g=(0,c.useMemo)((function(){return r?null:(0,k.jsx)(y.default,{mx:"6",py:"0",flex:"1",children:i.map((function(e){var t;return(0,k.jsx)(u.default,P(P({flex:"1"},null!=(t=e.boxProps)?t:{}),{},{children:(0,k.jsx)(s.default.Subheading,{color:"text-subdued",children:n.formatMessage({id:e.header})})}),e.header)}))})}),[i,n,r]);return i.length?(0,k.jsxs)(u.default,{children:[g,t.map((function(e,t){return(r?f:h)(e,t)}))]}):null},R=function(e){var t,n,r=e.onConfirm,o=e.protocol,a=e.onClose,c=(0,m.default)(),f=(0,g.useActiveWalletAccount)().network;return(0,k.jsx)(i.default,{visible:!0,onClose:a,contentProps:{icon:(0,k.jsxs)(u.default,{size:"52px",borderRadius:"12px",borderWidth:"1px",borderColor:"border-subdued",overflow:"hidden",position:"relative",children:[(0,k.jsx)(d.default,{size:"full",src:o.protocolIcon,alt:o.protocolName}),(0,k.jsx)(d.default,{source:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAfCAMAAACmqq93AAAAUVBMVEUAAAAMDAwLCwv6+vr+/v79/f339/f6+vr7+/vu7u7Hx8f////v7+/6+vrh4eH////7+/v8/Pze3t7+/v78/Pz5+fnf39/////39/empqb///+KJeaPAAAAGnRSTlMABgqj4KGkk4JFKfBmYiTfwXET0MKyNzAiGkjwtncAAACUSURBVDjL5dFLDsIwDEXRxPknDaXl7/0vlCAxaC2ZvjnX0yNZls1/t+K0w/IZYDqjdA2MUVs8H9Gy5JyTazxy9hec+dsRzcwgXRilJw/Tzii1V5xeJE0q9ZJOOK0GpWfSKDV0v7kLGUmjNuylr/qvpCTwq7eXur633e2FNPlIwTkXx7gY01QHHFLL0jYBpR2R/bR1b4y2G5MTsa3dAAAAAElFTkSuQmCC",w:"35px",h:"25px",position:"absolute",bottom:"0",right:"0",zIndex:"1"}),(0,k.jsx)(d.default,{src:null!=(t=null==f?void 0:f.logoURI)?t:"",w:"12px",h:"12px",position:"absolute",bottom:"2px",right:"2px",zIndex:"2"})]}),title:o.protocolName,contentElement:(0,k.jsxs)(l.default,{children:[(0,k.jsx)(s.default.Body2,{textAlign:"center",children:null!=(n=o.protocolUrl)?n:""}),(0,k.jsx)(s.default.Body2,{mt:"6",textAlign:"center",children:c.formatMessage({id:"content__you_are_about_to_visit_this_site_in_a_dapp_browser_do_you_want_to_continue"})})]})},footerButtonProps:{primaryActionTranslationId:"action__visit",onPrimaryActionPress:function(e){var t=e.onClose;null==t||t(),null==r||r()}}})},E=function(e){var t=(0,g.useNavigation)(),n=(0,a.default)(),r=(0,c.useCallback)((function(){var n;(0,b.openDapp)(null!=(n=null==e?void 0:e.protocolUrl)?n:""),t.canGoBack()&&t.goBack()}),[null==e?void 0:e.protocolUrl,t]);return(0,c.useCallback)((function(){if(null!=e&&e.protocolUrl)return n?void(0,v.showDialog)((0,k.jsx)(R,{protocol:e,onConfirm:r})):r()}),[e,n,r])},B=function(e){var t=e.poolType,n=(0,a.default)();return(0,k.jsx)(o.default,{ml:n?4:6,my:"4",children:(0,k.jsx)(u.default,{px:"6px",bg:"surface-highlight-default",borderRadius:"6px",children:(0,k.jsx)(s.default.Body2Strong,{color:"text-default",numberOfLines:1,children:t})})})},N=function(e){var t,n=e._id,i=e.pools,s=e.protocolValue,d=e.protocolName,f=e.protocolIcon,b=e.claimableValue,v=e.showHeader,y=void 0===v||v,j=e.bgColor,w=e.poolCode,O=(0,m.default)(),I=(0,a.default)(),S=(0,g.useActiveWalletAccount)(),T=S.networkId,C=S.accountId,M=(0,g.useAppSelector)((function(e){var t,n;return null==(t=e.overview.overviewStats)||null==(n=t[T])?void 0:n[C]})),P=E(e),A=(0,c.useMemo)((function(){var e,t;return new(p())(s).div(null!=(e=null==M||null==(t=M.summary)?void 0:t.totalValue)?e:0).multipliedBy(100)}),[s,null==M||null==(t=M.summary)?void 0:t.totalValue]),R=(0,c.useMemo)((function(){return w?i.filter((function(e){return(0,r.default)(e,2)[1].filter((function(e){return e.poolCode===w})).length>0})).map((function(e){var t=(0,r.default)(e,2);return[t[0],t[1].filter((function(e){return e.poolCode===w}))]})).map((function(e,t){var o,a=(0,r.default)(e,2),i=a[0],s=a[1];return(0,k.jsxs)(l.default,{borderTopWidth:0===t?0:"1px",borderTopColor:"divider",children:[(0,k.jsx)(B,{poolType:i,poolName:null==s||null==(o=s[0])?void 0:o.poolName}),(0,k.jsx)(D,{networkId:n.networkId,poolType:i,pools:s})]},i)})):(0,k.jsx)(u.default,{bg:j,children:i.map((function(e,t){var o,a=(0,r.default)(e,2),i=a[0],s=a[1];return(0,k.jsxs)(l.default,{borderTopWidth:0===t?0:"1px",borderTopColor:"divider",children:[(0,k.jsx)(B,{poolType:i,poolName:null==s||null==(o=s[0])?void 0:o.poolName}),(0,k.jsx)(D,{networkId:n.networkId,poolType:i,pools:s})]},i)}))})}),[j,i,n,w]);return(0,k.jsx)(h.ErrorBoundary,{children:(0,k.jsxs)(u.default,{borderRadius:"12px",bg:"surface-default",borderWidth:"1px",borderColor:"border-subdued",overflow:"hidden",mb:"6",children:[y?(0,k.jsx)(_,{name:d,onOpenDapp:P,rate:A,desc:(0,k.jsx)(o.default,{typography:{md:"Heading",sm:"Body1Strong"},textAlign:I?"left":"right",children:(0,k.jsx)(x.FormatCurrencyNumber,{value:0,convertValue:new(p())(s)})}),extra:+b>0?(0,k.jsx)(o.default,{color:"text-subdued",typography:{md:"Body2Strong",sm:"CaptionStrong"},textAlign:I?"left":"right",children:O.formatMessage({id:"form__claimable_str"},{0:(0,k.jsx)(x.FormatCurrencyNumber,{value:0,convertValue:new(p())(b)})})}):void 0,icon:f}):null,R]})})},L=(0,c.memo)(N)},733198:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{PasswordRoutes:()=>r}),function(e){e.PasswordRoutes="PasswordRoutes"}(r||(r={}))},485573:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ListEmptyComponent:()=>s});var r=n(510374),o=n(795116),a=n(719392),i=n(783112),l=n(552322),s=function(e){var t=e.isLoading,n=e.symbol,s=e.desc,u=(0,i.default)();if(t)return(0,l.jsx)(o.default,{w:"full",h:"20",children:(0,l.jsx)(a.default,{size:"lg"})});var d=n?u.formatMessage({id:"title__no_alert_desc"},{0:n}):"";return(0,l.jsx)(o.default,{w:"full",h:"full",children:(0,l.jsx)(r.default,{emoji:"\ud83d\udd14",title:u.formatMessage({id:"title__no_alert"}),subTitle:s||d})})}},930822:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GuideToPushFirstTimeCheck:()=>S,default:()=>T});var r=n(877531),o=n(361301),a=n(18861),i=n(866904),l=n(795116),s=n(10918),u=n(256666),d=n(634795),c=n(202784),f=n(472719),p=n(783112),m=n(814817),h=n(292147),x=(n(213208),n(945821)),g=n(493877),b=n(481047),v=n(821919),y=n(830631),j=n(776553),w=n(352605),k=n(755329),_=n(552322);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,u.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(){var e=(0,g.default)(),t=x.default.serviceBootstrap,n=(0,c.useCallback)((function(){var n=!0,r=function(){var r=(0,d.default)((function*(){yield(0,j.wait)(1e3);var r=yield t.checkShouldShowNotificationGuide();n&&r&&e.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.PushNotification,params:{screen:k.PushNotificationRoutes.GuideToPushFirstTime}})}));return function(){return r.apply(this,arguments)}}();return r(),function(){n=!1}}),[e,t]);return(0,f.useFocusEffect)(n),null}const T=function(){var e=(0,p.default)(),t=x.default.dispatch,n=x.default.serviceNotification,u=(0,w.useEvmWalletsAndAccounts)().wallets;(0,c.useEffect)((function(){t((0,y.setGuideToPushFistTime)(!0))}),[t]);var f=(0,c.useCallback)((0,d.default)((function*(){var e=u.map((function(e){return e.accounts.map((function(t){return I(I({},t),{},{passphrase:(0,m.isPassphraseWallet)(e)})}))})).flat().slice(0,50),t=yield n.filterContractAddresses(e.map((function(e){return e.address})));yield n.addAccountDynamicBatch({data:e.filter((function(e){return t.some((function(t){return t===e.address}))})).map((function(e){return{passphrase:e.passphrase,accountId:e.id,address:e.address,name:e.name}}))})})),[u,n]),g=(0,c.useCallback)(function(){var e=(0,d.default)((function*(e){var r=e.close;null==r||r(),t((0,v.setPushNotificationConfig)({pushEnable:!0,priceAlertEnable:!0,btcAndEthPriceAlertEnable:!0,favoriteTokensPriceAlertEnable:!0,accountActivityPushEnable:!0}));try{yield n.syncPushNotificationConfig(),yield f()}catch(o){h.default.notification.error("close notification addAccountDynamics error",o)}}));return function(t){return e.apply(this,arguments)}}(),[t,f,n]),b=(0,c.useMemo)((function(){return[{icon:"\ud83d\udea8",title:e.formatMessage({id:"form__price_volatility"}),desc:e.formatMessage({id:"form__price_volatility_desc"})},{icon:"\ud83d\udcc8",title:e.formatMessage({id:"form__price_alert"}),desc:e.formatMessage({id:"title__no_alert_desc"},{0:"tokens"})},{icon:"\ud83d\udc64",title:e.formatMessage({id:"form__account_activity"}),desc:e.formatMessage({id:"account_activity_desc"})}]}),[e]);return(0,_.jsx)(r.default,{height:"560px",hideSecondaryAction:!0,onPrimaryActionPress:g,primaryActionProps:{type:"primary"},primaryActionTranslationId:"action__allow",children:(0,_.jsxs)(o.default,{position:"relative",height:"full",children:[(0,_.jsx)(l.default,{position:"absolute",bottom:"-12px",width:"full",children:(0,_.jsx)(s.default.Body2,{children:e.formatMessage({id:"content__you_can_change_this_option_later_in_the_settings"})})}),(0,_.jsxs)(l.default,{children:[(0,_.jsx)(i.default,{fontSize:56,children:"\ud83d\udd14"}),(0,_.jsx)(s.default.DisplayLarge,{children:e.formatMessage({id:"title__notifications"})})]}),b.map((function(e,t){return(0,_.jsxs)(a.default,{px:"4",flexDirection:"row",mt:0===t?"64px":4,children:[(0,_.jsx)(s.default.DisplayLarge,{mr:"4",children:e.icon}),(0,_.jsxs)(a.default,{flex:1,children:[(0,_.jsx)(s.default.Body1Strong,{mb:"1",children:e.title}),(0,_.jsx)(s.default.Body2,{flex:1,numberOfLines:2,color:"text-subdued",children:e.desc})]})]},e.icon)}))]})})}},662856:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FormatCurrencyNumber:()=>j,default:()=>w});var r=n(18861),o=n(433996),a=n(719392),i=n(866904),l=n(737790),s=n(413888),u=n.n(s),d=n(634795),c=n(196234),f=n(459740),p=n(202784),m=n(815749),h=n(292147),x=n(945821),g=n(516535),b=n(925743),v=n(552322),y=["divider","alert"];function j(e){var t=e.value,n=e.onlyNumber,r=e.unit;return"number"!==typeof t?null:"sats"===r.toLowerCase()?(0,v.jsxs)(v.Fragment,{children:[t<.01?`${(0,g.formatDecimalZero)(t)}`:(0,v.jsx)(m.FormattedNumber,{value:null!=t?t:0,style:"decimal",minimumFractionDigits:2,maximumFractionDigits:10}),` ${n?"":r}`]}):(0,v.jsxs)(v.Fragment,{children:[`${n?"":r}`,t<.01?`${(0,g.formatDecimalZero)(t)}`:(0,v.jsx)(m.FormattedNumber,{value:null!=t?t:0,style:"decimal",minimumFractionDigits:2,maximumFractionDigits:10})]})}const w=function(e){var t=e.divider,n=e.alert,s=(0,f.default)(e,y),m=n.price,g=n.currency,w=(0,b.useCurrencyUnit)(g),k=(0,p.useState)(!1),_=(0,c.default)(k,2),O=_[0],I=_[1],S=(0,p.useCallback)((0,d.default)((function*(){I(!0);try{yield x.default.serviceNotification.removePriceAlertConfig(u()(n,"price","currency","coingeckoId"))}catch(e){h.default.common.error("remove PriceAlert",e instanceof Error?null==e?void 0:e.message:e)}setTimeout((function(){I(!1),null==s||s.onRemove(n.price)}),200)})),[s,n]);return(0,v.jsx)(r.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:4,px:{base:4,md:6},borderBottomWidth:t?"1 ":void 0,borderBottomColor:"divider",borderBottomRadius:t?void 0:"12px",children:(0,v.jsxs)(r.default,{flex:"1",flexDirection:"row",alignItems:"center",children:[(0,v.jsx)(l.default,{size:8,token:n,showNetworkIcon:!0}),(0,v.jsxs)(i.default,{typography:"Body1Strong",numberOfLines:1,ml:3,flex:"1",children:[`1 ${n.symbol} = `,(0,v.jsx)(j,{value:+(m||0),unit:w})]}),(0,v.jsx)(r.default,{w:"8",h:"8",alignItems:"center",justifyContent:"center",children:O?(0,v.jsx)(a.default,{size:"sm"}):(0,v.jsx)(o.default,{name:"TrashMini",type:"plain",circle:!0,onPress:S})})]})})}},352605:(e,t,n)=>{"use strict";n.r(t),n.d(t,{checkAccountCanSubscribe:()=>v,useEnabledAccountDynamicAccounts:()=>g,useEvmWalletsAndAccounts:()=>x,usePriceAlertlist:()=>b});var r=n(256666),o=n(634795),a=n(196234),i=n(202784),l=n(278489),s=n(393587),u=n(402814),d=n(613549),c=n(945821),f=n(747225);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){return[s.ADDRESS_ZERO,s.DUMMY_ADDRESS,s.DUMMY_ADDRESS_2,s.DUMMY_ADDRESS_3].includes(e)},x=function(){var e=c.default.engine,t=(0,i.useState)([]),n=(0,a.default)(t,2),r=n[0],s=n[1],u=(0,f.useRuntime)().wallets,p=(0,i.useCallback)((0,o.default)((function*(){var t=yield Promise.all(u.map(function(){var t=(0,o.default)((function*(t){var n,r=yield e.getAccounts(t.accounts);return m(m({},t),{},{accounts:null!=(n=null==r?void 0:r.filter((function(e){if(!e)return!1;var t=e||{},n=t.address,r=t.coinType;return!h(n)&&!!(0,l.isCoinTypeCompatibleWithImpl)(r,d.IMPL_EVM)})))?n:[]})}));return function(e){return t.apply(this,arguments)}}()));return s(t),t})),[e,u]);return(0,i.useEffect)((function(){p()}),[p]),{wallets:r,getWalletsAndAccounts:p}},g=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=(0,i.useState)(!1),n=(0,a.default)(t,2),r=n[0],l=n[1],s=c.default.serviceNotification,u=x(),d=u.wallets,f=u.getWalletsAndAccounts,p=(0,i.useState)([]),m=(0,a.default)(p,2),h=m[0],g=m[1],b=(0,i.useCallback)((0,o.default)((function*(){var e=yield s.queryAccountDynamic();g(e)})),[s]),v=(0,i.useCallback)((0,o.default)((function*(){l(!0);try{yield b(),yield f()}finally{l(!1)}})),[b,f]);return(0,i.useEffect)((function(){e&&v()}),[v,e]),{loading:r,wallets:d,enabledAccounts:h,refresh:v}},b=function(){var e=c.default.serviceNotification,t=(0,i.useState)(!1),n=(0,a.default)(t,2),r=n[0],l=n[1],s=(0,i.useState)([]),u=(0,a.default)(s,2),d=u[0],f=u[1],p=(0,i.useCallback)((0,o.default)((function*(){l(!0);try{var t=yield e.queryPriceAlertList();f(t||[])}catch(n){}l(!1)})),[e]);return(0,i.useEffect)((function(){p()}),[p]),{alerts:d,loading:r,fetchPriceAlerts:p}},v=function(){var e=(0,o.default)((function*(e,t){if(!e)return!1;var n=e||{},r=n.address,a=n.coinType;if(h(r))return!1;if(!(0,l.isCoinTypeCompatibleWithImpl)(a,d.IMPL_EVM))return!1;var i=yield(0,u.makeTimeoutPromise)({asyncFunc:function(){var e=(0,o.default)((function*(){return c.default.validator.isContractAddress(t,r)}));return function(){return e.apply(this,arguments)}}(),timeout:6e3,timeoutResult:!1});return!i}));return function(t,n){return e.apply(this,arguments)}}()},755329:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{PushNotificationRoutes:()=>r}),function(e){e.GuideToPushFirstTime="GuideToPushFirstTime"}(r||(r={}))},193530:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useAccountCanTransaction:()=>y,useIsVerticalOrMiddleLayout:()=>w,useRevokeAddress:()=>g,useSpenderAppName:()=>v,useTokenAllowances:()=>b,useUpdateAllowance:()=>j});var r=n(384247),o=n(634795),a=n(196234),i=n(202784),l=n(472719),s=n(911929),u=n(626015),d=n(393587),c=n(506885),f=n(447325),p=n(945821),m=n(859071),h=n(481047),x=n(38484),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(0,i.useState)(""),n=(0,a.default)(t,2),r=n[0],l=n[1],s=(0,i.useState)(!0),u=(0,a.default)(s,2),d=u[0],c=u[1],f=(0,i.useCallback)((0,o.default)((function*(){c(!0);var t=yield p.default.serviceRevoke.getAddress(e);l(null!=t?t:""),setTimeout((function(){c(!1)}),1e3)})),[e]);return(0,i.useEffect)((function(){f()}),[e,f]),{updateAddress:f,address:r,loading:d}},b=function(e,t,n){var r,a,l,u,d=(0,s.useAsync)((0,o.default)((function*(){return p.default.serviceRevoke.fetchTokenAllowance(e,t,n,!1)})),[e,t,n]),c=d.result,m=d.loading,h=d.error,x=d.execute;return(0,i.useEffect)((function(){return f.appUIEventBus.on(f.AppUIEventBusNames.RevokeRefresh,x),function(){f.appUIEventBus.off(f.AppUIEventBusNames.RevokeRefresh,x)}}),[x]),h?{address:"",prices:{},allowances:[],loading:!1,isFromRpc:!1}:{address:null!=(r=null==c?void 0:c.address)?r:"",prices:null!=(a=null==c?void 0:c.prices)?a:{},allowances:null!=(l=null==c?void 0:c.allowance)?l:[],isFromRpc:null!=(u=null==c?void 0:c.isFromRpc)&&u,loading:m,error:h}},v=function(e,t){var n=(0,i.useState)(""),r=(0,a.default)(n,2),l=r[0],s=r[1],d=(0,i.useCallback)((0,o.default)((function*(){var n=yield p.default.serviceRevoke.getSpenderName(e,t);s(n)})),[t,e]);return(0,i.useEffect)((function(){d()}),[d]),l||(0,u.shortenAddress)(t)},y=function(e){var t=(0,m.useActiveWalletAccount)(),n=t.account,r=t.wallet;return(0,i.useMemo)((function(){return n&&n.id&&(null==n?void 0:n.address.toLowerCase())===e.toLowerCase()&&(null==r?void 0:r.type)!==c.WALLET_TYPE_WATCHING}),[n,e,null==r?void 0:r.type])},j=function(e){var t=e.networkId,n=e.spender,r=e.contract,a=(0,l.useNavigation)(),s=(0,m.useActiveWalletAccount)(),u=s.accountId,c=s.accountAddress,g=(0,i.useCallback)(function(){var e=(0,o.default)((function*(e){var o,i=e.amount,l=e.tokenId;o=e.assetType===x.AssetType.tokens?yield p.default.engine.buildEncodedTxFromApprove({amount:i,networkId:t,spender:n,accountId:u,token:r}):"undefined"!==typeof l?yield p.default.serviceRevoke.buildEncodedTxsFromApprove({from:c,to:null!=r?r:"",approve:d.ADDRESS_ZERO,tokenId:l}):yield p.default.serviceRevoke.buildEncodedTxsFromSetApprovalForAll({from:c,to:null!=r?r:"",approved:!1,spender:n}),a.navigate(h.RootRoutes.Modal,{screen:h.ModalRoutes.Send,params:{screen:h.SendModalRoutes.SendConfirm,params:{accountId:u,networkId:t,feeInfoEditable:!0,feeInfoUseFeeInTx:!1,encodedTx:o,onSuccess:function(){f.appUIEventBus.emit(f.AppUIEventBusNames.RevokeRefresh)}}}})}));return function(t){return e.apply(this,arguments)}}(),[u,r,a,t,n,c]);return g},w=function(){var e=(0,r.default)().size;return(0,i.useMemo)((function(){return["SMALL","NORMAL"].includes(e)}),[e])}},354703:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MarketStakeButton:()=>j,MarketStakeButtonContent:()=>y});var r=n(321668),o=n(669083),a=n(634795),i=n(196234),l=n(202784),s=n(472719),u=n(783112),d=n(849877),c=n(292147),f=n(859071),p=n(744128),m=n(481047),h=n(850893),x=n(288471),g=n(375814),b=n(556855),v=n(552322),y=function(e){var t=e.stakingType,n=e.buttonType,b=void 0===n?"icon":n,y=(0,u.default)(),j=(0,l.useState)(!1),w=(0,i.default)(j,2),k=w[0],_=w[1],O=(0,f.useActiveWalletAccount)(),I=O.accountId,S=O.networkId,T=(0,s.useNavigation)(),C=(0,p.useAllNetworksSelectNetworkAccount)({accountId:I,networkId:S,filter:(0,g.getStakeSelectNetworkAccountFilter)(t)}),M=(0,l.useCallback)((0,a.default)((function*(){try{var e,n;if(_(!0),(0,d.isAllNetworks)(S)){var r=yield C(),a=r.account;e=r.network.id,n=a.id}else if((0,g.isAccountCompatibleWithStakingTypes)(I,t)){var i=(0,g.getRecommendNetworkIdByStakingType)(t);i&&(e=i,n=I)}if(!e||!n)return void o.default.show({title:y.formatMessage({id:"msg__unknown_error"})});c.default.staking.info(`use networkId: ${e} and account id ${n} to stake asset`);var l=function(e){if(e===g.StakingTypes.eth)return x.StakingRoutes.ETHStake;if(e===g.StakingTypes.matic)return x.StakingRoutes.MaticStake;throw new Error("wrong stake type params")}(t);T.navigate(m.RootRoutes.Modal,{screen:m.ModalRoutes.Staking,params:{screen:l,params:{networkId:e,accountId:n}}})}finally{_(!1)}})),[C,T,t,I,S,y]);return t&&!k?(0,v.jsx)(v.Fragment,{children:"icon"===b?(0,v.jsx)(h.ButtonItem,{icon:"InboxArrowDownMini",text:y.formatMessage({id:"action__stake"}),onPress:M}):(0,v.jsx)(r.default,{borderRadius:12,type:"basic",size:"xs",onPress:M,children:y.formatMessage({id:"action__stake"})})}):null},j=function(e){var t=e.stakingType,n=e.buttonType,r=(0,f.useActiveWalletAccount)(),o=r.accountId,a=r.networkId;return(0,d.isAllNetworks)(a)||(0,g.isAccountCompatibleWithStakingTypes)(o,t)?(0,v.jsx)(b.WidgetContainer,{stakingType:t,children:(0,v.jsx)(y,{stakingType:t,buttonType:n})}):null}},556855:(e,t,n)=>{"use strict";n.r(t),n.d(t,{WidgetContainer:()=>l});var r=n(849877),o=n(859071),a=n(375814),i=n(552322),l=function(e){var t=e.stakingType,n=e.children,l=(0,o.useActiveWalletAccount)(),s=l.accountId,u=l.networkId;return(0,r.isAllNetworks)(u)||(0,a.isAccountCompatibleWithStakingTypes)(s,t)?(0,i.jsx)(i.Fragment,{children:n}):null}},375814:(e,t,n)=>{"use strict";n.r(t),n.d(t,{StakingTypes:()=>a,buildWithdrawStEthTransaction:()=>I,coingeckoId2StakingTypes:()=>x,fetchStEthRate:()=>_,getLidoTokenEvmAddress:()=>w,getRecommendNetworkIdByStakingType:()=>b,getStakeSelectNetworkAccountFilter:()=>v,getTransactionStakingType:()=>h,isAccountCompatibleWithStakingTypes:()=>y,isSTETH:()=>k,isSupportStakingType:()=>j});var r,o,a,i=n(634795),l=n(534756),s=n(942013),u=n(945821),d=n(422314),c=n(964253),f=[s.OnekeyNetwork.eth,s.OnekeyNetwork.goerli],p=[`${s.OnekeyNetwork.eth}--${c.MainnetMaticContractAddress}`,`${s.OnekeyNetwork.goerli}--${c.TestnetMaticContractAddress}`];!function(e){e.eth="eth",e.matic="matic"}(a||(a={}));var m=((r={})[a.eth]=["lidoClaim","lidoStake","lidoUnstake"],r[a.matic]=["lidoClaimMatic","lidoStakeMatic","lidoUnstakeMatic"],r),h=function(e){for(var t=Object.entries(m),n=0;n<t.length;n+=1){var r=t[n],o=r[0];if(r[1].includes(e))return o}},x={ethereum:a.eth,"matic-network":a.matic},g=((o={})[a.eth]=[s.OnekeyNetwork.eth,s.OnekeyNetwork.goerli],o[a.matic]=[s.OnekeyNetwork.eth,s.OnekeyNetwork.goerli],o),b=function(e){var t;return null==(t=g[e])?void 0:t[0]},v=function(e){var t=g[e];if(t&&0!==t.length)return function(e){var n=e.network;return!!n&&t.includes(n.id)}},y=function(e,t){var n=g[t];return!(!n||0===n.length)&&n.some((function(t){return(0,l.isAccountCompatibleWithNetwork)(e,t)}))},j=function(e){var t=function(e){var t=e.tokenIdOnNetwork,n=e.networkId;return n?t?`${n}--${t}`:`${n}`:""}({networkId:e.networkId,tokenIdOnNetwork:e.tokenIdOnNetwork});return f.includes(t)?a.eth:p.includes(t)?a.matic:void 0},w=function(e,t){if(e)return e!==s.OnekeyNetwork.goerli||t?e!==s.OnekeyNetwork.eth||t?void 0:c.MainnetLidoContractAddress:c.TestnetLidoContractAddress},k=function(e,t){return!(!e||!t)&&(e===s.OnekeyNetwork.goerli&&t.toLowerCase()===c.TestnetLidoContractAddress.toLowerCase()||e===s.OnekeyNetwork.eth&&t.toLowerCase()===c.MainnetLidoContractAddress.toLowerCase())};function _(e){return O.apply(this,arguments)}function O(){return(O=(0,i.default)((function*(e){var t=e.networkId,n=e.account,r=e.amount||"0.1",o=yield u.default.engine.getNativeTokenInfo(t),a=yield u.default.serviceStaking.getStEthToken({networkId:t}),i=yield u.default.engine.getNetwork(t),l={networkOut:i,networkIn:i,tokenOut:o,tokenIn:a,slippagePercentage:"1",typedValue:r,independentField:"INPUT",activeAccount:n,receivingAddress:n.address};return yield d.SwapQuoter.client.fetchQuote(l)}))).apply(this,arguments)}function I(e){return S.apply(this,arguments)}function S(){return(S=(0,i.default)((function*(e){var t=e.networkId,n=e.account,r=e.typedValue,o=yield u.default.engine.getNativeTokenInfo(t),a=yield u.default.serviceStaking.getStEthToken({networkId:t}),i=yield u.default.engine.getNetwork(t),l={networkOut:i,networkIn:i,tokenOut:o,tokenIn:a,slippagePercentage:"1",typedValue:r,independentField:"INPUT",activeAccount:n,receivingAddress:n.address},s=yield d.SwapQuoter.client.fetchQuote(l),c=null==s?void 0:s.data;if(!c)throw new Error("failed to build unstake params");return{params:l,quote:c}}))).apply(this,arguments)}},277170:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ArrivalTime:()=>l});var r=n(866904),o=n(202784),a=n(783112),i=n(552322),l=function(e){var t=e.value,n=e.typography,l=void 0===n?"Caption":n,s=e.color,u=void 0===s?"text-subdued":s,d=(0,a.default)(),c=(0,o.useMemo)((function(){if(!t)return d.formatMessage({id:"content__str_mins"},{content__str_mins:1});if(t<60)return d.formatMessage({id:"content__str_seconds"},{content__str_seconds:t});var e=Math.ceil(t/60);return d.formatMessage({id:"content__str_mins"},{content__str_mins:e})}),[t,d]);return(0,i.jsxs)(r.default,{typography:l,color:u,children:["<",c]})}},690549:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SwapTransactionsCancelApprovalBottomSheetModal:()=>c});var r=n(259825),o=n(470310),a=n(321668),i=n(795116),l=n(10918),s=n(202784),u=n(783112),d=n(552322),c=function(e){var t=e.close,n=e.onSubmit,c=(0,u.default)(),f=(0,s.useCallback)((function(){t(),n()}),[t,n]);return(0,d.jsxs)(r.default,{closeOverlay:t,title:"",showHeader:!1,children:[(0,d.jsx)(i.default,{h:"64px",children:(0,d.jsx)(l.default.Heading,{fontSize:60,lineHeight:64,children:"\u2139\ufe0f"})}),(0,d.jsx)(l.default.DisplayMedium,{mt:"4",children:c.formatMessage({id:"msg__need_to_send_str_transactions_to_change_allowance"},{0:"2"})}),(0,d.jsx)(l.default.Body1,{color:"text-subdued",my:"4",children:c.formatMessage({id:"msg__modifying_the_authorized_limit_of_usdt_requires_resetting_it_to_zero_first_so_two_authorization_transactions_may_be_initiated"})}),(0,d.jsxs)(o.default,{flexDirection:"row",space:"4",children:[(0,d.jsx)(a.default,{size:"xl",type:"basic",onPress:t,flex:"1",children:c.formatMessage({id:"action__cancel"})}),(0,d.jsx)(a.default,{size:"xl",type:"primary",onPress:f,flex:"1",children:c.formatMessage({id:"action__confirm"})})]})]})}},870291:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Scheduler:()=>c,default:()=>f});var r=n(256666),o=n(634795),a=n(887371),i=n(202784),l=n(945821),s=n(436873),u=n(422314);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var c=function(){function e(e){this.tx=e}var t=e.prototype;return t.run=function(){var e=this;this.runTask();var t=this.getMs();t?this.timer=setTimeout((function(){e.run()}),t):this.stop()},t.stop=function(){this.timer&&(clearTimeout(this.timer),this.timer=void 0)},t.getMs=function(){var e=this.tx,t=e.addedTime,n=e.tokens,r=(null==n?void 0:n.from.networkId)===(null==n?void 0:n.to.networkId)?5e3:3e4;return Date.now()-t<=36e5?r:3e5},t.runTask=function(){var e=(0,o.default)((function*(){var e=this.tx,t=yield u.SwapQuoter.client.queryTransactionProgress(e);if(t){var n=t.status;if(n&&"pending"!==n&&(this.stop(),l.default.dispatch((0,s.updateTransaction)({accountId:e.accountId,networkId:e.networkId,hash:e.hash,transaction:{confirmedTime:Date.now(),status:n}})),e.tokens)){var o=e.tokens.from,a=o.token.tokenIdOnNetwork?[o.token.tokenIdOnNetwork]:[];if(l.default.serviceToken.fetchAndSaveAccountTokenBalance({accountId:e.accountId,networkId:o.networkId,tokenIds:a}),e.receivingAddress){var i=yield l.default.serviceAccount.getAccountByAddress({address:e.receivingAddress}),c=e.tokens.to;if(i){var f=c.token.tokenIdOnNetwork?[c.token.tokenIdOnNetwork]:[];l.default.serviceToken.fetchAndSaveAccountTokenBalance({accountId:i.id,networkId:c.networkId,tokenIds:f})}}}var p=t.destinationTransactionHash;if(t.destinationTransactionHash&&l.default.dispatch((0,s.updateTransaction)({accountId:e.accountId,networkId:e.networkId,hash:e.hash,transaction:{destinationTransactionHash:t.destinationTransactionHash}})),"sucesss"===n){var m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);m.destinationTransactionHash=p;var h=yield u.SwapQuoter.client.getActualReceived(m);l.default.dispatch((0,s.updateTransaction)({accountId:e.accountId,networkId:e.networkId,hash:e.hash,transaction:{actualReceived:h}}));var x=yield u.SwapQuoter.client.getTxCompletedTime(e);x&&l.default.dispatch((0,s.updateTransaction)({accountId:e.accountId,networkId:e.networkId,hash:e.hash,transaction:{confirmedTime:Number(x)}}));var g=yield u.SwapQuoter.client.getTxActualNetworkFee(e);g&&l.default.dispatch((0,s.updateTransaction)({accountId:e.accountId,networkId:e.networkId,hash:e.hash,transaction:{networkFee:g}}))}}}));return function(){return e.apply(this,arguments)}}(),(0,a.default)(e)}();const f=function(e){var t=e.tx;return(0,i.useEffect)((function(){var e=new c(t);return e.run(),function(){e.stop()}}),[]),null}},695662:(e,t,n)=>{"use strict";n.r(t),n.d(t,{OneKeyLogo:()=>u,SwappingViaLogos:()=>d,default:()=>c});var r=n(866904),o=n(795116),a=n(18861),i=n(225447),l=n(552322);function s(e){return`https://node.onekey.so/proxyimg?base=${e}`}var u=function(e){var t=e.size||4;return(0,l.jsx)(a.default,{borderRadius:"full",w:t,h:t,overflow:"hidden",bgColor:"surface-neutral-default",children:(0,l.jsx)(i.default,{size:t,source:n(55337)})})},d=function(e){var t=e.sources,n=e.size||4;if(!t||0===t.length)return(0,l.jsx)(u,{});if(1===t.length)return(0,l.jsx)(a.default,{borderRadius:"full",w:n,h:n,overflow:"hidden",bgColor:"surface-neutral-default",children:(0,l.jsx)(i.default,{size:n,src:s(t[0]),testID:t[0]})},t[0]);var r=function(e,t){return e<=0?0:-t/2};return(0,l.jsx)(a.default,{flexDirection:"row",alignItems:"center",children:t.map((function(e,t){return(0,l.jsx)(o.default,{ml:r(t,n),borderRadius:"full",h:n,w:n,overflow:"hidden",bgColor:"surface-neutral-default",children:(0,l.jsx)(i.default,{size:n,src:s(e)})},e)}))})};const c=function(e){var t=e.providers,n=e.typography,o=void 0===n?"Caption":n,i=e.color,s=void 0===i?"text-subdued":i,u=e.fontWeight,c=void 0===u?400:u;if(!t)return(0,l.jsx)(a.default,{flexDirection:"row",flexGrow:1,children:(0,l.jsx)(r.default,{typography:o,color:s,isTruncated:!0,children:"OneKey Swap"})});if(1===t.length)return(0,l.jsxs)(a.default,{flexDirection:"row",alignItems:"center",flexGrow:1,children:[t[0].logoUrl?(0,l.jsx)(d,{sources:[t[0].logoUrl]}):null,(0,l.jsx)(r.default,{ml:2,typography:o,color:s,fontWeight:c,isTruncated:!0,children:t[0].name})]});if(t.length>1){var f=t.map((function(e){return e.logoUrl})).filter(Boolean);return(0,l.jsxs)(a.default,{alignItems:"center",flexDirection:"row",flexGrow:1,children:[f.length>0?(0,l.jsx)(d,{sources:f}):null,(0,l.jsxs)(r.default,{ml:"2",typography:o,color:s,fontWeight:c,isTruncated:!0,children:[t.length," Exchanges"]})]})}return(0,l.jsx)(a.default,{alignItems:"center",flexDirection:"row",flexGrow:1,children:(0,l.jsx)(r.default,{typography:o,color:s,children:"OneKey Swap"})})}},204230:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(18861),o=n(866904),a=n(206391),i=n.n(a),l=n(783112),s=n(428357),u=n(552322);function d(e){if(!e)return"0";var t=new(i())(e);return(t=t.multipliedBy(100)).isNaN()?"0":t.toFixed()}function c(e){return!!e&&[s.QuoterType.mdex].includes(e)}const f=function(e){var t=e.type,n=e.percentageFee,a=e.typography,i=void 0===a?"Caption":a,s=e.color,f=void 0===s?"text-subdued":s,p=(0,l.default)();return(0,u.jsx)(r.default,{children:c(t)||n&&0===Number(n)?(0,u.jsxs)(r.default,{flexDirection:"column",alignItems:"flex-end",children:[(0,u.jsx)(o.default,{typography:i,color:f,strikeThrough:!0,children:"0.3%"}),(0,u.jsx)(o.default,{typography:i,color:f,children:p.formatMessage({id:"form__free_limited_time"})})]}):(0,u.jsx)(o.default,{typography:i,color:f,children:n?`${d(n)}%`:" 0.3%"})})}},799126:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(561220),o=n(435581),a=n(866904),i=n(196234),l=n(202784),s=n(206391),u=n.n(s),d=n(415008),c=n(552322),f=function(e){var t=(0,d.formatAmount)(e,8),n=new(u())(t);return n.isZero()?(0,d.formatAmount)(e,16):n.isGreaterThan(1*10**9)?(0,d.formatAmount)(e,0):t};const p=function(e){var t=e.tokenA,n=e.tokenB,s=e.rate,u=e.typography,d=void 0===u?"Body2":u,p=e.color,m=void 0===p?"text-default":p,h=e.hideIcon,x=(0,l.useState)(!1),g=(0,i.default)(x,2),b=g[0],v=g[1];if(!t||!n||!s)return(0,c.jsx)(a.default,{typography:d,color:m,children:"---"});var y=t.symbol,j=n.symbol,w="";return w=b?`1 ${j} \u2248 ${f(1/Number(s))} ${y}`:`1 ${y} \u2248 ${f(s)} ${j}`,(0,c.jsxs)(r.default,{flexDirection:"row",alignItems:"center",onPress:function(){return v((function(e){return!e}))},children:[(0,c.jsx)(a.default,{typography:d,color:m,textAlign:"right",mr:"1",selectable:!1,children:w}),h?null:(0,c.jsx)(o.default,{size:16,name:"ArrowsRightLeftMini",color:"icon-subdued"})]})}},512607:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useAllLimitOrders:()=>g,useCancelLimitOrderCallback:()=>v,useCheckLimitOrderInputBalance:()=>b,useLimitOrderOutput:()=>h,useLimitOrderParams:()=>m,useLimitOrders:()=>x});var r=n(669083),o=n(634795),a=n(968079),i=n(202784),l=n(783112),s=n(945821),u=n(859071),d=n(436873),c=n(415008),f=n(797749),p=n(174915);function m(){var e=(0,u.useAppSelector)((function(e){return e.limitOrder.tokenIn})),t=(0,u.useAppSelector)((function(e){return e.limitOrder.tokenOut})),n=(0,u.useAppSelector)((function(e){return e.limitOrder.typedValue})),r=(0,u.useAppSelector)((function(e){return e.limitOrder.activeAccount})),o=(0,i.useMemo)((function(){if(e&&t&&n&&(0,c.gt)(n,0)&&r)return{tokenIn:e,tokenOut:t,tokenInValue:n,activeAccount:r}}),[e,t,n,r]);return(0,u.useDebounce)(o,500)}function h(){var e=(0,u.useAppSelector)((function(e){return e.limitOrder.instantRate})),t=(0,u.useAppSelector)((function(e){return e.limitOrder.typedValue}));return(0,i.useMemo)((function(){return e&&t?(0,c.multiply)(t,e):"0"}),[e,t])}function x(e,t){var n=(0,u.useAppSelector)((function(e){return e.swapTransactions.limitOrderDetails}));return(0,i.useMemo)((function(){if(!n||!e)return[];var r;if(e&&t)return null==(r=n[e])?void 0:r[t];var o=n[e];return o?Object.values(o).reduce((function(e,t){return e.concat(t)}),[]).sort((function(e,t){return t.createdAt-e.createdAt})):[]}),[n,e,t])}function g(){var e=(0,u.useAppSelector)((function(e){return e.swapTransactions.limitOrderDetails}));return(0,i.useMemo)((function(){return e?Object.values(e).reduce((function(e,t){return e.concat.apply(e,(0,a.default)(Object.values(t)))}),[]).sort((function(e,t){return t.createdAt-e.createdAt})):[]}),[e])}var b=function(){var e=(0,u.useAppSelector)((function(e){return e.limitOrder.tokenIn})),t=(0,u.useAppSelector)((function(e){return e.limitOrder.activeAccount})),n=(0,u.useAppSelector)((function(e){return e.limitOrder.typedValue})),r=(0,p.useTokenBalance)((0,c.gt)(n,0)?e:void 0,null==t?void 0:t.id);return(0,i.useMemo)((function(){if(e&&r&&n)return{insufficient:(0,c.lt)(r,n),token:e}}),[e,r,n])},v=function(){var e=(0,l.default)(),t=(0,f.useSwapSend)();return(0,i.useCallback)(function(){var n=(0,o.default)((function*(n){var a=n.activeAccount,i=n.details;if(yield s.default.serviceSwap.checkAccountInWallets(a.id)){var l=i.limitOrder;if(!l)l=(yield s.default.serviceLimitOrder.fetchOrderState({networkId:i.networkId,orderHash:i.orderHash})).order;if(l){var u=yield s.default.serviceLimitOrder.buildCancelLimitOrderTx(l);yield t({accountId:i.accountId,networkId:i.networkId,encodedTx:{from:a.address,to:u.to,data:u.data,value:"0x00"},onSuccess:function(){var t=(0,o.default)((function*(){s.default.dispatch((0,d.updateLimitOrderTransaction)({networkId:i.networkId,accountId:i.accountId,orderHash:i.orderHash,details:{canceled:!0}})),r.default.show({title:e.formatMessage({id:"msg__success"})})}));return function(){return t.apply(this,arguments)}}()})}}else r.default.show({title:e.formatMessage({id:"msg__account_deleted"},{0:a.name})},{type:"error"})}));return function(e){return n.apply(this,arguments)}}(),[e,t])}},469712:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useCheckInputBalance:()=>y,useDerivedSwapState:()=>b,useInputLimitsError:()=>w,useSwapError:()=>j,useSwapInputAmount:()=>v,useSwapQuoteRequestParams:()=>g,useSwapRecipient:()=>x,useSwapState:()=>h,useTokenAmount:()=>m});var r=n(887371),o=n(202784),a=n(206391),i=n.n(a),l=n(783112),s=n(859071),u=n(428357),d=n(415008),c=n(174915),f=n(34035),p=function(){function e(e,t){this.token=e,this.typedValue=t,this.base=new(i())(10),this.value=new(i())(t),this.decimals=new(i())(e.decimals),this.amount=this.base.exponentiatedBy(this.decimals).multipliedBy(this.value)}var t=e.prototype;return t.toNumber=function(){return this.amount},t.toFormat=function(){return this.toNumber().toFixed(0)},(0,r.default)(e)}();function m(e,t){return(0,o.useMemo)((function(){if(e&&t){var n=(0,d.getTokenAmountValue)(e,t);return new p(e,n.toFixed())}}),[e,t])}function h(){return(0,s.useAppSelector)((function(e){return e.swap}))}function x(){var e=(0,s.useAppSelector)((function(e){return e.swap.inputToken})),t=(0,s.useAppSelector)((function(e){return e.swap.outputToken})),n=(0,s.useAppSelector)((function(e){return e.swap.recipient})),r=(0,s.useAppSelector)((function(e){return e.swap.sendingAccount})),a=(0,s.useAppSelector)((function(e){return e.swap.allowAnotherRecipientAddress}));return(0,o.useMemo)((function(){if(e&&t&&((0,d.recipientMustBeSendingAccount)(e,t,a)&&r))return{accountId:r.id,address:r.address,name:r.name,networkId:e.networkId,networkImpl:e.impl};return n}),[n,r,a,e,t])}function g(){var e=(0,f.useSwapSlippage)().value,t=(0,s.useAppSelector)((function(e){return e.swap.inputToken})),n=(0,s.useAppSelector)((function(e){return e.swap.outputToken})),r=(0,s.useAppSelector)((function(e){return e.swap.independentField})),a=(0,s.useAppSelector)((function(e){return e.swap.typedValue})),l=(0,s.useAppSelector)((function(e){return e.swap.inputTokenNetwork})),u=(0,s.useAppSelector)((function(e){return e.swap.outputTokenNetwork})),d=(0,s.useAppSelector)((function(e){return e.swap.sendingAccount})),c=x(),p=null==c?void 0:c.address,m=(0,o.useMemo)((function(){if(t&&n&&a&&l&&u&&d&&p&&!new(i())(a).lte(0))return{typedValue:a,independentField:r,networkOut:u,networkIn:l,tokenOut:n,tokenIn:t,slippagePercentage:e,activeAccount:d,receivingAddress:p}}),[a,r,t,n,l,u,e,d,p]);return(0,s.useDebounce)(m,500)}function b(){var e=(0,s.useAppSelector)((function(e){return e.swap.independentField})),t=(0,s.useAppSelector)((function(e){return e.swap.typedValue})),n=(0,s.useAppSelector)((function(e){return e.swap.inputToken})),r=(0,s.useAppSelector)((function(e){return e.swap.outputToken})),a=(0,s.useAppSelector)((function(e){return e.swap.quote})),i=m(n,(0,d.greaterThanZeroOrUndefined)(null==a?void 0:a.sellAmount)),l=m(r,(0,d.greaterThanZeroOrUndefined)(null==a?void 0:a.buyAmount)),u=null!=a&&a.wrapperTxInfo?18:void 0,c=(0,o.useMemo)((function(){var n,r="INPUT"===e?"OUTPUT":"INPUT";return(n={})[e]=t,n[r]="INPUT"===r?(0,d.formatAmount)(null==i?void 0:i.value,u):(0,d.formatAmount)(null==l?void 0:l.value,u),n}),[e,i,l,t,u]);return{inputAmount:i,outputAmount:l,formattedAmounts:c}}function v(){var e=(0,s.useAppSelector)((function(e){return e.swap.inputToken})),t=(0,s.useAppSelector)((function(e){return e.swap.typedValue}));return(0,o.useMemo)((function(){if(e&&t)return(0,d.getTokenAmountString)(e,t)}),[e,t])}var y=function(){var e=(0,s.useAppSelector)((function(e){return e.swap.inputToken})),t=(0,s.useAppSelector)((function(e){return e.swap.sendingAccount})),n=v(),r=(0,c.useTokenBalance)(n?e:void 0,null==t?void 0:t.id);return(0,o.useMemo)((function(){if(e&&r&&n)return{insufficient:new p(e,r).toNumber().lt(n),token:e}}),[e,r,n])},j=function(){var e=(0,s.useAppSelector)((function(e){return e.swap.error})),t=y();return(0,o.useMemo)((function(){return e||(t&&t.insufficient?u.SwapError.InsufficientBalance:void 0)}),[e,t])};function w(){var e=(0,l.default)(),t=(0,s.useAppSelector)((function(e){return e.swap.inputToken})),n=(0,s.useAppSelector)((function(e){return e.swap.quoteLimited})),r=(0,s.useAppSelector)((function(e){return e.swap.typedValue})),a=m(t,(0,d.greaterThanZeroOrUndefined)(r)),i=m(t,null==n?void 0:n.max),u=m(t,null==n?void 0:n.min);return(0,o.useMemo)((function(){var n,r;if(a&&t&&(i||u)){if(u){var o=u.typedValue;u.amount.gt(a.amount)&&(n=e.formatMessage({id:"msg__str_minimum_amount"},{0:`${o} ${t.symbol}`}),r=o)}if(i){var l=i.typedValue;i.amount.lt(a.amount)&&(n=e.formatMessage({id:"msg__str_maximum_amount"},{0:`${l} ${t.symbol}`}),r=l)}}if(n&&r)return{message:n,value:r}}),[a,t,i,u,e])}},797749:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useSwapSend:()=>m,useSwapSignMessage:()=>h});var r=n(634795),o=n(202784),a=n(534756),i=n(292147),l=(n(213208),n(945821)),s=n(493877),u=n(420454),d=n(481047),c=n(432986),f=n(530483),p=n(415008);function m(){var e=(0,s.default)(),t=(0,u.useAppSelector)((function(e){return e.settings.validationSetting}));return(0,o.useCallback)(function(){var n=(0,r.default)((function*(n){var r=n.encodedTx,o=n.accountId,s=n.networkId,u=n.payloadInfo,m=n.prepaidFee,h=n.onFail,x=n.onSuccess,g=n.onDetail,b=n.gasEstimateFallback,v=n.showSendFeedbackReceipt,y=(0,p.createLoggerTimer)(),j=(0,a.getWalletIdFromAccountId)(o),w=yield l.default.engine.getWallet(j),k=(yield l.default.servicePassword.getPassword())&&!(null!=t&&t.Payment);if("hw"===w.type||"external"!==w.type&&k)try{y.start(p.LoggerTimerTags.sendTransaction);var _=yield l.default.serviceSwap.sendTransaction({accountId:o,networkId:s,encodedTx:r,payload:u,autoFallback:b,prepaidFee:m}),O=_.result,I=_.decodedTx;y.end(p.LoggerTimerTags.sendTransaction),yield null==x?void 0:x({result:O,decodedTx:I}),v&&setTimeout((function(){e.navigate(d.RootRoutes.Modal,{screen:d.ModalRoutes.Send,params:{screen:f.SendModalRoutes.SendFeedbackReceipt,params:{networkId:s,accountId:o,txid:O.txid,type:"Send"}}})}),10)}catch(C){var S,T=(null==C||null==(S=C.data)?void 0:S.message)||C.message;i.default.swap.error(`swap send failed with message ${T}`),c.deviceUtils.showErrorToast(C,T),null==h||h(C)}else{setTimeout((function(){e.navigate(d.RootRoutes.Modal,{screen:d.ModalRoutes.Send,params:{screen:f.SendModalRoutes.SendConfirm,params:{accountId:o,networkId:s,payloadInfo:u,feeInfoEditable:!0,feeInfoUseFeeInTx:!1,encodedTx:r,prepaidFee:m,hideSendFeedbackReceipt:!v,onDetail:g,onFail:h,onSuccess:function(e,t){var n;null==x||x({result:e,decodedTx:null!=(n=null==t?void 0:t.decodedTx)?n:void 0})}}}})}),100)}}));return function(e){return n.apply(this,arguments)}}(),[t,e])}function h(){var e=(0,s.default)(),t=(0,u.useAppSelector)((function(e){return e.settings.validationSetting}));return(0,o.useCallback)(function(){var n=(0,r.default)((function*(n){var r=n.accountId,o=n.networkId,i=n.unsignedMessage,s=n.onSuccess,u=n.onFail,m=(0,p.createLoggerTimer)(),h=(0,a.getWalletIdFromAccountId)(r),x=yield l.default.engine.getWallet(h),g=(yield l.default.servicePassword.getPassword())&&!(null!=t&&t.Payment);if("hw"===x.type||"external"!==x.type&&g)try{m.start(p.LoggerTimerTags.signMessage);var b=yield l.default.serviceTransaction.signMessage({accountId:r,networkId:o,unsignedMessage:i});m.end(p.LoggerTimerTags.signMessage),yield null==s?void 0:s(b)}catch(y){var v;c.deviceUtils.showErrorToast(y,(null==y||null==(v=y.data)?void 0:v.message)||y.message),null==u||u()}else e.navigate(d.RootRoutes.Modal,{screen:d.ModalRoutes.Send,params:{screen:f.SendModalRoutes.SignMessageConfirm,params:{accountId:r,networkId:o,unsignedMessage:i,onSuccess:s,onFail:u}}})}));return function(e){return n.apply(this,arguments)}}(),[e,t])}},401040:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useSwapSubmit:()=>D});var r=n(256666),o=n(196234),a=n(669083),i=n(634795),l=n(202784),s=n(206391),u=n.n(s),d=n(783112),c=n(534756),f=n(613549),p=n(447325),m=n(292147),h=n(945821),x=n(268883),g=n(859071),b=n(481047),v=n(380845),y=n(177510),j=n(436873),w=n(776553),k=n(793525),_=n(690549),O=n(422314),I=n(428357),S=n(415008),T=n(797749),C=n(552322);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(){var e=(0,i.default)((function*(e){var t,n,r,o,a=e.hash,i=e.decodedTx,l=e.params,s=e.response,d=e.recipient,c=e.quote,f=null==s?void 0:s.result;if(void 0!==s&&void 0!==f){var m,x=[(0,y.clearState)()],g=f.sellAmount||c.sellAmount,b=f.buyAmount||c.buyAmount,w=c.type,k=c.quoterlogo,_=yield h.default.engine.getNetwork(l.tokenIn.networkId),I=yield h.default.engine.getNetwork(l.tokenIn.networkId),T=(0,S.getTokenAmountValue)(l.tokenIn,g),C=(0,S.getTokenAmountValue)(l.tokenOut,b),M=null==i?void 0:i.nonce;i&&(m=(0,S.calculateDecodedTxNetworkFee)(i,_));var P={networkId:l.tokenIn.networkId,token:l.tokenIn,amount:(0,S.formatAmount)(new(u())(f.sellAmount).shiftedBy(-l.tokenIn.decimals))||(0,S.formatAmount)(T)},A={networkId:l.tokenOut.networkId,token:l.tokenOut,amount:(0,S.formatAmount)(new(u())(f.buyAmount).shiftedBy(-l.tokenOut.decimals))||(0,S.formatAmount)(C)};x.push((0,j.addTransaction)({accountId:l.activeAccount.id,networkId:l.tokenIn.networkId,transaction:{hash:a,from:l.activeAccount.address,addedTime:Date.now(),status:"pending",type:"swap",accountId:l.activeAccount.id,networkId:l.tokenIn.networkId,quoterType:w,quoterLogo:k,nonce:M,attachment:s.attachment,receivingAccountId:null==d?void 0:d.accountId,receivingAddress:null==d?void 0:d.address,providers:null!=(t=null==f?void 0:f.sources)?t:c.providers,arrivalTime:c.arrivalTime,percentageFee:c.percentageFee,protocalFees:c.protocolFees,networkFee:m,viewed:!1,tokens:{from:P,to:A,rate:Number(null!=(n=null==f?void 0:f.instantRate)?n:c.instantRate)}}}));var D,R=(0,v.appSelector)((function(e){return e.swapTransactions.slippage}));if(R&&R.autoReset&&x.push((0,j.setSlippage)({mode:"auto"})),h.default.dispatch.apply(h.default,x),h.default.serviceToken.addAccountToken(l.tokenIn.networkId,l.activeAccount.id,l.tokenIn.tokenIdOnNetwork),l.tokenIn.networkId===l.tokenOut.networkId&&h.default.serviceToken.addAccountToken(l.tokenOut.networkId,l.activeAccount.id,l.tokenOut.tokenIdOnNetwork),"swftc"===(null==(r=s.result)?void 0:r.quoter)&&null!=(o=s.attachment)&&o.swftcOrderId)O.SwapQuoter.client.swftModifyTxId(null==(D=s.attachment)?void 0:D.swftcOrderId,a);var E=null==_?void 0:_.shortName,B=null==I?void 0:I.shortName;h.default.serviceSwap.addRecord({txid:a,from:{networkId:P.networkId,networkName:null!=E?E:"",tokenAddress:P.token.tokenIdOnNetwork,tokenName:P.token.name,amount:P.amount},to:{networkId:A.networkId,networkName:null!=B?B:"",tokenAddress:A.token.tokenIdOnNetwork,tokenName:A.token.name,amount:A.amount},params:l,response:s}),p.appUIEventBus.emit(p.AppUIEventBusNames.SwapAddTransaction)}}));return function(t){return e.apply(this,arguments)}}();var D=function(){var e=(0,d.default)(),t=(0,T.useSwapSend)(),n=(0,g.useNavigation)();return(0,l.useCallback)(function(){var r=(0,i.default)((function*(r){var l,s,d=r.params,g=r.quote,y=r.recipient,j=r.onSuccess,T=r.setProgressStatus,M=r.openProgressStatus,D=r.closeProgressStatus;if(d&&g&&y){var R=d.activeAccount,E=new S.TokenAmount(d.tokenIn,(0,S.getTokenAmountValue)(d.tokenIn,g.sellAmount).toFixed()),B="0";d.tokenIn.tokenIdOnNetwork||(B=E.value.toFixed());var N=new S.TokenAmount(d.tokenOut,(0,S.getTokenAmountValue)(d.tokenOut,g.buyAmount).toFixed());if(yield h.default.serviceSwap.checkAccountInWallets(R.id)){var L=d.tokenIn.networkId,W=yield h.default.engine.getNetwork(L);if(W){var F=(0,S.createLoggerTimer)();F.start(S.LoggerTimerTags.checkTokenBalance),null==T||T({title:e.formatMessage({id:"action__confirming_balance_str"},{0:""})});var H=yield h.default.serviceToken.getAccountBalanceFromRpc(W.id,R.id,[],!0),z=(0,o.default)(H,1)[0],U=null==z||null==(l=z.main)?void 0:l.balance,V=U?`${d.tokenIn.networkId} native token balance is ${U}`:`${d.tokenIn.networkId} failed to fetch native token balance`;m.default.swap.info(V),F.end(S.LoggerTimerTags.checkTokenBalance);var $=new(u())(null!=U?U:"0");if($.isZero()){var G=yield h.default.engine.getNativeTokenInfo(L);a.default.show({title:e.formatMessage({id:"msg__str_insufficient_balance_to_pay_for_gas_fee"},{0:G.symbol.toUpperCase()})},{type:"error"})}else{var q=0;if($.gt(0))try{var X,Y=yield h.default.servicePassword.getPassword(),Q=yield h.default.engine.getFrozenBalance({accountId:R.id,networkId:W.id,password:Y});m.default.swap.info("get frozenBalance ",Q),q="number"===typeof Q?Q:null!=(X=null==Q?void 0:Q[d.tokenIn.id])?X:0}catch(Oe){m.default.swap.info("failed to get frozen balanace",Oe.message)}var K=yield h.default.serviceSwap.getBasicGasFeeWithTimeout(W.id);if(K=(0,S.plus)(K,q),(d.tokenIn.tokenIdOnNetwork?$:$.minus(E.typedValue)).lt(K)){var Z=(yield h.default.engine.getNativeTokenInfo(L)).symbol.toUpperCase(),J=0===q?e.formatMessage({id:"msg__suggest_reserving_str_as_gas_fee"},{0:`${K} ${Z}`}):e.formatMessage({id:"msg__insufficient_funds_for_transaction"},{0:`${q} ${Z}`,1:`${K} ${Z}`});a.default.show({title:J},{type:"error"})}else{var ee,te=P(P({},d),{},{activeAccount:R,receivingAddress:null==y?void 0:y.address,txData:g.txData,additionalParams:g.additionalParams,sellAmount:g.sellAmount,buyAmount:g.buyAmount,onChainSatsPerVbyte:g.onChainSatsPerVbyte,disableValidate:!0});try{F.start(S.LoggerTimerTags.buildTransaction),null==T||T({title:e.formatMessage({id:"action__building_transaction_data_str"},{0:""})}),ee=yield O.SwapQuoter.client.buildTransaction(g.type,te),F.end(S.LoggerTimerTags.buildTransaction)}catch(Oe){var ne,re,oe=(null==Oe||null==(ne=Oe.response)||null==(re=ne.data)?void 0:re.message)||Oe.message;return void a.default.show({title:oe},{type:"error"})}if(void 0!==ee&&null!=(s=ee)&&s.data){var ae=function(e){var t=e.swapQuote,n=e.quoteParams,r=e.inputAmount,o=e.outputAmount,a=e.account,i=e.receivingAddress,l=n.networkIn,s=n.networkOut,u=n.tokenIn,d=n.tokenOut,c=n.slippagePercentage,f=n.independentField;return{accountAddress:a.address,receivingAddress:i,send:{networkId:l.id,tokenInfo:u,amount:r.typedValue,amountValue:r.amount.toFixed()},receive:{networkId:s.id,tokenInfo:d,amount:o.typedValue,amountValue:o.amount.toFixed()},slippagePercentage:c,independentField:f,swapQuote:t}}({quoteParams:d,inputAmount:E,outputAmount:N,swapQuote:g,account:R,receivingAddress:null==y?void 0:y.address}),ie=ee.data;if(void 0!==ie){if(W.impl===f.IMPL_EVM){var le=ie.value;le.startsWith("0x")||(ie.value=(0,S.toHex)(le))}m.default.swap.info("swap encodedTx: ",JSON.stringify(ie));var se=ee.result;if(se){var ue,de,ce=(0,c.getWalletIdFromAccountId)(R.id),fe=yield h.default.engine.getWallet(ce),pe=!1;if(se.allowanceTarget&&d.tokenIn.tokenIdOnNetwork){F.start(S.LoggerTimerTags.checkTokenAllowance);var me=yield h.default.engine.getTokenAllowance({networkId:d.tokenIn.networkId,accountId:d.activeAccount.id,tokenIdOnNetwork:d.tokenIn.tokenIdOnNetwork,spender:se.allowanceTarget});F.end(S.LoggerTimerTags.checkTokenAllowance),me?(m.default.swap.info(`${d.tokenIn.networkId} ${d.tokenIn.symbol} allowance is ${me}`),pe=new(u())((0,S.getTokenAmountString)(d.tokenIn,me)).lt(se.sellAmount)):m.default.swap.info(`${d.tokenIn.networkId} ${d.tokenIn.symbol} failed to fetch token allowance`);var he=yield h.default.serviceSwap.needToResetApproval(d.tokenIn);if(pe&&he&&Number(me||"0")>0&&(de=yield h.default.engine.buildEncodedTxFromApprove({spender:se.allowanceTarget,networkId:d.tokenIn.networkId,accountId:R.id,token:d.tokenIn.tokenIdOnNetwork,amount:"0"})),pe){var xe=(0,v.appSelector)((function(e){return e.settings.disableSwapExactApproveAmount}))?"unlimited":(0,S.getTokenAmountValue)(d.tokenIn,se.sellAmount).toFixed();ue=yield h.default.engine.buildEncodedTxFromApprove({spender:se.allowanceTarget,networkId:d.tokenIn.networkId,accountId:R.id,token:d.tokenIn.tokenIdOnNetwork,amount:xe}),de&&de.nonce&&(ue.nonce=Number(de.nonce)+1)}}var ge=[],be=function(){var r=(0,i.default)((function*(){null==T||T({title:e.formatMessage({id:"action__swapping_str"},{0:""})});try{yield t({accountId:R.id,networkId:L,gasEstimateFallback:Boolean(ue),encodedTx:ie,showSendFeedbackReceipt:!0,payloadInfo:{type:"InternalSwap",swapInfo:ae},prepaidFee:B,onDetail:function(e){n.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Swap,params:{screen:I.SwapRoutes.Transaction,params:{txid:e}}})},onSuccess:function(){var e=(0,i.default)((function*(e){var t=e.result,n=e.decodedTx;ee&&(yield A({hash:t.txid,decodedTx:n,params:te,response:ee,quote:g,recipient:y}),p.appUIEventBus.emit(p.AppUIEventBusNames.SwapCompleted),null==j||j({result:t,decodedTx:n}))}));return function(t){return e.apply(this,arguments)}}(),onFail:function(){p.appUIEventBus.emit(p.AppUIEventBusNames.SwapError)}})}finally{null==D||D()}}));return function(){return r.apply(this,arguments)}}();if(ge.unshift(be),ue){var ve=function(){var r=(0,i.default)((function*(r){var o={type:"InternalSwap"},a=(0,v.appSelector)((function(e){var t;return null==(t=e.settings.validationSetting)?void 0:t[x.ValidationFields.Payment]}));"external"===fe.type||a||(o.swapInfo=P(P({},ae),{},{isApprove:!0})),F.start(S.LoggerTimerTags.approval),null==T||T({title:e.formatMessage({id:"action__authorizing_str"},{0:""})}),yield t({accountId:R.id,networkId:L,payloadInfo:o,encodedTx:ue,gasEstimateFallback:Boolean(de),onSuccess:function(){var e=(0,i.default)((function*(){"hw"===fe.type&&n.navigate(b.RootRoutes.Modal,{screen:b.ModalRoutes.Send,params:{screen:b.SendModalRoutes.HardwareSwapContinue,params:{networkId:L,accountId:R.id}}}),yield null==r?void 0:r()}));return function(){return e.apply(this,arguments)}}(),onFail:function(){null==D||D()}}),F.end(S.LoggerTimerTags.approval)}));return function(e){return r.apply(this,arguments)}}();ge.unshift(ve)}if(de){var ye=function(){var e=(0,i.default)((function*(e){var n={type:"InternalSwap"},r=(0,v.appSelector)((function(e){var t;return null==(t=e.settings.validationSetting)?void 0:t[x.ValidationFields.Payment]}));"external"===fe.type||r||(n.swapInfo=P(P({},ae),{},{isApprove:!0})),F.start(S.LoggerTimerTags.cancelApproval),yield t({accountId:R.id,networkId:L,payloadInfo:n,encodedTx:de,onSuccess:function(){var t=(0,i.default)((function*(){yield null==e?void 0:e()}));return function(){return t.apply(this,arguments)}}()}),F.end(S.LoggerTimerTags.cancelApproval)}));return function(t){return e.apply(this,arguments)}}();ge.unshift(ye)}de?(0,k.showOverlay)((function(e){return(0,C.jsx)(_.SwapTransactionsCancelApprovalBottomSheetModal,{close:e,onSubmit:(0,i.default)((function*(){try{null==M||M(),yield(0,S.combinedTasks)(ge)}finally{null==D||D()}}))})})):yield(0,S.combinedTasks)(ge),yield(0,w.wait)(1e3)}else a.default.show({title:e.formatMessage({id:"msg__unknown_error"})},{type:"error"})}else a.default.show({title:e.formatMessage({id:"msg__unknown_error"})},{type:"error"})}else{var je,we,ke,_e=null!=(je=null==(we=ee)||null==(ke=we.error)?void 0:ke.msg)?je:e.formatMessage({id:"msg__unknown_error"});a.default.show({title:_e},{type:"error"})}}}}else a.default.show({title:e.formatMessage({id:"msg__unknown_error"})},{type:"error"})}else a.default.show({title:e.formatMessage({id:"msg__account_deleted"},{0:R.name})},{type:"error"})}else a.default.show({title:e.formatMessage({id:"msg__unknown_error"})},{type:"error"})}));return function(e){return r.apply(this,arguments)}}(),[])}},174915:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useCachedBalances:()=>p,useTokenBalance:()=>h,useTokenBalanceSimple:()=>m,useTokenPrice:()=>x,useTokenSearch:()=>f});var r=n(634795),o=n(196234),a=n(202784),i=n(534756),l=n(134662),s=n(945821),u=n(859071),d=n(920453),c=n(380845);var f=function(e,t){var n=(0,a.useState)(!1),i=(0,o.default)(n,2),l=i[0],u=i[1],d=(0,a.useState)(),f=(0,o.default)(d,2),p=f[0],m=f[1],h=(0,a.useRef)({keyword:"",count:0});return(0,a.useEffect)((function(){function n(){return n=(0,r.default)((function*(t,n){if(0!==t.length){u(!0),m([]);var r=[];try{h.current.count+=1;var o=function(e,t){if(t)return{combined:!1,symbol:"",networkName:""};var n=e.split(" ").filter((function(e){return Boolean(e)}));return 2===n.length?{combined:!0,symbol:n[0],networkName:n[1]}:{combined:!1,symbol:"",networkName:""}}(t,n);if(o.combined){r=yield s.default.serviceSwap.searchTokens({keyword:o.symbol});var a=(0,c.appSelector)((function(e){return e.runtime.networks})).filter((function(e){return e.name.toLowerCase().includes(o.networkName.toLowerCase())})).map((function(e){return e.id})),i=new Set(a);r=r.filter((function(e){return i.has(e.networkId)})),t===h.current.keyword&&n===h.current.networkId&&m(r)}else r=yield s.default.serviceSwap.searchTokens({networkId:null!=n?n:void 0,keyword:e}),t===h.current.keyword&&n===h.current.networkId&&m(r)}finally{h.current.count-=1,0===h.current.count&&u(!1)}}else m(void 0)})),n.apply(this,arguments)}h.current.keyword=e,h.current.networkId=t,function(e,t){n.apply(this,arguments)}(e,t)}),[e,t]),{loading:l,result:p}},p=function(e,t){var n=(0,u.useAccountTokensBalance)(e,t);return(0,u.useThrottle)(n,2e3)},m=function(e,t){var n=p(null==e?void 0:e.networkId,t);return(0,a.useMemo)((function(){if(e)return n[(0,l.getBalanceKey)(e)]}),[n,e])},h=function(e,t){var n,r=(0,u.useTokenBalanceWithoutFrozen)({networkId:null!=(n=null==e?void 0:e.networkId)?n:"",accountId:null!=t?t:"",token:e});return(0,a.useEffect)((function(){e&&t&&(0,i.isAccountCompatibleWithNetwork)(t,e.networkId)&&s.default.serviceToken.fetchAndSaveAccountTokenBalance({accountId:t,networkId:e.networkId,tokenIds:e.tokenIdOnNetwork?[e.tokenIdOnNetwork]:[]})}),[e,t]),(0,a.useMemo)((function(){if(e)return r}),[r,e])},x=function(e){var t=(0,d.useSimpleTokenPriceValue)({networkId:null==e?void 0:e.networkId,contractAdress:null==e?void 0:e.tokenIdOnNetwork});return(0,a.useMemo)((function(){if(e)return t}),[t,e])}},34035:(e,t,n)=>{"use strict";n.r(t),n.d(t,{usePriceImpact:()=>p,useProgressStatusContext:()=>v,useSlippageLevels:()=>m,useSummaryTx:()=>f,useSwapChartMode:()=>b,useSwapMinimumReceivedAmount:()=>g,useSwapSlippage:()=>x,useSwapSlippageAuto:()=>h});var r=n(196234),o=n(539144),a=n(202784),i=n(206391),l=n.n(i),s=n(783112),u=n(859071),d=n(415008),c=n(174915);function f(){var e=(0,s.default)();return(0,a.useCallback)((function(t){var n;if("approve"===t.type)return t.approval?`${e.formatMessage({id:"title__approve"})} ${null==(n=t.approval)?void 0:n.token.symbol}`:`${e.formatMessage({id:"title__approve"})}`;if("swap"===t.type&&t.tokens){var r=t.tokens,o=r.from,a=r.to;return`${`${(0,d.formatAmount)(o.amount,4)} ${o.token.symbol}`} \u2192 ${`${(0,d.formatAmount)(a.amount,4)} ${a.token.symbol}`}`}return""}),[e])}function p(){var e=(0,u.useAppSelector)((function(e){return e.swap.inputToken})),t=(0,u.useAppSelector)((function(e){return e.swap.outputToken})),n=(0,c.useTokenPrice)(e),r=(0,c.useTokenPrice)(t),o=(0,u.useAppSelector)((function(e){var t;return null==(t=e.swap.quote)?void 0:t.instantRate}));if(r&&n&&o){var a=(0,d.div)(n,r);if((0,d.lte)(o,a)){var i=(0,d.multiply)((0,d.div)((0,d.minus)(a,o),a),100);return Number(i)}}}function m(){var e=(0,u.useAppSelector)((function(e){return e.swapTransactions.recommendedSlippage}));return(0,a.useMemo)((function(){var t,n,r;return{stable:null!=(t=null==e?void 0:e.stable)?t:"0.1",popular:null!=(n=null==e?void 0:e.popular)?n:"0.5",others:null!=(r=null==e?void 0:e.others)?r:"1"}}),[e])}function h(){var e=(0,u.useAppSelector)((function(e){return e.swap.inputToken})),t=(0,u.useAppSelector)((function(e){return e.swap.outputToken})),n=(0,u.useAppSelector)((function(e){return e.swapTransactions.slippage})),r=(0,u.useAppSelector)((function(e){return e.swapTransactions.coingeckoIds})),o=m(),i=(0,a.useCallback)((function(e){if(r&&e){var t=r.popular,n=r.stable;return n&&n.includes(e)?{type:"stable",value:o.stable}:t&&t.includes(e)?{type:"popular",value:o.popular}:{type:"others",value:o.others}}}),[r,o]);return(0,a.useMemo)((function(){if((!n||"auto"===n.mode)&&e&&t){var r=i(e.coingeckoId),o=i(t.coingeckoId);return Number(null==r?void 0:r.value)>Number(null==o?void 0:o.value)?r:o}}),[n,e,t,i])}function x(){var e=(0,u.useAppSelector)((function(e){return e.swapTransactions.slippage})),t=h(),n=(0,a.useMemo)((function(){var n,r;return t?{mode:"auto",value:null!=(r=t.value)?r:"1"}:{mode:null==e?void 0:e.mode,value:null!=(n=null==e?void 0:e.value)?n:"1"}}),[t,e]);return(0,u.useDebounce)(n,500)}var g=function(){var e=(0,u.useAppSelector)((function(e){return e.swap.quote})),t=x().value;return(0,a.useMemo)((function(){if(e){var n=e.minAmountOut,r=e.estimatedBuyAmount,o=e.buyAmount;if(n)return Number(n);var a=r||o;if(a){var i=new(l())(a);if(!i.isNaN())return i.minus(i.multipliedBy(Number(t)/100)).toFixed()}}}),[e,t])},b=function(){var e=(0,u.useAppSelector)((function(e){return e.swapTransactions.swapChartMode}));return(0,o.default)()?"simple":null!=e?e:"chart"},v=function(){var e=(0,a.useState)(),t=(0,r.default)(e,2),n=t[0],o=t[1],i=(0,a.useCallback)((function(){return o({})}),[o]),l=(0,a.useCallback)((function(){return o(void 0)}),[o]);return(0,a.useMemo)((function(){return{progressStatus:n,setProgressStatus:o,openProgressStatus:i,closeProgressStatus:l}}),[n,o,i,l])}},48369:(e,t,n)=>{"use strict";n.r(t),n.d(t,{isTransactionRecent:()=>s,useAllTransactions:()=>u,useTransactionsAccount:()=>f,useWalletsAccounts:()=>d,useWalletsSwapTransactions:()=>c});var r=n(196234),o=n(968079),a=n(202784),i=n(945821),l=n(747225);function s(e){return Date.now()-e.addedTime<864e5}function u(){var e=(0,l.useAppSelector)((function(e){return e.swapTransactions.transactions}));return(0,a.useMemo)((function(){var t=Object.values(e).reduce((function(e,t){return e.concat.apply(e,(0,o.default)(Object.values(t)))}),[]);return(0,o.default)(t).sort((function(e,t){return e.addedTime>t.addedTime?-1:1}))}),[e])}function d(){var e=(0,l.useAppSelector)((function(e){return e.runtime.wallets}));return(0,a.useMemo)((function(){return e.reduce((function(e,t){return e.concat(t.accounts.map((function(e){return{accountId:e,walletId:t.id}})))}),[])}),[e])}function c(){var e=function(){var e=u();return(0,a.useMemo)((function(){return e.filter((function(e){return"swap"===e.type}))}),[e])}(),t=d(),n=(0,l.useAppSelector)((function(e){return e.runtime.networks})),r=(0,a.useMemo)((function(){return n.map((function(e){return e.id}))}),[n]),o=(0,a.useMemo)((function(){return t.map((function(e){return e.accountId}))}),[t]);return e.filter((function(e){return o.includes(e.accountId)&&r.includes(e.networkId)}))}function f(e,t){var n=d(),o=(0,a.useState)((function(){return n.find((function(t){return t.accountId===e}))?void 0:null})),l=(0,r.default)(o,2),s=l[0],u=l[1];return(0,a.useEffect)((function(){var o=n.find((function(t){return t.accountId===e}));o&&i.default.engine.getAccounts([o.accountId],t).then((function(e){var t=(0,r.default)(e,1)[0];t&&u(t)}))}),[n,e,t]),s}},422314:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SwapQuoter:()=>I});var r=n(256666),o=n(634795),a=n(887371),i=n(789644),l=n.n(i),s=n(206391),u=n.n(s),d=n(849877),c=n(398514),f=n(613549),p=n(292147),m=n(945821),h=n(415008),x=n(428357),g=function(){function e(){this.type=x.QuoterType.zeroX}return e.prototype.queryTransactionProgress=function(){var e=(0,o.default)((function*(e){var t=e.networkId,n=e.accountId,r=e.nonce;if(void 0!==r)return{status:yield m.default.serviceHistory.queryTransactionNonceStatus({networkId:t,accountId:n,nonce:r})};var o=yield m.default.serviceNetwork.rpcCall(t,{method:"eth_getTransactionReceipt",params:[e.hash]});return o?{status:1===Number(o.status)?"sucesss":"failed"}:Date.now()-e.addedTime>864e5?{status:"failed"}:void 0}));return function(t){return e.apply(this,arguments)}}(),(0,a.default)(e)}();function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(){var e=t.prototype;function t(){this.type=x.QuoterType.deezy,this.client=l().create({timeout:6e4})}return e.getBaseUrl=function(){var e=(0,o.default)((function*(){return`${yield m.default.serviceSwap.getServerEndPoint()}/deezy`}));return function(){return e.apply(this,arguments)}}(),e.queryTransactionProgress=function(){var e=(0,o.default)((function*(e){var t,n;console.log("=====>>>>TX: ",e);var r,o,a,i,s=(0,f.isLightningNetworkByNetworkId)(e.networkId),u=yield this.getBaseUrl(),d=((n={networkId:e.networkId})[s?"bolt11Invoice":"secretAccessKey"]=null==(t=e.attachment)?void 0:t.swftcOrderId,n),c=yield l().get(`${u}${s?"/lookupLnToBtc":"/lookupBtcToLn"}`,{params:d});return c.data&&c.data.progress?v(v({},c.data.progress),{},{status:"success"===(null==(r=c.data)||null==(o=r.progress)?void 0:o.status)?"sucesss":null==(a=c.data)||null==(i=a.progress)?void 0:i.status}):{status:"pending",destinationTransactionHash:s?c.data.on_chain_txid:""}}));return function(t){return e.apply(this,arguments)}}(),(0,a.default)(t)}(),j=function(){function e(){this.type=x.QuoterType.jupiter}return e.prototype.queryTransactionProgress=function(){var e=(0,o.default)((function*(e){var t=e.networkId,n=e.accountId,r=e.hash;return{status:yield m.default.serviceHistory.queryTransactionByTxid({networkId:t,accountId:n,txid:r})}}));return function(t){return e.apply(this,arguments)}}(),(0,a.default)(e)}(),w=function(){function e(){this.type=x.QuoterType.socket,this.client=l().create({timeout:3e4})}var t=e.prototype;return t.getBaseURL=function(){var e=(0,o.default)((function*(){return`${yield m.default.serviceSwap.getServerEndPoint()}/socketBridge`}));return function(){return e.apply(this,arguments)}}(),t.querySocketBridgeStatus=function(){var e=(0,o.default)((function*(e){var t,n;try{var r=yield this.getBaseURL();n=yield this.client.get(`${r}/bridge-status`,{params:e})}catch(i){return void console.log(i)}var o,a=n.data.result;return"COMPLETED"===a.sourceTxStatus&&"COMPLETED"===a.destinationTxStatus||"COMPLETED"===(null==(t=a.refuel)?void 0:t.status)?{status:"sucesss",destinationTransactionHash:a.destinationTransactionHash||(null==(o=a.refuel)?void 0:o.destinationTransactionHash)}:"FAILED"===a.destinationTxStatus||"FAILED"===a.sourceTxStatus?{status:"failed"}:void 0}));return function(t){return e.apply(this,arguments)}}(),t.queryCrosschainTransactionProgress=function(){var e=(0,o.default)((function*(e){var t=e.nonce,n=e.networkId,r=e.accountId,o=e.tokens,a=e.attachment;if(void 0!==t&&o)for(var i=o.from,l=o.to,s=(0,h.getChainIdFromNetworkId)(i.networkId),u=(0,h.getChainIdFromNetworkId)(l.networkId),d=yield m.default.serviceHistory.getTransactionsWithNonce({nonce:t,networkId:n,accountId:r}),c=0;c<d.length;c+=1){var f,p=d[c].decodedTx.txid,x=yield this.querySocketBridgeStatus({fromChainId:s,toChainId:u,transactionHash:p,bridgeName:null==a||null==(f=a.socketUsedBridgeNames)?void 0:f[0]});if("sucesss"===(null==x?void 0:x.status))return{status:x.status,destinationTransactionHash:x.destinationTransactionHash};if("failed"===(null==x?void 0:x.status))return{status:x.status};if(null!=x&&x.destinationTransactionHash)return{destinationTransactionHash:x.destinationTransactionHash}}if(Date.now()-e.addedTime>864e5)return{status:"failed"}}));return function(t){return e.apply(this,arguments)}}(),t.querySimpleTransactionProgress=function(){var e=(0,o.default)((function*(e){var t=e.networkId,n=e.accountId,r=e.nonce;if(void 0!==r)return{status:yield m.default.serviceHistory.queryTransactionNonceStatus({networkId:t,accountId:n,nonce:r})};var o=yield m.default.serviceNetwork.rpcCall(t,{method:"eth_getTransactionReceipt",params:[e.hash]});return o?{status:1===Number(o.status)?"sucesss":"failed"}:Date.now()-e.addedTime>864e5?{status:"failed"}:void 0}));return function(t){return e.apply(this,arguments)}}(),t.queryTransactionProgress=function(){var e=(0,o.default)((function*(e){if(e.tokens){var t=yield this.querySimpleTransactionProgress(e);return"failed"===(null==t?void 0:t.status)||"canceled"===(null==t?void 0:t.status)?t:this.queryCrosschainTransactionProgress(e)}}));return function(t){return e.apply(this,arguments)}}(),(0,a.default)(e)}(),k=function(){var e=t.prototype;function t(){this.type=x.QuoterType.swftc,this.client=l().create({timeout:6e4})}return e.getBaseUrl=function(){var e=(0,o.default)((function*(){return`${yield m.default.serviceSwap.getServerEndPoint()}/swft`}));return function(){return e.apply(this,arguments)}}(),e.modifyTxId=function(){var e=(0,o.default)((function*(e,t){var n=`${yield this.getBaseUrl()}/modifyTxId`;return(yield this.client.post(n,{orderId:e,depositTxid:t})).data.data}));return function(t,n){return e.apply(this,arguments)}}(),e.getTxOrderInfo=function(){var e=(0,o.default)((function*(e){var t,n,r=null!=(t=null==(n=e.attachment)?void 0:n.swftcOrderId)?t:e.thirdPartyOrderId;if(r){var o=`${yield this.getBaseUrl()}/queryOrderState`;return(yield l().post(o,{equipmentNo:e.from,sourceType:"H5",orderId:r})).data.data}}));return function(t){return e.apply(this,arguments)}}(),e.queryTransactionProgress=function(){var e=(0,o.default)((function*(e){var t,n,r=null!=(t=null==(n=e.attachment)?void 0:n.swftcOrderId)?t:e.thirdPartyOrderId;if(r){var o=`${yield this.getBaseUrl()}/queryOrderState`,a=(yield l().post(o,{equipmentNo:e.from,sourceType:"H5",orderId:r})).data.data;if("complete"===a.tradeState)return{status:"sucesss",destinationTransactionHash:a.transactionId};if(a.transactionId)return{destinationTransactionHash:a.transactionId}}var i=e.networkId,s=e.accountId,u=e.nonce,c=e.hash;if("evm"===(0,d.getNetworkImpl)(i)&&void 0!==u){var f=yield m.default.serviceHistory.queryTransactionNonceStatus({networkId:i,accountId:s,nonce:u});if("canceled"===f||"failed"===f)return{status:f}}else if("evm"!==(0,d.getNetworkImpl)(i)){var p=yield m.default.serviceHistory.queryTransactionByTxid({networkId:i,accountId:s,txid:c});if("canceled"===p||"failed"===p)return{status:p}}if(Date.now()-e.addedTime>864e5)return{status:"failed"}}));return function(t){return e.apply(this,arguments)}}(),(0,a.default)(t)}();function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(){function e(){this.httpClient=l().create({timeout:6e4}),this.jupiter=new j,this.swftc=new k,this.simple=new g,this.socket=new w,this.deezy=new y,this.quoters=[this.simple,this.socket,this.jupiter,this.swftc,this.deezy],this.transactionReceipts={},this.solTransactionReceipts={}}var t=e.prototype;return t.convertOrderToTransaction=function(){var e=(0,o.default)((function*(e,t){var n=e.tokenIn,r=e.networkIn,o=e.activeAccount,a=e.sellAmount;if(a&&n){if(!t.platformAddr)throw new Error("failed to build transaction due to invalid platformAddr");var i=new(u())(a).shiftedBy(-n.decimals).toFixed();return n.tokenIdOnNetwork?yield m.default.engine.buildEncodedTxFromTransfer({networkId:r.id,accountId:o.id,transferInfo:{from:o.address,to:t.platformAddr,amount:i,token:n.tokenIdOnNetwork}}):yield m.default.engine.buildEncodedTxFromTransfer({networkId:r.id,accountId:o.id,transferInfo:{from:o.address,to:t.platformAddr,amount:i}})}}));return function(t,n){return e.apply(this,arguments)}}(),t.fetchLimitOrderQuote=function(){var e=(0,o.default)((function*(e){var t,n,r=(0,h.convertLimitOrderParams)(e);if(r){r.quoterType="0x";var o=`${yield m.default.serviceSwap.getServerEndPoint()}/exchange/quote`,a=null==(t=(yield this.httpClient.get(o,{params:r})).data)?void 0:t.data;if(a&&null!=(n=a.result)&&n.instantRate)return{instantRate:(0,h.formatAmountExact)(a.result.instantRate)}}}));return function(t){return e.apply(this,arguments)}}(),t.buildQuote=function(){var e=(0,o.default)((function*(e){var t=e.responses,n=e.params;if(t&&0!==t.length){var r,o=t.filter((function(e){var t;return null==(t=e.result)?void 0:t.allowanceTarget})).map((function(e){return e.result.allowanceTarget})),a=yield m.default.engine.batchTokensAllowance({networkId:n.tokenIn.networkId,accountId:n.activeAccount.id,tokenIdOnNetwork:n.tokenIn.tokenIdOnNetwork,spenders:o});return a&&a.length===o.length&&o.forEach((function(e,t){var n=a[t];r||(r={}),r[e]=n})),t.map((function(e){var t,n=e.result,o=0;"swft"===n.quoter&&(o=.002);var a,i=o+Number(null!=(t=n.percentageFee)?t:0),l={type:n.quoter,quoterlogo:n.quoterLogo,instantRate:n.instantRate,sellAmount:n.sellAmount,sellTokenAddress:n.sellTokenAddress,buyAmount:n.buyAmount,buyTokenAddress:n.buyTokenAddress,providers:n.sources,percentageFee:n.percentageFee,allowanceTarget:n.allowanceTarget,arrivalTime:n.arrivalTime,needApproved:!1,estimatedBuyAmount:(0,h.multiply)(n.buyAmount,1-i),minAmountOut:n.minAmountOut,protocolFees:n.protocolFees,estimatedPriceImpact:n.estimatedPriceImpact,onChainSatsPerVbyte:n.onChainSatsPerVbyte,notImpactBySlippage:n.notImpactBySlippage};if(l.allowanceTarget&&r){var s=r[l.allowanceTarget];void 0!==s&&n.sellAmount&&(l.needApproved=Number(n.sellAmount)>s)}return e.limit&&(a={max:e.limit.max,min:e.limit.min}),{data:l,limited:a}}))}}));return function(t){return e.apply(this,arguments)}}(),t.fetchQuote=function(){var e=(0,o.default)((function*(e){var t,n=(0,h.convertParams)(e);if(n){var r=yield m.default.serviceSwap.getCurrentUserSelectedQuoter();r&&(n.quoterType=r);var o=`${yield m.default.serviceSwap.getServerEndPoint()}/exchange/quote`,a=null==(t=(yield this.httpClient.get(o,{params:n})).data)?void 0:t.data;if(a){var i=yield this.buildQuote({responses:[a],params:e});return null==i?void 0:i[0]}}}));return function(t){return e.apply(this,arguments)}}(),t.fetchQuotes=function(){var e=(0,o.default)((function*(e){var t,n=(0,h.convertParams)(e);if(n){var r=`${yield m.default.serviceSwap.getServerEndPoint()}/exchange/quote_all`,o=null==(t=(yield this.httpClient.get(r,{params:n})).data)?void 0:t.data;if(o){var a=yield this.buildQuote({responses:o,params:e});if(a)return a.filter((function(e){return Boolean(e)}))}}}));return function(t){return e.apply(this,arguments)}}(),t.parseRequestId=function(e){try{var t=e.config.headers,n=null==t?void 0:t["x-onekey-request-id"];if(!n){var r=null==t?void 0:t["X-Request-By"];if("string"===typeof r)n=JSON.parse(r)["x-onekey-request-id"]}return n}catch(o){p.default.common.error("Failed to get request id with reason",o.message)}},t.buildTransaction=function(){var e=(0,o.default)((function*(e,t){var n,r=(0,h.convertBuildParams)(t);if(r){r.quoterType=e,r.disableValidate=Boolean(t.disableValidate);var o=`${yield m.default.serviceSwap.getServerEndPoint()}/exchange/build_tx`,a=yield this.httpClient.post(o,r),i=this.parseRequestId(a),l=a.data;if(l.errMsg)throw new Error(l.errMsg);if(null!=l&&l.transaction)return"object"===typeof l.transaction?t.networkIn.impl===f.IMPL_APTOS?{data:O(O({},l.transaction),{},{sender:t.activeAccount.address}),result:l.result,requestId:i}:{data:O(O({},l.transaction),{},{from:t.activeAccount.address}),result:l.result,requestId:i}:{data:l.transaction,result:l.result,requestId:i};if(l.order&&null!=(n=l.result)&&n.instantRate)return{data:yield this.convertOrderToTransaction(t,l.order),result:l.result,attachment:{swftcOrderId:l.order.orderId,swftcPlatformAddr:l.order.platformAddr,swftcDepositCoinAmt:l.order.depositCoinAmt,swftcDepositCoinCode:l.order.depositCoinCode,swftcReceiveCoinAmt:l.order.receiveCoinAmt,swftcReceiveCoinCode:l.order.receiveCoinCode},requestId:i}}}));return function(t,n){return e.apply(this,arguments)}}(),t.queryTransactionProgress=function(){var e=(0,o.default)((function*(e){if((0,h.isSimpleTx)(e))return this.simple.queryTransactionProgress(e);for(var t=(0,h.getQuoteType)(e),n=0;n<this.quoters.length;n+=1){var r=this.quoters[n];if(r.type===t)return r.queryTransactionProgress(e)}}));return function(t){return e.apply(this,arguments)}}(),t.getHistoryTx=function(){var e=(0,o.default)((function*(e){var t=m.default.serviceHistory,n=e.accountId,r=e.networkId,o=e.nonce;if((0,d.getNetworkImpl)(e.networkId)!==f.IMPL_EVM||void 0===o)return(yield t.getLocalHistory({accountId:n,networkId:r})).find((function(t){return t.decodedTx.txid===e.hash}));var a=(yield t.getTransactionsWithNonce({accountId:n,networkId:r,nonce:o})).find((function(e){return e.decodedTx.status===c.IDecodedTxStatus.Confirmed}));return a||void 0}));return function(t){return e.apply(this,arguments)}}(),t.getTransactionReceipt=function(){var e=(0,o.default)((function*(e,t){var n,r;if(this.transactionReceipts[e]||(this.transactionReceipts[e]={}),null!=(n=this.transactionReceipts[e])&&n[t])return null==(r=this.transactionReceipts[e])?void 0:r[t];var o=yield m.default.serviceNetwork.rpcCall(e,{method:"eth_getTransactionReceipt",params:[t]});return o?(this.transactionReceipts[e][t]=o,o):void 0}));return function(t,n){return e.apply(this,arguments)}}(),t.getSOLTransactionReceipt=function(){var e=(0,o.default)((function*(e,t){var n,r;if(this.solTransactionReceipts[e]||(this.solTransactionReceipts[e]={}),null!=(n=this.solTransactionReceipts[e])&&n[t])return null==(r=this.solTransactionReceipts[e])?void 0:r[t];var o=yield m.default.serviceNetwork.rpcCall(e,{method:"getTransaction",params:[t,{encoding:"jsonParsed",maxSupportedTransactionVersion:0}]});return o?(this.solTransactionReceipts[e][t]=o,o):void 0}));return function(t,n){return e.apply(this,arguments)}}(),t.doQueryReceivedToken=function(){var e=(0,o.default)((function*(e,t,n){if((0,h.isEvmNetworkId)(t.networkId)){var r=yield this.getTransactionReceipt(t.networkId,e);if(r){var o,a=function(e){return`0x${e.slice(2).replace(/^0+/,"").padStart(40,"0")}`};if(t.tokenIdOnNetwork){var i,l=null==(i=r.logs)?void 0:i.find((function(e){return a(e.address.toLowerCase())===t.tokenIdOnNetwork.toLowerCase()&&3===e.topics.length&&e.topics[2]&&a(e.topics[2])===n.toLowerCase()}));return null==l?void 0:l.data}var s=null==(o=r.logs)?void 0:o.find((function(e){if(2===e.topics.length){var t=e.topics[0];if("0x7fcf532c15f0a6db0bd6d0e038bea71d30d808c7d98cb3bf7268a95bf5081b65"===a(t).toLowerCase())return!0}return!1}));return null==s?void 0:s.data}}else if((0,h.isSolNetworkId)(t.networkId)){var u=yield this.getSOLTransactionReceipt(t.networkId,e);if(u){var d=function(e){var r=t.tokenIdOnNetwork;return e.owner.toLowerCase()===n.toLowerCase()&&e.mint.toLowerCase()===r.toLowerCase()},c=u.meta.preTokenBalances.find(d),f=u.meta.postTokenBalances.find(d);if(c&&f)return(0,h.minus)(f.uiTokenAmount.amount,c.uiTokenAmount.amount)}}}));return function(t,n,r){return e.apply(this,arguments)}}(),t.getActualReceived=function(){var e=(0,o.default)((function*(e){if(e.tokens){var t=e.receivingAddress,n=e.tokens,r=n.from,o=n.to;if("swftc"===(null==e?void 0:e.quoterType)){var a=yield this.swftc.getTxOrderInfo(e);if(a)return a.receiveCoinAmt}else{var i=yield this.getHistoryTx(e),l=(null==i?void 0:i.decodedTx.txid)||e.hash;if((0,h.isEvmNetworkId)(r.networkId)&&(0,h.isEvmNetworkId)(o.networkId)&&t){if(l&&r.networkId===o.networkId){var s=yield this.doQueryReceivedToken(l,o.token,t);if(s)return(0,h.getTokenAmountValue)(e.tokens.to.token,s).toFixed()}else if(e.destinationTransactionHash){var u=yield this.doQueryReceivedToken(e.destinationTransactionHash,o.token,t);if(u)return(0,h.getTokenAmountValue)(e.tokens.to.token,u).toFixed()}}else if((0,h.isSolNetworkId)(r.networkId)&&(0,h.isSolNetworkId)(o.networkId)&&t){var d=yield this.doQueryReceivedToken(e.hash,o.token,t);if(d)return(0,h.getTokenAmountValue)(e.tokens.to.token,d).toFixed()}}}}));return function(t){return e.apply(this,arguments)}}(),t.getTxCompletedTime=function(){var e=(0,o.default)((function*(e){if(e.tokens){var t=e.tokens.to;if((0,h.isEvmNetworkId)(t.networkId)){var n=e.hash,r=yield this.getHistoryTx(e);null!=r&&r.decodedTx.txid&&(n=null==r?void 0:r.decodedTx.txid),e.destinationTransactionHash&&(n=e.destinationTransactionHash);var o=yield this.getTransactionReceipt(t.networkId,n);if(null!=o&&o.blockHash){var a=yield m.default.serviceNetwork.rpcCall(t.networkId,{method:"eth_getBlockByHash",params:[o.blockHash,!0]});if(null!=a&&a.timestamp)return new(u())(a.timestamp).multipliedBy(1e3).toFixed()}}}}));return function(t){return e.apply(this,arguments)}}(),t.getTxActualNetworkFee=function(){var e=(0,o.default)((function*(e){if(e.tokens){var t=e.tokens.from;if((0,h.isEvmNetworkId)(t.networkId)){var n=yield this.getHistoryTx(e),r=(null==n?void 0:n.decodedTx.txid)||e.hash,o=yield this.getTransactionReceipt(t.networkId,r);if(o&&o.gasUsed&&o.effectiveGasPrice){var a=yield m.default.engine.getNetwork(e.networkId);return(0,h.calculateNetworkFee)({limit:o.gasUsed,price:(0,h.div)(o.effectiveGasPrice,10**9)},a)}}}}));return function(t){return e.apply(this,arguments)}}(),t.swftModifyTxId=function(){var e=(0,o.default)((function*(e,t){return this.swftc.modifyTxId(e,t)}));return function(t,n){return e.apply(this,arguments)}}(),(0,a.default)(e)}();I.client=new I},850893:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ButtonItem:()=>p});var r=n(561220),o=n(361301),a=n(10918),i=n(18861),l=n(435581),s=n(433996),u=n(539144),d=n(202784),c=n(527646),f=n(552322),p=function(e){var t=e.icon,n=e.text,p=e.onPress,m=e.isDisabled,h=e.color,x=void 0===h?"icon-default":h,g=(0,u.default)();return(0,d.useMemo)((function(){var e=(0,f.jsxs)(o.default,{mx:g?0:3,alignItems:"center",justifyContent:"center",children:["function"===typeof p?(0,f.jsx)(c.default,{children:(0,f.jsx)(s.default,{circle:!0,size:g?"lg":"sm",name:t,type:"basic",isDisabled:m,onPress:p,w:g?"42px":"34px",h:g?"42px":"34px",iconColor:m?"icon-disabled":x})}):(0,f.jsx)(i.default,{p:g?2:1.5,alignItems:"center",justifyContent:"center",borderWidth:"1px",borderRadius:"999px",borderColor:m?"border-disabled":"border-default",bg:"action-secondary-default",w:g?"42px":"34px",h:g?"42px":"34px",children:(0,f.jsx)(l.default,{name:t,size:g?24:20,color:m?"icon-disabled":x})}),(0,f.jsx)(a.default.CaptionStrong,{textAlign:"center",mt:"8px",color:m?"text-disabled":"text-default",children:n})]});return"function"===typeof p&&(e=m?(0,f.jsx)(i.default,{flex:g?1:void 0,children:e}):(0,f.jsx)(r.default,{flex:g?1:void 0,onPress:p,children:e})),e}),[t,g,n,p,m,x])}},555638:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_,keyExtractor:()=>k});var r=n(256666),o=n(561220),a=n(470310),i=n(866904),l=n(18861),s=n(854787),u=n(586874),d=n(384247),c=n(539144),f=n(459740),p=n(202784),m=n(670165),h=n(534159),x=n(920453),g=n(812895),b=n(431440),v=n(552322),y=["onSelect","data"];function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t){var n=e.data;return n.contractAddress&&n.tokenId?n.contractAddress+n.tokenId:n.tokenAddress?n.tokenAddress:`NFTAsset ${t}`}const _=(0,p.memo)((function(e){var t,n,r,j=e.onSelect,k=e.data,_=(0,f.default)(e,y),O=(0,c.default)(),I=(0,d.default)().screenWidth,S=O?16:20,T=O?8:12,C=O?I:Math.min(m.MAX_PAGE_CONTAINER_WIDTH,I-224),M=O?Math.floor((C-3*S)/2):177,P=(0,u.default)().themeVariant,A=k.latestTradePrice,D=(0,x.useTokenPrice)({networkId:null!=(t=k.networkId)?t:"",tokenIdOnNetwork:"",vsCurrency:"usd"}),R=(null!=D?D:0)*(null!=A?A:0),E=(0,p.useMemo)((function(){return null!=k&&k.amount&&Number(null==k?void 0:k.amount)>1&&"erc1155"===k.ercType?(0,v.jsx)(s.default,{position:"absolute",right:"8px",bottom:"8px",title:`X ${(0,g.convertToMoneyFormat)(k.amount)}`,size:"sm",type:"default"}):null}),[null==k?void 0:k.amount,k.ercType]);return(0,v.jsx)(l.default,w(w({mb:"16px"},_),{},{children:(0,v.jsxs)(o.default,{flexDirection:"column",bgColor:"surface-default",padding:`${T}px`,overflow:"hidden",borderRadius:"12px",borderColor:"border-subdued",borderWidth:"light"===P?1:void 0,width:M,_hover:{bg:"surface-hovered"},onPress:function(){j&&j(k)},children:[(0,v.jsxs)(l.default,{position:"relative",children:[(0,v.jsx)(b.default,{asset:k,borderRadius:"6px",size:M-2*T}),E]}),(0,v.jsx)(a.default,{mt:`${T}px`,w:"100%",justifyContent:"space-between",children:(0,v.jsx)(i.default,{flex:1,typography:"Body2",height:"20px",numberOfLines:1,children:null!=(n=null!=(r=k.name)?r:k.collection.contractName)?n:""})}),A?(0,v.jsx)(i.default,{typography:"Body2",height:"20px",color:"text-subdued",children:(0,v.jsx)(h.FormatCurrencyNumber,{value:0,decimals:2,convertValue:R>0?R:""})}):(0,v.jsx)(l.default,{height:"20px"})]})}))}))},140368:(e,t,n)=>{"use strict";n.r(t),n.d(t,{gtIgnore:()=>l,gteIgnore:()=>i,ltIgnore:()=>u,lteIgnore:()=>s});var r=n(197699),o=n.n(r);function a(e,t,n,r){var a=o().parse(e),i=o().parse(t);if(null===a||null===i)return!1;if("major"===n)throw new Error("major is not supported");return"minor"===n&&(a.minor=0,i.minor=0),"minor"!==n&&"patch"!==n||(a.patch=0,i.patch=0),r(a.format(),i.format())}var i=function(e,t,n){return a(e,t,n,o().gte)},l=function(e,t,n){return a(e,t,n,o().gt)},s=function(e,t,n){return a(e,t,n,o().lte)},u=function(e,t,n){return a(e,t,n,o().lt)}},55337:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/logo.b0cff82fee531cbed919.png"},345075:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/lido_pool.3f0c026b6b7b13591af6.png"},898621:()=>{},239148:()=>{},89170:e=>{"use strict";e.exports=JSON.parse('{"v":"5.9.6","fr":25,"ip":0,"op":375,"w":200,"h":200,"nm":"\u5408\u6210 3","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":2,"ty":4,"nm":"\u5f62\u72b6\u56fe\u5c42 3","td":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[99.875,100,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[659,659,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":2,"ty":"el","s":{"a":0,"k":[20,20],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"\u692d\u5706\u8def\u5f84 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[100]},{"t":375,"s":[0]}],"ix":2},"o":{"a":0,"k":280,"ix":3},"m":1,"ix":2,"nm":"\u4fee\u526a\u8def\u5f84 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.282352941176,0.282352941176,0.356862745098,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":14,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"\u63cf\u8fb9 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.121568627451,0.121568627451,0.219607843137,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u692d\u5706 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"\u201ccircle-reverse-plus\u201d\u8f6e\u5ed3 2","tt":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[100.148,99.656,0],"ix":2,"l":2},"a":{"a":0,"k":[10,10,0],"ix":1,"l":2},"s":{"a":0,"k":[1000,1000,100],"ix":6,"l":2}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-0.203,0.41],[-0.203,20.41],[19.797,20.41],[19.797,0.41]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"\u8499\u7248 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-0.141,-0.14],[-0.199,0],[0,0],[0,0.414],[0.414,0],[0,0],[0,0],[-0.969,0.259],[-0.465,0.002],[-0.014,0],[-0.086,-0.004],[-0.633,-2.362],[-0.03,-0.054],[0,-0.429],[3.038,0],[0.224,2.831],[0.413,-0.033],[-0.032,-0.412],[-3.677,0],[0,3.866],[3.671,0.216],[0.756,-0.203],[0.841,-0.842],[0,0],[0,0],[0.414,0],[0,-0.414]],"o":[[0,0.199],[0.14,0.141],[0,0],[0.414,0],[0,-0.414],[0,0],[0,0],[0.66,-0.661],[0.469,-0.126],[0.014,0.001],[0.087,0],[2.317,0.12],[0.017,0.062],[0.093,0.401],[0,3.038],[-2.889,0],[-0.033,-0.413],[-0.413,0.032],[0.286,3.605],[3.866,0],[0,-3.726],[-0.74,-0.046],[-1.23,0.329],[0,0],[0,0],[0,-0.414],[-0.414,0],[0,0]],"v":[[-6.782,-2.419],[-6.562,-1.889],[-6.032,-1.669],[-1.789,-1.669],[-1.039,-2.419],[-1.789,-3.169],[-4.221,-3.169],[-3.91,-3.48],[-1.444,-4.902],[-0.038,-5.09],[0.005,-5.09],[0.265,-5.083],[5.292,-1.012],[5.363,-0.837],[5.505,0.41],[0.005,5.911],[-5.477,0.852],[-6.284,0.163],[-6.973,0.969],[0.005,7.411],[7.005,0.41],[0.423,-6.577],[-1.833,-6.35],[-4.972,-4.54],[-5.282,-4.23],[-5.281,-6.661],[-6.031,-7.411],[-6.781,-6.661]],"c":true},"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.83137254902,0.83137254902,0.866666666667,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[9.995,9.589],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u7ec4 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"\u201ccircle-reverse-plus\u201d\u8f6e\u5ed3 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":-360,"ix":10},"p":{"a":0,"k":[100.148,99.656,0],"ix":2,"l":2},"a":{"a":0,"k":[10,10,0],"ix":1,"l":2},"s":{"a":0,"k":[1000,1000,100],"ix":6,"l":2}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-0.203,0.41],[-0.203,20.41],[19.797,20.41],[19.797,0.41]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"\u8499\u7248 1"}],"ef":[{"ty":26,"nm":"\u5f84\u5411\u64e6\u9664","np":7,"mn":"ADBE Radial Wipe","ix":1,"en":1,"ef":[{"ty":0,"nm":"\u8fc7\u6e21\u5b8c\u6210","mn":"ADBE Radial Wipe-0001","ix":1,"v":{"a":0,"k":0,"ix":1}},{"ty":0,"nm":"\u8d77\u59cb\u89d2\u5ea6","mn":"ADBE Radial Wipe-0002","ix":2,"v":{"a":0,"k":-90,"ix":2}},{"ty":3,"nm":"\u64e6\u9664\u4e2d\u5fc3","mn":"ADBE Radial Wipe-0003","ix":3,"v":{"a":0,"k":[100,100],"ix":3}},{"ty":7,"nm":"\u64e6\u9664","mn":"ADBE Radial Wipe-0004","ix":4,"v":{"a":0,"k":2,"ix":4}},{"ty":0,"nm":"\u7fbd\u5316","mn":"ADBE Radial Wipe-0005","ix":5,"v":{"a":0,"k":0,"ix":5}}]}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-0.141,-0.14],[-0.199,0],[0,0],[0,0.414],[0.414,0],[0,0],[0,0],[-0.969,0.259],[-0.465,0.002],[-0.014,0],[-0.086,-0.004],[-0.633,-2.362],[-0.03,-0.054],[0,-0.429],[3.038,0],[0.224,2.831],[0.413,-0.033],[-0.032,-0.412],[-3.677,0],[0,3.866],[3.671,0.216],[0.756,-0.203],[0.841,-0.842],[0,0],[0,0],[0.414,0],[0,-0.414]],"o":[[0,0.199],[0.14,0.141],[0,0],[0.414,0],[0,-0.414],[0,0],[0,0],[0.66,-0.661],[0.469,-0.126],[0.014,0.001],[0.087,0],[2.317,0.12],[0.017,0.062],[0.093,0.401],[0,3.038],[-2.889,0],[-0.033,-0.413],[-0.413,0.032],[0.286,3.605],[3.866,0],[0,-3.726],[-0.74,-0.046],[-1.23,0.329],[0,0],[0,0],[0,-0.414],[-0.414,0],[0,0]],"v":[[-6.782,-2.419],[-6.562,-1.889],[-6.032,-1.669],[-1.789,-1.669],[-1.039,-2.419],[-1.789,-3.169],[-4.221,-3.169],[-3.91,-3.48],[-1.444,-4.902],[-0.038,-5.09],[0.005,-5.09],[0.265,-5.083],[5.292,-1.012],[5.363,-0.837],[5.505,0.41],[0.005,5.911],[-5.477,0.852],[-6.284,0.163],[-6.973,0.969],[0.005,7.411],[7.005,0.41],[0.423,-6.577],[-1.833,-6.35],[-4.972,-4.54],[-5.282,-4.23],[-5.281,-6.661],[-6.031,-7.411],[-6.781,-6.661]],"c":true},"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.121568627451,0.121568627451,0.219607843137,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[9.995,9.589],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u7ec4 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"ct":1,"bm":0}],"markers":[]}')},889037:e=>{"use strict";e.exports=JSON.parse('{"v":"5.9.6","fr":25,"ip":0,"op":375,"w":200,"h":200,"nm":"\u5408\u6210 3","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":2,"ty":4,"nm":"\u5f62\u72b6\u56fe\u5c42 3","td":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[99.875,100,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[659,659,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":2,"ty":"el","s":{"a":0,"k":[20,20],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"\u692d\u5706\u8def\u5f84 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[100]},{"t":375,"s":[0]}],"ix":2},"o":{"a":0,"k":280,"ix":3},"m":1,"ix":2,"nm":"\u4fee\u526a\u8def\u5f84 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.282352941176,0.282352941176,0.356862745098,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":14,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"\u63cf\u8fb9 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.886274509804,0.886274509804,0.909803921569,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u692d\u5706 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"\u201ccircle-reverse-plus\u201d\u8f6e\u5ed3 2","tt":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[100.148,99.656,0],"ix":2,"l":2},"a":{"a":0,"k":[10,10,0],"ix":1,"l":2},"s":{"a":0,"k":[1000,1000,100],"ix":6,"l":2}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-0.203,0.41],[-0.203,20.41],[19.797,20.41],[19.797,0.41]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"\u8499\u7248 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-0.141,-0.14],[-0.199,0],[0,0],[0,0.414],[0.414,0],[0,0],[0,0],[-0.969,0.259],[-0.465,0.002],[-0.014,0],[-0.086,-0.004],[-0.633,-2.362],[-0.03,-0.054],[0,-0.429],[3.038,0],[0.224,2.831],[0.413,-0.033],[-0.032,-0.412],[-3.677,0],[0,3.866],[3.671,0.216],[0.756,-0.203],[0.841,-0.842],[0,0],[0,0],[0.414,0],[0,-0.414]],"o":[[0,0.199],[0.14,0.141],[0,0],[0.414,0],[0,-0.414],[0,0],[0,0],[0.66,-0.661],[0.469,-0.126],[0.014,0.001],[0.087,0],[2.317,0.12],[0.017,0.062],[0.093,0.401],[0,3.038],[-2.889,0],[-0.033,-0.413],[-0.413,0.032],[0.286,3.605],[3.866,0],[0,-3.726],[-0.74,-0.046],[-1.23,0.329],[0,0],[0,0],[0,-0.414],[-0.414,0],[0,0]],"v":[[-6.782,-2.419],[-6.562,-1.889],[-6.032,-1.669],[-1.789,-1.669],[-1.039,-2.419],[-1.789,-3.169],[-4.221,-3.169],[-3.91,-3.48],[-1.444,-4.902],[-0.038,-5.09],[0.005,-5.09],[0.265,-5.083],[5.292,-1.012],[5.363,-0.837],[5.505,0.41],[0.005,5.911],[-5.477,0.852],[-6.284,0.163],[-6.973,0.969],[0.005,7.411],[7.005,0.41],[0.423,-6.577],[-1.833,-6.35],[-4.972,-4.54],[-5.282,-4.23],[-5.281,-6.661],[-6.031,-7.411],[-6.781,-6.661]],"c":true},"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.282352941176,0.282352941176,0.356862745098,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[9.995,9.589],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u7ec4 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"\u201ccircle-reverse-plus\u201d\u8f6e\u5ed3 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":-360,"ix":10},"p":{"a":0,"k":[100.148,99.656,0],"ix":2,"l":2},"a":{"a":0,"k":[10,10,0],"ix":1,"l":2},"s":{"a":0,"k":[1000,1000,100],"ix":6,"l":2}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-0.203,0.41],[-0.203,20.41],[19.797,20.41],[19.797,0.41]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"\u8499\u7248 1"}],"ef":[{"ty":26,"nm":"\u5f84\u5411\u64e6\u9664","np":7,"mn":"ADBE Radial Wipe","ix":1,"en":1,"ef":[{"ty":0,"nm":"\u8fc7\u6e21\u5b8c\u6210","mn":"ADBE Radial Wipe-0001","ix":1,"v":{"a":0,"k":0,"ix":1}},{"ty":0,"nm":"\u8d77\u59cb\u89d2\u5ea6","mn":"ADBE Radial Wipe-0002","ix":2,"v":{"a":0,"k":-90,"ix":2}},{"ty":3,"nm":"\u64e6\u9664\u4e2d\u5fc3","mn":"ADBE Radial Wipe-0003","ix":3,"v":{"a":0,"k":[100,100],"ix":3}},{"ty":7,"nm":"\u64e6\u9664","mn":"ADBE Radial Wipe-0004","ix":4,"v":{"a":0,"k":2,"ix":4}},{"ty":0,"nm":"\u7fbd\u5316","mn":"ADBE Radial Wipe-0005","ix":5,"v":{"a":0,"k":0,"ix":5}}]}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-0.141,-0.14],[-0.199,0],[0,0],[0,0.414],[0.414,0],[0,0],[0,0],[-0.969,0.259],[-0.465,0.002],[-0.014,0],[-0.086,-0.004],[-0.633,-2.362],[-0.03,-0.054],[0,-0.429],[3.038,0],[0.224,2.831],[0.413,-0.033],[-0.032,-0.412],[-3.677,0],[0,3.866],[3.671,0.216],[0.756,-0.203],[0.841,-0.842],[0,0],[0,0],[0.414,0],[0,-0.414]],"o":[[0,0.199],[0.14,0.141],[0,0],[0.414,0],[0,-0.414],[0,0],[0,0],[0.66,-0.661],[0.469,-0.126],[0.014,0.001],[0.087,0],[2.317,0.12],[0.017,0.062],[0.093,0.401],[0,3.038],[-2.889,0],[-0.033,-0.413],[-0.413,0.032],[0.286,3.605],[3.866,0],[0,-3.726],[-0.74,-0.046],[-1.23,0.329],[0,0],[0,0],[0,-0.414],[-0.414,0],[0,0]],"v":[[-6.782,-2.419],[-6.562,-1.889],[-6.032,-1.669],[-1.789,-1.669],[-1.039,-2.419],[-1.789,-3.169],[-4.221,-3.169],[-3.91,-3.48],[-1.444,-4.902],[-0.038,-5.09],[0.005,-5.09],[0.265,-5.083],[5.292,-1.012],[5.363,-0.837],[5.505,0.41],[0.005,5.911],[-5.477,0.852],[-6.284,0.163],[-6.973,0.969],[0.005,7.411],[7.005,0.41],[0.423,-6.577],[-1.833,-6.35],[-4.972,-4.54],[-5.282,-4.23],[-5.281,-6.661],[-6.031,-7.411],[-6.781,-6.661]],"c":true},"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.886274509804,0.886274509804,0.909803921569,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[9.995,9.589],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u7ec4 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"ct":1,"bm":0}],"markers":[]}')}}]);